{"version":3,"sources":["js/modal.js","js/popupNotify.js","../node_modules/slim-select/dist/slimselect.min.js","js/dropdownSelector.js","../node_modules/imask/esm/_rollupPluginBabelHelpers-3c58f0e3.js","../node_modules/imask/esm/core/utils.js","../node_modules/imask/esm/core/action-details.js","../node_modules/imask/esm/core/change-details.js","../node_modules/imask/esm/core/continuous-tail-details.js","../node_modules/imask/esm/core/holder.js","../node_modules/imask/esm/masked/base.js","../node_modules/imask/esm/masked/factory.js","../node_modules/imask/esm/masked/pattern/input-definition.js","../node_modules/imask/esm/masked/pattern/fixed-definition.js","../node_modules/imask/esm/masked/pattern/chunk-tail-details.js","../node_modules/imask/esm/masked/regexp.js","../node_modules/imask/esm/masked/pattern.js","../node_modules/imask/esm/masked/range.js","../node_modules/imask/esm/masked/date.js","../node_modules/imask/esm/controls/mask-element.js","../node_modules/imask/esm/controls/html-mask-element.js","../node_modules/imask/esm/controls/html-contenteditable-mask-element.js","../node_modules/imask/esm/controls/input.js","../node_modules/imask/esm/imask.js","../node_modules/imask/esm/masked/enum.js","../node_modules/imask/esm/masked/number.js","../node_modules/imask/esm/masked/function.js","../node_modules/imask/esm/masked/dynamic.js","../node_modules/imask/esm/masked/pipe.js","../node_modules/imask/esm/index.js","js/sendHttpRequest.js","js/forms-logic.js","../node_modules/zenscroll/zenscroll.js","js/xmas-main.js","../node_modules/parcel-bundler/src/builtins/bundle-url.js","../node_modules/parcel-bundler/src/builtins/css-loader.js","../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["msgWindow","document","getElementById","msgBackdrop","msgExit","closeMsg","setAttribute","querySelector","style","overflow","addEventListener","event","reqWindow","reqBackdrop","reqExit","closeReq","template","createElement","innerHTML","PopupNotify","attachShadow","mode","shadowRoot","appendChild","content","cloneNode","expandState","tooltip","alert","cancel","backdrop","transform","display","getAttribute","background","color","bottom","top","transformOrigin","window","innerWidth","width","right","HTMLElement","ShadowRoot","customElements","define","e","t","exports","module","amd","SlimSelect","s","n","m","i","bubbles","cancelable","detail","createEvent","initCustomEvent","__esModule","hasClassInTree","classList","contains","parentNode","ensureElementInView","scrollTop","offsetTop","clientHeight","a","putContent","offsetHeight","getBoundingClientRect","o","innerHeight","debounce","l","arguments","length","self","clearTimeout","setTimeout","apply","isValueInArrayOfObjects","Array","isArray","highlight","RegExp","trim","match","index","toString","substring","replace","kebabCase","toLowerCase","toUpperCase","CustomEvent","prototype","Event","newOption","id","String","Math","floor","random","value","text","selected","disabled","placeholder","class","data","mandatory","add","push","parseSelectData","main","select","element","childNodes","nodeName","label","options","pullOptionData","config","placeholderText","dataset","className","cssText","setSelectedFromSelect","isMultiple","getObjectFromData","setSelected","selectedIndex","hasOwnProperty","r","shouldBeSelected","getSelected","addToSelected","removeFromSelected","onDataChange","onChange","isOnChangeEnabled","JSON","parse","stringify","search","searchValue","searchFilter","slice","map","filter","Object","assign","filtered","contentOpen","contentPosition","console","error","Data","validateData","validateOption","c","validate","Error","tagName","set","setValue","render","close","setData","isAjax","reverse","unshift","create","addData","open","isEnabled","beforeOpen","slim","multiSelected","plus","singleSelected","arrowIcon","arrow","remove","container","openAbove","openBelow","addToBody","height","scrollY","left","scrollX","showContent","moveContentAbove","moveContentBelow","list","searchFocus","input","focus","afterOpen","timeoutDelay","beforeClose","removeAttribute","blur","afterClose","margin","enable","triggerMutationObserver","disable","isSearching","ajax","setSearchText","searchText","values","deselect","destroy","removeEventListener","documentClick","windowScroll","ssid","parentElement","removeChild","body","addable","beforeOnChange","target","Config","showSearch","searchPlaceholder","searchingText","searchHighlight","closeOnSelect","allowDeselect","allowDeselectOption","hideSelectedOption","deselectLabel","valuesUseText","showOptionTooltips","selectByGroup","limit","Select","Slim","insertBefore","nextSibling","default","indexOf","valueText","valueDelete","searchHighlighter","optgroup","optgroupLabel","optgroupLabelSelectable","option","optionSelected","highlighted","hide","split","multiple","dispatchEvent","addAttributes","tabIndex","addEventListeners","addMutationObserver","mutationObserver","MutationObserver","forEach","attributeName","updateContainerDivClass","observeMutationObserver","observe","attributes","childList","characterData","disconnectMutationObserver","disconnect","createOption","keys","containerDiv","singleSelectedDiv","onclick","stopPropagation","outerHTML","multiSelectedDiv","d","h","u","p","insertAdjacentElement","valueDiv","f","preventDefault","splice","contentDiv","searchDiv","readOnly","type","onkeydown","key","highlightUp","highlightDown","onkeyup","ctrlKey","click","onfocus","previousSibling","querySelectorAll","listDiv","children","textContent","defineProperty","enumerable","get","Symbol","toStringTag","bind","call","regions","regionSelector","_typeof","obj","iterator","constructor","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","configurable","writable","_createClass","protoProps","staticProps","_defineProperty","_inherits","subClass","superClass","_setPrototypeOf","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","_objectWithoutPropertiesLoose","source","excluded","sourceKeys","_objectWithoutProperties","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_assertThisInitialized","ReferenceError","_possibleConstructorReturn","_superPropBase","object","property","_get","receiver","Reflect","base","desc","getOwnPropertyDescriptor","_set","isStrict","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","_arr","_n","_d","_e","undefined","_i","_s","next","done","err","isString","str","DIRECTION","NONE","LEFT","FORCE_LEFT","RIGHT","FORCE_RIGHT","indexInDirection","pos","direction","posInDirection","forceDirection","escapeRegExp","objectIncludes","b","arrA","arrB","dateA","Date","dateB","getTime","regexpA","regexpB","ActionDetails","cursorPos","oldValue","oldSelection","startChangePos","start","min","substr","insertedCount","max","end","removedCount","ChangeDetails","details","inserted","rawInserted","skip","tailShift","aggregate","ContinuousTailDetails","from","stop","extend","tail","appendTo","masked","append","_appendPlaceholder","shiftBefore","shiftChar","state","IMask","el","opts","InputMask","Masked","_value","_update","DEFAULTS","isInitialized","updateOptions","withValueRefresh","reset","resolve","doCommit","nearestInputPos","extractInput","fromPos","toPos","extractTail","appendTail","_appendCharRaw","ch","flags","doPrepare","_appendChar","checkTail","consistentState","consistentTail","appended","doValidate","beforeTailState","overwrite","tailDetails","_beforeTailState","ci","fn","_refreshing","rawInput","rawInputValue","ret","runIsolated","_isolated","prepare","parent","commit","doFormat","format","doParse","deleteCount","removeDirection","tailPos","changeDetails","raw","v","maskedClass","mask","MaskedRegExp","MaskedPattern","MaskedDate","Number","MaskedNumber","MaskedDynamic","Function","MaskedFunction","warn","createMask","MaskedClass","DEFAULT_INPUT_DEFINITIONS","PatternInputDefinition","blockOpts","_isFilled","isOptional","lazy","placeholderChar","Boolean","_this$masked","_this$masked2","_this$masked3","minPos","maxPos","boundPos","isComplete","_this$masked4","_this$parent","unmaskedValue","PatternFixedDefinition","_isRawInput","char","isResolved","isUnmasking","ChunksTailDetails","chunks","join","tailChunk","lastChunk","extendLast","firstTailChunk","shift","blockIndex","chunk","lastBlockIter","_mapPosToBlock","chunkBlock","_stops","_blocks","remainChars","chunkShiftPos","cstate","_Masked","definitions","_rebuildMask","_this","defs","_maskedBlocks","pattern","unmaskingBlock","optionalBlock","blocks","_ret","bNames","bName","sort","maskedBlock","_isInput","STOP_CHAR","ESCAPE_CHAR","def","blockIter","bi","_block","blockDetails","_this2","chunkTail","_forEachBlocksInRange","bFromPos","bToPos","blockChunk","_findStopBefore","_blockStartPos","_","stopBefore","si","toBlockIndex","_this3","startBlockIter","startBlockIndex","endBlockIndex","args","bDetails","accVal","_block2","blockStartPos","offset","reduce","fromBlockIter","toBlockIter","isSameBlock","fromBlockStartPos","fromBlockEndPos","removeDetails","beginBlockData","beginBlockOffset","beginBlockIndex","beginBlock","beginBlockCursorPos","cursorAtRight","cursorAtLeft","searchBlockIndex","blockIndexAtLeft","blockAtLeft","blockInputPos","firstInputAtRight","blockAtRight","_blockInputPos","_bi","_block3","_blockInputPos2","firstFilledBlockIndexAtRight","_bi2","filledBlock","_blockInputPos3","firstFilledInputBlockIndex","firstEmptyInputBlockIndex","_bi3","_block4","_blockInputPos4","_bi4","_block5","_blockInputPos5","blockAlignedPos","isInput","_bi5","_block6","_blockInputPos6","firstInputBlockAlignedIndex","firstInputBlockAlignedPos","_bi6","_block7","_blockInputPos7","_bi7","_block8","_blockInputPos8","_bi8","_block9","_blockInputPos9","alignedPos","name","maskedBlocks","_this4","indices","gi","maskedState","every","InputDefinition","FixedDefinition","block","MaskedRange","_MaskedPattern","to","maxLength","fromStr","padStart","toStr","sameCharsCount","repeat","boundaries","minstr","maxstr","_ref","_ref2","num","padEnd","autofix","val","prepStr","nextVal","_this$boundaries","_this$boundaries2","_get2","firstNonZero","_matchFrom","_this$boundaries3","_this$boundaries4","_len","_key","concat","GET_DEFAULT_BLOCKS","Y","getFullYear","getMonth","getDate","bk","date","isDateExist","typedValue","day","month","year","_str$split","_str$split2","MaskElement","selectionStart","selectionEnd","_unsafeSelect","bindEvents","handlers","unbindEvents","_unsafeSelectionStart","_unsafeSelectionEnd","HTMLMaskElement","_MaskElement","_handlers","setSelectionRange","_toggleEventHandler","EVENTS_MAP","handler","getRootNode","rootElement","activeElement","selectionChange","drop","HTMLContenteditableMaskElement","_HTMLMaskElement","createRange","range","setStart","firstChild","setEnd","lastChild","root","selection","getSelection","removeAllRanges","addRange","anchorOffset","isContentEditable","_listeners","_unmaskedValue","_saveSelection","_onInput","_onChange","_onDrop","_onFocus","_onClick","alignCursor","alignCursorFriendly","_bindEvents","updateValue","maskEquals","_unbindEvents","_fireEvent","ev","listeners","_selection","updateControl","newUnmaskedValue","newValue","isChanged","_fireChangeEvents","restOpts","updateMask","updateOpts","updateCursor","_delayUpdateCursor","_abortUpdateCursor","_changingCursorPos","_cursorChanging","_inputEvent","on","off","hIndex","oldRawValue","removed","isActive","MaskedEnum","enum","some","_updateRegExps","allowNegative","midInput","mid","scale","radix","_numberRegExpInput","_numberRegExp","_mapToRadixRegExp","mapToRadix","_thousandsSeparatorRegExp","thousandsSeparator","_removeThousandsSeparators","_insertThousandsSeparators","parts","_separatorsCount","extendOnSeparators","count","_separatorsCountFromSlice","_this$_adjustRangeWit","_adjustRangeWithSeparators","_this$_adjustRangeWit2","prevBeforeTailValue","prevBeforeTailSeparatorsCount","appendDetails","beforeTailValue","beforeTailSeparatorsCount","_findSeparatorAround","searchFrom","separatorPos","separatorAroundFromPos","separatorAroundToPos","_this$_adjustRangeWit3","_this$_adjustRangeWit4","valueBeforePos","valueAfterPos","separatorAtLeftPos","separatorAtLeftEndPos","separatorAtRightPos","regexp","valid","test","number","isNaN","validnum","formatted","normalizeZeros","_normalizeZeros","padFractionalZeros","_padFractionalZeros","sign","zeros","signed","currentMask","compiledMasks","_applyDispatch","_this$currentMask","prevValueBeforeTail","inputValue","insertValue","_rawInputValue","tailValue","prevMask","prevMaskState","doDispatch","dispatch","_this$currentMask2","_this$currentMask3","_this$currentMask4","_this$currentMask5","_get3","_len2","_key2","_this$currentMask6","_get4","_len3","_key3","currentMaskRef","mi","inputs","weight","i1","i2","PIPE_TYPE","MASKED","UNMASKED","TYPED","createPipe","pipe","pipeArgs","globalThis","sendHttpRequest","url","method","Promise","reject","xhr","XMLHttpRequest","setRequestHeader","responseType","onload","status","response","onerror","statusText","errors","send","inputMaskPhoneOptions","inputMaskTimeOptions","REGEX_PHONE","REGEX_NAME","REGEX_TIME","setCssValid","nextElementSibling","showCheck","colorSuccess","setCssInvalid","hideCheck","colorWarning","validateField","inputMask","borderColor","handleFormByID","form","elements","namedItem","phone","inputMaskPhone","finName","finPhone","insType","email","individual","comment","agreement","region","then","res","catch","rej","errorMessageHTML","listOfErrors","listOfErrorsHTML","inputMaskFrom","till","inputMaskTill","city","finCity","finFrom","finTill","timeFrom","timeTo","callbackForm","requestForm","zenScroll","setup","bundleURL","getBundleURLCached","getBundleURL","matches","stack","getBaseURL","bundle","require","updateLink","link","newLink","href","now","cssTimeout","reloadCSS","links","OVERLAY_ID","OldModule","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","dispose","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","generated","js","clear","hmrApply","hmrAcceptRun","reload","onclose","log","removeErrorOverlay","message","overlay","createErrorOverlay","stackTrace","innerText","getParents","modules","parents","k","dep","deps","cached","cache","cb"],"mappings":"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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrWA;;AACA;;AAEA;;AACA;;AACA;;AACA;;;;AAJA;AAMA;AACA,IAAM6B,YAAY,GAAG,gCAAe,eAAf,CAArB;AACA,IAAMC,WAAW,GAAG,gCAAe,cAAf,CAApB,EAEA;;AACAC,mBAAUC,KAAV,CAAgB,IAAhB,EAAsB,CAAtB,GAA0B;AAE1B;;;AGfA,IAAIiB,UAAU,GAAG,4BAAjB;AAEA,IAAIC,SAAS,GAAGp4B,MAAM,CAACy3B,MAAP,CAAcY,MAA9B;;AAEA,SAASA,MAAT,CAAgBC,UAAhB,EAA4B;AAC1BF,EAAAA,SAAS,CAACtnB,IAAV,CAAe,IAAf,EAAqBwnB,UAArB;AACA,OAAKC,GAAL,GAAW;AACTv0B,IAAAA,IAAI,EAAEhE,MAAM,CAACy3B,MAAP,CAAce,OADX;AAETC,IAAAA,gBAAgB,EAAE,EAFT;AAGTC,IAAAA,iBAAiB,EAAE,EAHV;AAITC,IAAAA,MAAM,EAAE,UAAUle,EAAV,EAAc;AACpB,WAAKge,gBAAL,CAAsBt0B,IAAtB,CAA2BsW,EAAE,IAAI,YAAY,CAAE,CAA/C;AACD,KANQ;AAOTme,IAAAA,OAAO,EAAE,UAAUne,EAAV,EAAc;AACrB,WAAKie,iBAAL,CAAuBv0B,IAAvB,CAA4BsW,EAA5B;AACD;AATQ,GAAX;AAYAza,EAAAA,MAAM,CAACy3B,MAAP,CAAce,OAAd,GAAwB,IAAxB;AACD;;AAEDx4B,MAAM,CAACy3B,MAAP,CAAcY,MAAd,GAAuBA,MAAvB;AACA,IAAIQ,aAAJ,EAAmBC,cAAnB;AAEA,IAAI7d,MAAM,GAAGjb,MAAM,CAACy3B,MAAP,CAAcxc,MAA3B;;AACA,IAAI,CAAC,CAACA,MAAD,IAAW,CAACA,MAAM,CAAC8d,eAApB,KAAwC,OAAOC,SAAP,KAAqB,WAAjE,EAA8E;AAC5E,MAAIC,QAAQ,GAAG,MAA4BC,QAAQ,CAACD,QAApD;AACA,MAAIE,QAAQ,GAAGD,QAAQ,CAACC,QAAT,KAAsB,QAAtB,GAAiC,KAAjC,GAAyC,IAAxD;AACA,MAAIC,EAAE,GAAG,IAAIJ,SAAJ,CAAcG,QAAQ,GAAG,KAAX,GAAmBF,QAAnB,GAA8B,GAA9B,aAA2D,GAAzE,CAAT;;AACAG,EAAAA,EAAE,CAACC,SAAH,GAAe,UAAS57B,KAAT,EAAgB;AAC7Bo7B,IAAAA,aAAa,GAAG,EAAhB;AACAC,IAAAA,cAAc,GAAG,EAAjB;AAEA,QAAI90B,IAAI,GAAGgC,IAAI,CAACC,KAAL,CAAWxI,KAAK,CAACuG,IAAjB,CAAX;;AAEA,QAAIA,IAAI,CAAC0L,IAAL,KAAc,QAAlB,EAA4B;AAC1B,UAAI4pB,OAAO,GAAG,KAAd;AACAt1B,MAAAA,IAAI,CAACu1B,MAAL,CAAY3rB,OAAZ,CAAoB,UAAS4rB,KAAT,EAAgB;AAClC,YAAI,CAACA,KAAK,CAACC,KAAX,EAAkB;AAChB,cAAIC,SAAS,GAAGC,cAAc,CAACC,MAAM,CAACC,aAAR,EAAuBL,KAAK,CAACn2B,EAA7B,CAA9B;;AACA,cAAIq2B,SAAJ,EAAe;AACbJ,YAAAA,OAAO,GAAG,IAAV;AACD;AACF;AACF,OAPD,EAF0B,CAW1B;;AACAA,MAAAA,OAAO,GAAGA,OAAO,IAAIt1B,IAAI,CAACu1B,MAAL,CAAY7T,KAAZ,CAAkB,UAAS8T,KAAT,EAAgB;AACrD,eAAOA,KAAK,CAAC9pB,IAAN,KAAe,KAAf,IAAwB8pB,KAAK,CAACM,SAAN,CAAgBC,EAA/C;AACD,OAFoB,CAArB;;AAIA,UAAIT,OAAJ,EAAa;AACXxyB,QAAAA,OAAO,CAACkzB,KAAR;AAEAh2B,QAAAA,IAAI,CAACu1B,MAAL,CAAY3rB,OAAZ,CAAoB,UAAU4rB,KAAV,EAAiB;AACnCS,UAAAA,QAAQ,CAACL,MAAM,CAACC,aAAR,EAAuBL,KAAvB,CAAR;AACD,SAFD;AAIAV,QAAAA,cAAc,CAAClrB,OAAf,CAAuB,UAAU+N,CAAV,EAAa;AAClCue,UAAAA,YAAY,CAACve,CAAC,CAAC,CAAD,CAAF,EAAOA,CAAC,CAAC,CAAD,CAAR,CAAZ;AACD,SAFD;AAGD,OAVD,MAUO,IAAIud,QAAQ,CAACiB,MAAb,EAAqB;AAAE;AAC5BjB,QAAAA,QAAQ,CAACiB,MAAT;AACD;AACF;;AAED,QAAIn2B,IAAI,CAAC0L,IAAL,KAAc,QAAlB,EAA4B;AAC1B0pB,MAAAA,EAAE,CAAC1xB,KAAH;;AACA0xB,MAAAA,EAAE,CAACgB,OAAH,GAAa,YAAY;AACvBlB,QAAAA,QAAQ,CAACiB,MAAT;AACD,OAFD;AAGD;;AAED,QAAIn2B,IAAI,CAAC0L,IAAL,KAAc,gBAAlB,EAAoC;AAClC5I,MAAAA,OAAO,CAACuzB,GAAR,CAAY,2BAAZ;AAEAC,MAAAA,kBAAkB;AACnB;;AAED,QAAIt2B,IAAI,CAAC0L,IAAL,KAAc,OAAlB,EAA2B;AACzB5I,MAAAA,OAAO,CAACC,KAAR,CAAc,kBAAkB/C,IAAI,CAAC+C,KAAL,CAAWwzB,OAA7B,GAAuC,IAAvC,GAA8Cv2B,IAAI,CAAC+C,KAAL,CAAWwwB,KAAvE;AAEA+C,MAAAA,kBAAkB;AAElB,UAAIE,OAAO,GAAGC,kBAAkB,CAACz2B,IAAD,CAAhC;AACAjH,MAAAA,QAAQ,CAACkO,IAAT,CAAc5M,WAAd,CAA0Bm8B,OAA1B;AACD;AACF,GA1DD;AA2DD;;AAED,SAASF,kBAAT,GAA8B;AAC5B,MAAIE,OAAO,GAAGz9B,QAAQ,CAACC,cAAT,CAAwBm7B,UAAxB,CAAd;;AACA,MAAIqC,OAAJ,EAAa;AACXA,IAAAA,OAAO,CAAC9xB,MAAR;AACD;AACF;;AAED,SAAS+xB,kBAAT,CAA4Bz2B,IAA5B,EAAkC;AAChC,MAAIw2B,OAAO,GAAGz9B,QAAQ,CAACgB,aAAT,CAAuB,KAAvB,CAAd;AACAy8B,EAAAA,OAAO,CAACn3B,EAAR,GAAa80B,UAAb,CAFgC,CAIhC;;AACA,MAAIoC,OAAO,GAAGx9B,QAAQ,CAACgB,aAAT,CAAuB,KAAvB,CAAd;AACA,MAAI28B,UAAU,GAAG39B,QAAQ,CAACgB,aAAT,CAAuB,KAAvB,CAAjB;AACAw8B,EAAAA,OAAO,CAACI,SAAR,GAAoB32B,IAAI,CAAC+C,KAAL,CAAWwzB,OAA/B;AACAG,EAAAA,UAAU,CAACC,SAAX,GAAuB32B,IAAI,CAAC+C,KAAL,CAAWwwB,KAAlC;AAEAiD,EAAAA,OAAO,CAACx8B,SAAR,GACE,2NACE,mFADF,GAEE,yEAFF,GAGE,qEAHF,GAG0Eu8B,OAAO,CAACv8B,SAHlF,GAG8F,QAH9F,GAIE,OAJF,GAIY08B,UAAU,CAAC18B,SAJvB,GAImC,QAJnC,GAKA,QANF;AASA,SAAOw8B,OAAP;AAED;;AAED,SAASI,UAAT,CAAoBnD,MAApB,EAA4Bp0B,EAA5B,EAAgC;AAC9B,MAAIw3B,OAAO,GAAGpD,MAAM,CAACoD,OAArB;;AACA,MAAI,CAACA,OAAL,EAAc;AACZ,WAAO,EAAP;AACD;;AAED,MAAIC,OAAO,GAAG,EAAd;AACA,MAAIC,CAAJ,EAAOjsB,CAAP,EAAUksB,GAAV;;AAEA,OAAKD,CAAL,IAAUF,OAAV,EAAmB;AACjB,SAAK/rB,CAAL,IAAU+rB,OAAO,CAACE,CAAD,CAAP,CAAW,CAAX,CAAV,EAAyB;AACvBC,MAAAA,GAAG,GAAGH,OAAO,CAACE,CAAD,CAAP,CAAW,CAAX,EAAcjsB,CAAd,CAAN;;AACA,UAAIksB,GAAG,KAAK33B,EAAR,IAAejB,KAAK,CAACC,OAAN,CAAc24B,GAAd,KAAsBA,GAAG,CAACA,GAAG,CAACl5B,MAAJ,GAAa,CAAd,CAAH,KAAwBuB,EAAjE,EAAsE;AACpEy3B,QAAAA,OAAO,CAAC32B,IAAR,CAAa42B,CAAb;AACD;AACF;AACF;;AAED,MAAItD,MAAM,CAACxc,MAAX,EAAmB;AACjB6f,IAAAA,OAAO,GAAGA,OAAO,CAACnT,MAAR,CAAeiT,UAAU,CAACnD,MAAM,CAACxc,MAAR,EAAgB5X,EAAhB,CAAzB,CAAV;AACD;;AAED,SAAOy3B,OAAP;AACD;;AAED,SAASb,QAAT,CAAkBxC,MAAlB,EAA0B+B,KAA1B,EAAiC;AAC/B,MAAIqB,OAAO,GAAGpD,MAAM,CAACoD,OAArB;;AACA,MAAI,CAACA,OAAL,EAAc;AACZ;AACD;;AAED,MAAIA,OAAO,CAACrB,KAAK,CAACn2B,EAAP,CAAP,IAAqB,CAACo0B,MAAM,CAACxc,MAAjC,EAAyC;AACvC,QAAIR,EAAE,GAAG,IAAI2B,QAAJ,CAAa,SAAb,EAAwB,QAAxB,EAAkC,SAAlC,EAA6Cod,KAAK,CAACM,SAAN,CAAgBC,EAA7D,CAAT;AACAP,IAAAA,KAAK,CAACC,KAAN,GAAc,CAACoB,OAAO,CAACrB,KAAK,CAACn2B,EAAP,CAAtB;AACAw3B,IAAAA,OAAO,CAACrB,KAAK,CAACn2B,EAAP,CAAP,GAAoB,CAACoX,EAAD,EAAK+e,KAAK,CAACyB,IAAX,CAApB;AACD,GAJD,MAIO,IAAIxD,MAAM,CAACxc,MAAX,EAAmB;AACxBgf,IAAAA,QAAQ,CAACxC,MAAM,CAACxc,MAAR,EAAgBue,KAAhB,CAAR;AACD;AACF;;AAED,SAASG,cAAT,CAAwBlC,MAAxB,EAAgCp0B,EAAhC,EAAoC;AAClC,MAAIw3B,OAAO,GAAGpD,MAAM,CAACoD,OAArB;;AACA,MAAI,CAACA,OAAL,EAAc;AACZ;AACD;;AAED,MAAI,CAACA,OAAO,CAACx3B,EAAD,CAAR,IAAgBo0B,MAAM,CAACxc,MAA3B,EAAmC;AACjC,WAAO0e,cAAc,CAAClC,MAAM,CAACxc,MAAR,EAAgB5X,EAAhB,CAArB;AACD;;AAED,MAAIw1B,aAAa,CAACx1B,EAAD,CAAjB,EAAuB;AACrB;AACD;;AACDw1B,EAAAA,aAAa,CAACx1B,EAAD,CAAb,GAAoB,IAApB;AAEA,MAAI63B,MAAM,GAAGzD,MAAM,CAAC0D,KAAP,CAAa93B,EAAb,CAAb;AAEAy1B,EAAAA,cAAc,CAAC30B,IAAf,CAAoB,CAACszB,MAAD,EAASp0B,EAAT,CAApB;;AAEA,MAAI63B,MAAM,IAAIA,MAAM,CAAC3C,GAAjB,IAAwB2C,MAAM,CAAC3C,GAAP,CAAWE,gBAAX,CAA4B32B,MAAxD,EAAgE;AAC9D,WAAO,IAAP;AACD;;AAED,SAAO84B,UAAU,CAAChB,MAAM,CAACC,aAAR,EAAuBx2B,EAAvB,CAAV,CAAqCiqB,IAArC,CAA0C,UAAUjqB,EAAV,EAAc;AAC7D,WAAOs2B,cAAc,CAACC,MAAM,CAACC,aAAR,EAAuBx2B,EAAvB,CAArB;AACD,GAFM,CAAP;AAGD;;AAED,SAAS62B,YAAT,CAAsBzC,MAAtB,EAA8Bp0B,EAA9B,EAAkC;AAChC,MAAI63B,MAAM,GAAGzD,MAAM,CAAC0D,KAAP,CAAa93B,EAAb,CAAb;AACAo0B,EAAAA,MAAM,CAACe,OAAP,GAAiB,EAAjB;;AACA,MAAI0C,MAAJ,EAAY;AACVA,IAAAA,MAAM,CAAC3C,GAAP,CAAWv0B,IAAX,GAAkByzB,MAAM,CAACe,OAAzB;AACD;;AAED,MAAI0C,MAAM,IAAIA,MAAM,CAAC3C,GAAjB,IAAwB2C,MAAM,CAAC3C,GAAP,CAAWG,iBAAX,CAA6B52B,MAAzD,EAAiE;AAC/Do5B,IAAAA,MAAM,CAAC3C,GAAP,CAAWG,iBAAX,CAA6B9qB,OAA7B,CAAqC,UAAUwtB,EAAV,EAAc;AACjDA,MAAAA,EAAE,CAAC3D,MAAM,CAACe,OAAR,CAAF;AACD,KAFD;AAGD;;AAED,SAAOf,MAAM,CAAC0D,KAAP,CAAa93B,EAAb,CAAP;AACAo0B,EAAAA,MAAM,CAACp0B,EAAD,CAAN;AAEA63B,EAAAA,MAAM,GAAGzD,MAAM,CAAC0D,KAAP,CAAa93B,EAAb,CAAT;;AACA,MAAI63B,MAAM,IAAIA,MAAM,CAAC3C,GAAjB,IAAwB2C,MAAM,CAAC3C,GAAP,CAAWE,gBAAX,CAA4B32B,MAAxD,EAAgE;AAC9Do5B,IAAAA,MAAM,CAAC3C,GAAP,CAAWE,gBAAX,CAA4B7qB,OAA5B,CAAoC,UAAUwtB,EAAV,EAAc;AAChDA,MAAAA,EAAE;AACH,KAFD;;AAGA,WAAO,IAAP;AACD;AACF","file":"xmas-main.9b365464.js","sourceRoot":"../src","sourcesContent":["const msgWindow = document.getElementById('msgWindow');\nconst msgBackdrop = document.getElementById('msgBackdrop');\nconst msgExit = document.getElementById('msgExit');\n\nconst closeMsg = () => {\n  msgBackdrop.setAttribute(\n    'style',\n    'display:block; visibility:hidden; opacity: 0;'\n  );\n  msgWindow.setAttribute(\n    'style',\n    'display:block; visibility:hidden; opacity: 0;'\n  );\n  document.querySelector('body').style.overflow = 'visible';\n};\n\nmsgExit.addEventListener('click', event => {\n  closeMsg();\n});\n\nmsgBackdrop.addEventListener('click', event => {\n  closeMsg();\n});\n\n////////////////\n\nconst reqWindow = document.getElementById('reqWindow');\nconst reqBackdrop = document.getElementById('reqBackdrop');\nconst reqExit = document.getElementById('reqExit');\n\nconst closeReq = () => {\n  reqBackdrop.setAttribute(\n    'style',\n    'display:block; visibility:hidden; opacity: 0;'\n  );\n  reqWindow.setAttribute(\n    'style',\n    'display:block; visibility:hidden; opacity: 0;'\n  );\n  document.querySelector('body').style.overflow = 'visible';\n};\n\nreqExit.addEventListener('click', event => {\n  closeReq();\n});\n\nreqBackdrop.addEventListener('click', event => {\n  closeReq();\n});\n","const template = document.createElement('template');\ntemplate.innerHTML = `\n  <style>\n\n    .tooltip-container {\n      display: inline-block;\n      position: relative;\n      z-index: 2;\n    }\n    \n    .cancel {\n      display: none;\n    }\n\n    svg {\n      width: 12px;\n      cursor: pointer;\n    }\n\n    .notify-container {\n      position: absolute;\n      bottom: 125%;\n      z-index: 9;\n      width: 15.375rem;\n      height: max-content;\n      background: white; \n      box-shadow: 2px 6px 20px rgba(0, 0, 0, 0.25);\n      font-size: 0.75rem;\n      line-height: 0.9rem;\n      border-radius: 15px;\n      padding: 1rem;\n      transform: scale(0);\n      transform-origin: bottom left;\n      transition: transform .5s cubic-bezier(0.860, 0.000, 0.070, 1.000);\n    }\n\n    .tooltip-backdrop {\n      display: none;\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100vw;\n      height: 100vh;\n      z-index: 2;\n      background-color: transparent;\n    }\n    \n  </style>\n\n  <div class=\"tooltip-backdrop\"></div>\n  <div class=\"tooltip-container\">\n\n    <svg viewBox=\"0 0 12 12\" class=\"alert\" fill=\"none\" >\n    \n        <path d=\"M6 9.45703C6.3236 9.45703 6.58594 9.1947 6.58594 8.87109C6.58594 8.54749 6.3236 8.28516 6 8.28516C5.6764 8.28516 5.41406 8.54749 5.41406 8.87109C5.41406 9.1947 5.6764 9.45703 6 9.45703Z\" fill=\"#D2D2D2\"/>\n        <path d=\"M6 0C2.68397 0 0 2.68352 0 6C0 9.31603 2.68352 12 6 12C9.31603 12 12 9.31648 12 6C12 2.68397 9.31648 0 6 0ZM6 11.0625C3.2021 11.0625 0.9375 8.79827 0.9375 6C0.9375 3.2021 3.20173 0.9375 6 0.9375C8.7979 0.9375 11.0625 3.20173 11.0625 6C11.0625 8.7979 8.79827 11.0625 6 11.0625Z\" fill=\"#D2D2D2\"/>\n        <path d=\"M6 3.01172C4.96613 3.01172 4.125 3.85284 4.125 4.88672C4.125 5.14561 4.33486 5.35547 4.59375 5.35547C4.85264 5.35547 5.0625 5.14561 5.0625 4.88672C5.0625 4.36978 5.48306 3.94922 6 3.94922C6.51694 3.94922 6.9375 4.36978 6.9375 4.88672C6.9375 5.40366 6.51694 5.82422 6 5.82422C5.74111 5.82422 5.53125 6.03408 5.53125 6.29297V7.46484C5.53125 7.72373 5.74111 7.93359 6 7.93359C6.25889 7.93359 6.46875 7.72373 6.46875 7.46484V6.7024C7.27655 6.49373 7.875 5.7588 7.875 4.88672C7.875 3.85284 7.03387 3.01172 6 3.01172Z\" fill=\"#D2D2D2\"/>\n     \n    </svg>\n\n\n\n    <svg viewBox=\"0 0 28 28\" class=\"cancel\">\n      <g id=\"exit\" transform=\"translate(-943 -484)\">\n        <circle id=\"Эллипс_3\" data-name=\"Эллипс 3\" cx=\"14\" cy=\"14\" r=\"14\" transform=\"translate(943 484)\" fill=\"#2a3985\"/>\n        <rect id=\"Прямоугольник_1\" data-name=\"Прямоугольник 1\" width=\"2\" height=\"12\" transform=\"translate(952.197 494.818) rotate(-45)\" fill=\"#fff\"/>\n        <rect id=\"Прямоугольник_4\" data-name=\"Прямоугольник 4\" width=\"2\" height=\"12\" transform=\"translate(960.682 493.404) rotate(45)\" fill=\"#fff\"/>\n      </g>\n    </svg>\n\n    <div class=\"notify-container\">\n      <slot name=\"message\" />\n    </div>\n\n  </div>\n`;\n\nclass PopupNotify extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: 'open' });\n    this.shadowRoot.appendChild(template.content.cloneNode(true));\n  }\n  tooltip(expandState) {\n    const tooltip = this.shadowRoot.querySelector('.notify-container');\n    const alert = this.shadowRoot.querySelector('.alert');\n    const cancel = this.shadowRoot.querySelector('.cancel');\n    const backdrop = this.shadowRoot.querySelector('.tooltip-backdrop');\n    if (expandState == true) {\n      tooltip.style.transform = 'scale(1)';\n      alert.style.display = 'none';\n      cancel.style.display = 'block';\n      backdrop.style.display = 'block';\n    } else {\n      tooltip.style.transform = 'scale(0)';\n      alert.style.display = 'block';\n      cancel.style.display = 'none';\n      backdrop.style.display = 'none';\n    }\n  }\n  connectedCallback() {\n    this.shadowRoot.querySelector('.alert').addEventListener('click', () => {\n      this.tooltip(true);\n    });\n    this.shadowRoot.querySelector('.cancel').addEventListener('click', () => {\n      this.tooltip(false);\n    });\n    this.shadowRoot\n      .querySelector('.tooltip-backdrop')\n      .addEventListener('click', () => {\n        this.tooltip(false);\n      });\n    if (this.getAttribute('tip_background')) {\n      this.shadowRoot.querySelector(\n        '.notify-container'\n      ).style.background = this.getAttribute('tip_background');\n    }\n    if (this.getAttribute('tip_color')) {\n      this.shadowRoot.querySelector(\n        '.notify-container'\n      ).style.color = this.getAttribute('tip_color');\n    }\n    if (this.getAttribute('tip_position')) {\n      switch (this.getAttribute('tip_position')) {\n        case 'bottom':\n          {\n            this.shadowRoot.querySelector('.notify-container').style.bottom =\n              '0%';\n            this.shadowRoot.querySelector('.notify-container').style.top =\n              '125%';\n            this.shadowRoot.querySelector(\n              '.notify-container'\n            ).style.transformOrigin = 'top left';\n          }\n          break;\n        case 'top':\n          {\n            if (window.innerWidth < 758) {\n              this.shadowRoot.querySelector('.notify-container').style.width =\n                '10rem';\n              this.shadowRoot.querySelector('.notify-container').style.bottom =\n                '125%';\n              this.shadowRoot.querySelector('.notify-container').style.right =\n                '0%';\n              this.shadowRoot.querySelector(\n                '.notify-container'\n              ).style.transformOrigin = 'bottom right';\n            } else if (window.innerWidth < 1220) {\n              this.shadowRoot.querySelector('.notify-container').style.width =\n                '8rem';\n              this.shadowRoot.querySelector(\n                '.notify-container'\n              ).style.transformOrigin = 'bottom left';\n            } else {\n              this.shadowRoot.querySelector('.notify-container').style.bottom =\n                '125%';\n              this.shadowRoot.querySelector(\n                '.notify-container'\n              ).style.transformOrigin = 'bottom left';\n            }\n          }\n          break;\n        case 'top-left':\n          {\n            if (window.innerWidth < 758) {\n              this.shadowRoot.querySelector('.notify-container').style.width =\n                '10rem';\n            }\n            this.shadowRoot.querySelector('.notify-container').style.bottom =\n              '125%';\n            this.shadowRoot.querySelector('.notify-container').style.right =\n              '0%';\n            this.shadowRoot.querySelector(\n              '.notify-container'\n            ).style.transformOrigin = 'bottom right';\n          }\n          break;\n        default:\n          {\n            if (window.innerWidth < 758) {\n              this.shadowRoot.querySelector('.notify-container').style.width =\n                '10rem';\n              this.shadowRoot.querySelector('.notify-container').style.bottom =\n                '125%';\n              this.shadowRoot.querySelector('.notify-container').style.right =\n                '0%';\n              this.shadowRoot.querySelector(\n                '.notify-container'\n              ).style.transformOrigin = 'bottom right';\n            } else {\n              this.shadowRoot.querySelector('.notify-container').style.bottom =\n                '125%';\n              this.shadowRoot.querySelector(\n                '.notify-container'\n              ).style.transformOrigin = 'bottom left';\n            }\n          }\n          break;\n      }\n    }\n  }\n}\n\nif (typeof window.ShadowRoot === 'function') {\n  window.customElements.define('popup-notify', PopupNotify);\n}\n","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.SlimSelect=t():e.SlimSelect=t()}(window,function(){return s={},n.m=i=[function(e,t,i){\"use strict\";function s(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent(\"CustomEvent\");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}var n;t.__esModule=!0,t.hasClassInTree=function(e,t){function s(e,t){return t&&e&&e.classList&&e.classList.contains(t)?e:null}return s(e,t)||function e(t,i){return t&&t!==document?s(t,i)?t:e(t.parentNode,i):null}(e,t)},t.ensureElementInView=function(e,t){var i=e.scrollTop+e.offsetTop,s=i+e.clientHeight,n=t.offsetTop,a=n+t.clientHeight;n<i?e.scrollTop-=i-n:s<a&&(e.scrollTop+=a-s)},t.putContent=function(e,t,i){var s=e.offsetHeight,n=e.getBoundingClientRect(),a=i?n.top:n.top-s,o=i?n.bottom:n.bottom+s;return a<=0?\"below\":o>=window.innerHeight?\"above\":i?t:\"below\"},t.debounce=function(n,a,o){var l;return void 0===a&&(a=100),void 0===o&&(o=!1),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=self,s=o&&!l;clearTimeout(l),l=setTimeout(function(){l=null,o||n.apply(i,e)},a),s&&n.apply(i,e)}},t.isValueInArrayOfObjects=function(e,t,i){if(!Array.isArray(e))return e[t]===i;for(var s=0,n=e;s<n.length;s++){var a=n[s];if(a&&a[t]&&a[t]===i)return!0}return!1},t.highlight=function(e,t,i){var s=e,n=new RegExp(\"(\"+t.trim()+\")(?![^<]*>[^<>]*</)\",\"i\");if(!e.match(n))return e;var a=e.match(n).index,o=a+e.match(n)[0].toString().length,l=e.substring(a,o);return s=s.replace(n,'<mark class=\"'+i+'\">'+l+\"</mark>\")},t.kebabCase=function(e){var t=e.replace(/[A-Z\\u00C0-\\u00D6\\u00D8-\\u00DE]/g,function(e){return\"-\"+e.toLowerCase()});return e[0]===e[0].toUpperCase()?t.substring(1):t},\"function\"!=typeof(n=window).CustomEvent&&(s.prototype=n.Event.prototype,n.CustomEvent=s)},function(e,t,i){\"use strict\";t.__esModule=!0;var s=(n.prototype.newOption=function(e){return{id:e.id?e.id:String(Math.floor(1e8*Math.random())),value:e.value?e.value:\"\",text:e.text?e.text:\"\",innerHTML:e.innerHTML?e.innerHTML:\"\",selected:!!e.selected&&e.selected,display:void 0===e.display||e.display,disabled:!!e.disabled&&e.disabled,placeholder:!!e.placeholder&&e.placeholder,class:e.class?e.class:void 0,data:e.data?e.data:{},mandatory:!!e.mandatory&&e.mandatory}},n.prototype.add=function(e){this.data.push({id:String(Math.floor(1e8*Math.random())),value:e.value,text:e.text,innerHTML:\"\",selected:!1,display:!0,disabled:!1,placeholder:!1,class:void 0,mandatory:e.mandatory,data:{}})},n.prototype.parseSelectData=function(){this.data=[];for(var e=0,t=this.main.select.element.childNodes;e<t.length;e++){var i=t[e];if(\"OPTGROUP\"===i.nodeName){for(var s={label:i.label,options:[]},n=0,a=i.childNodes;n<a.length;n++){var o=a[n];if(\"OPTION\"===o.nodeName){var l=this.pullOptionData(o);s.options.push(l),l.placeholder&&\"\"!==l.text.trim()&&(this.main.config.placeholderText=l.text)}}this.data.push(s)}else\"OPTION\"===i.nodeName&&(l=this.pullOptionData(i),this.data.push(l),l.placeholder&&\"\"!==l.text.trim()&&(this.main.config.placeholderText=l.text))}},n.prototype.pullOptionData=function(e){return{id:!!e.dataset&&e.dataset.id||String(Math.floor(1e8*Math.random())),value:e.value,text:e.text,innerHTML:e.innerHTML,selected:e.selected,disabled:e.disabled,placeholder:\"true\"===e.dataset.placeholder,class:e.className,style:e.style.cssText,data:e.dataset,mandatory:!!e.dataset&&\"true\"===e.dataset.mandatory}},n.prototype.setSelectedFromSelect=function(){if(this.main.config.isMultiple){for(var e=[],t=0,i=this.main.select.element.options;t<i.length;t++){var s=i[t];if(s.selected){var n=this.getObjectFromData(s.value,\"value\");n&&n.id&&e.push(n.id)}}this.setSelected(e,\"id\")}else{var a=this.main.select.element;if(-1!==a.selectedIndex){var o=a.options[a.selectedIndex].value;this.setSelected(o,\"value\")}}},n.prototype.setSelected=function(e,t){void 0===t&&(t=\"id\");for(var i=0,s=this.data;i<s.length;i++){var n=s[i];if(n.hasOwnProperty(\"label\")){if(n.hasOwnProperty(\"options\")){var a=n.options;if(a)for(var o=0,l=a;o<l.length;o++){var r=l[o];r.placeholder||(r.selected=this.shouldBeSelected(r,e,t))}}}else n.selected=this.shouldBeSelected(n,e,t)}},n.prototype.shouldBeSelected=function(e,t,i){if(void 0===i&&(i=\"id\"),Array.isArray(t))for(var s=0,n=t;s<n.length;s++){var a=n[s];if(i in e&&String(e[i])===String(a))return!0}else if(i in e&&String(e[i])===String(t))return!0;return!1},n.prototype.getSelected=function(){for(var e={text:\"\",placeholder:this.main.config.placeholderText},t=[],i=0,s=this.data;i<s.length;i++){var n=s[i];if(n.hasOwnProperty(\"label\")){if(n.hasOwnProperty(\"options\")){var a=n.options;if(a)for(var o=0,l=a;o<l.length;o++){var r=l[o];r.selected&&(this.main.config.isMultiple?t.push(r):e=r)}}}else n.selected&&(this.main.config.isMultiple?t.push(n):e=n)}return this.main.config.isMultiple?t:e},n.prototype.addToSelected=function(e,t){if(void 0===t&&(t=\"id\"),this.main.config.isMultiple){var i=[],s=this.getSelected();if(Array.isArray(s))for(var n=0,a=s;n<a.length;n++){var o=a[n];i.push(o[t])}i.push(e),this.setSelected(i,t)}},n.prototype.removeFromSelected=function(e,t){if(void 0===t&&(t=\"id\"),this.main.config.isMultiple){for(var i=[],s=0,n=this.getSelected();s<n.length;s++){var a=n[s];String(a[t])!==String(e)&&i.push(a[t])}this.setSelected(i,t)}},n.prototype.onDataChange=function(){this.main.onChange&&this.isOnChangeEnabled&&this.main.onChange(JSON.parse(JSON.stringify(this.getSelected())))},n.prototype.getObjectFromData=function(e,t){void 0===t&&(t=\"id\");for(var i=0,s=this.data;i<s.length;i++){var n=s[i];if(t in n&&String(n[t])===String(e))return n;if(n.hasOwnProperty(\"options\")&&n.options)for(var a=0,o=n.options;a<o.length;a++){var l=o[a];if(String(l[t])===String(e))return l}}return null},n.prototype.search=function(n){if(\"\"!==(this.searchValue=n).trim()){var a=this.main.config.searchFilter,e=this.data.slice(0);n=n.trim();var t=e.map(function(e){if(e.hasOwnProperty(\"options\")){var t=e,i=[];if(t.options&&(i=t.options.filter(function(e){return a(e,n)})),0!==i.length){var s=Object.assign({},t);return s.options=i,s}}return e.hasOwnProperty(\"text\")&&a(e,n)?e:null});this.filtered=t.filter(function(e){return e})}else this.filtered=null},n);function n(e){this.contentOpen=!1,this.contentPosition=\"below\",this.isOnChangeEnabled=!0,this.main=e.main,this.searchValue=\"\",this.data=[],this.filtered=null,this.parseSelectData(),this.setSelectedFromSelect()}function r(e){return void 0!==e.text||(console.error(\"Data object option must have at least have a text value. Check object: \"+JSON.stringify(e)),!1)}t.Data=s,t.validateData=function(e){if(!e)return console.error(\"Data must be an array of objects\"),!1;for(var t=0,i=0,s=e;i<s.length;i++){var n=s[i];if(n.hasOwnProperty(\"label\")){if(n.hasOwnProperty(\"options\")){var a=n.options;if(a)for(var o=0,l=a;o<l.length;o++){r(l[o])||t++}}}else r(n)||t++}return 0===t},t.validateOption=r},function(e,t,i){\"use strict\";t.__esModule=!0;var s=i(3),n=i(4),a=i(5),r=i(1),o=i(0),l=(c.prototype.validate=function(e){var t=\"string\"==typeof e.select?document.querySelector(e.select):e.select;if(!t)throw new Error(\"Could not find select element\");if(\"SELECT\"!==t.tagName)throw new Error(\"Element isnt of type select\");return t},c.prototype.selected=function(){if(this.config.isMultiple){for(var e=[],t=0,i=n=this.data.getSelected();t<i.length;t++){var s=i[t];e.push(s.value)}return e}var n;return(n=this.data.getSelected())?n.value:\"\"},c.prototype.set=function(e,t,i,s){void 0===t&&(t=\"value\"),void 0===i&&(i=!0),void 0===s&&(s=!0),this.config.isMultiple&&!Array.isArray(e)?this.data.addToSelected(e,t):this.data.setSelected(e,t),this.select.setValue(),this.data.onDataChange(),this.render(),i&&this.close()},c.prototype.setSelected=function(e,t,i,s){void 0===t&&(t=\"value\"),void 0===i&&(i=!0),void 0===s&&(s=!0),this.set(e,t,i,s)},c.prototype.setData=function(e){if(r.validateData(e)){for(var t=JSON.parse(JSON.stringify(e)),i=this.data.getSelected(),s=0;s<t.length;s++)t[s].value||t[s].placeholder||(t[s].value=t[s].text);if(this.config.isAjax&&i)if(this.config.isMultiple)for(var n=0,a=i.reverse();n<a.length;n++){var o=a[n];t.unshift(o)}else{for(t.unshift(i),s=0;s<t.length;s++)t[s].placeholder||t[s].value!==i.value||t[s].text!==i.text||delete t[s];var l=!1;for(s=0;s<t.length;s++)t[s].placeholder&&(l=!0);l||t.unshift({text:\"\",placeholder:!0})}this.select.create(t),this.data.parseSelectData(),this.data.setSelectedFromSelect()}else console.error(\"Validation problem on: #\"+this.select.element.id)},c.prototype.addData=function(e){r.validateData([e])?(this.data.add(this.data.newOption(e)),this.select.create(this.data.data),this.data.parseSelectData(),this.data.setSelectedFromSelect(),this.render()):console.error(\"Validation problem on: #\"+this.select.element.id)},c.prototype.open=function(){var e=this;if(this.config.isEnabled&&!this.data.contentOpen){if(this.beforeOpen&&this.beforeOpen(),this.config.isMultiple&&this.slim.multiSelected?this.slim.multiSelected.plus.classList.add(\"ss-cross\"):this.slim.singleSelected&&(this.slim.singleSelected.arrowIcon.arrow.classList.remove(\"arrow-down\"),this.slim.singleSelected.arrowIcon.arrow.classList.add(\"arrow-up\")),this.slim[this.config.isMultiple?\"multiSelected\":\"singleSelected\"].container.classList.add(\"above\"===this.data.contentPosition?this.config.openAbove:this.config.openBelow),this.config.addToBody){var t=this.slim.container.getBoundingClientRect();this.slim.content.style.top=t.top+t.height+window.scrollY+\"px\",this.slim.content.style.left=t.left+window.scrollX+\"px\",this.slim.content.style.width=t.width+\"px\"}if(this.slim.content.classList.add(this.config.open),\"up\"===this.config.showContent.toLowerCase()||\"down\"!==this.config.showContent.toLowerCase()&&\"above\"===o.putContent(this.slim.content,this.data.contentPosition,this.data.contentOpen)?this.moveContentAbove():this.moveContentBelow(),!this.config.isMultiple){var i=this.data.getSelected();if(i){var s=i.id,n=this.slim.list.querySelector('[data-id=\"'+s+'\"]');n&&o.ensureElementInView(this.slim.list,n)}}setTimeout(function(){e.data.contentOpen=!0,e.config.searchFocus&&e.slim.search.input.focus(),e.afterOpen&&e.afterOpen()},this.config.timeoutDelay)}},c.prototype.close=function(){var e=this;this.data.contentOpen&&(this.beforeClose&&this.beforeClose(),this.config.isMultiple&&this.slim.multiSelected?(this.slim.multiSelected.container.classList.remove(this.config.openAbove),this.slim.multiSelected.container.classList.remove(this.config.openBelow),this.slim.multiSelected.plus.classList.remove(\"ss-cross\")):this.slim.singleSelected&&(this.slim.singleSelected.container.classList.remove(this.config.openAbove),this.slim.singleSelected.container.classList.remove(this.config.openBelow),this.slim.singleSelected.arrowIcon.arrow.classList.add(\"arrow-down\"),this.slim.singleSelected.arrowIcon.arrow.classList.remove(\"arrow-up\")),this.slim.content.classList.remove(this.config.open),this.data.contentOpen=!1,this.search(\"\"),setTimeout(function(){e.slim.content.removeAttribute(\"style\"),e.data.contentPosition=\"below\",e.config.isMultiple&&e.slim.multiSelected?(e.slim.multiSelected.container.classList.remove(e.config.openAbove),e.slim.multiSelected.container.classList.remove(e.config.openBelow)):e.slim.singleSelected&&(e.slim.singleSelected.container.classList.remove(e.config.openAbove),e.slim.singleSelected.container.classList.remove(e.config.openBelow)),e.slim.search.input.blur(),e.afterClose&&e.afterClose()},this.config.timeoutDelay))},c.prototype.moveContentAbove=function(){var e=0;this.config.isMultiple&&this.slim.multiSelected?e=this.slim.multiSelected.container.offsetHeight:this.slim.singleSelected&&(e=this.slim.singleSelected.container.offsetHeight);var t=e+this.slim.content.offsetHeight-1;this.slim.content.style.margin=\"-\"+t+\"px 0 0 0\",this.slim.content.style.height=t-e+1+\"px\",this.slim.content.style.transformOrigin=\"center bottom\",this.data.contentPosition=\"above\",this.config.isMultiple&&this.slim.multiSelected?(this.slim.multiSelected.container.classList.remove(this.config.openBelow),this.slim.multiSelected.container.classList.add(this.config.openAbove)):this.slim.singleSelected&&(this.slim.singleSelected.container.classList.remove(this.config.openBelow),this.slim.singleSelected.container.classList.add(this.config.openAbove))},c.prototype.moveContentBelow=function(){this.data.contentPosition=\"below\",this.config.isMultiple&&this.slim.multiSelected?(this.slim.multiSelected.container.classList.remove(this.config.openAbove),this.slim.multiSelected.container.classList.add(this.config.openBelow)):this.slim.singleSelected&&(this.slim.singleSelected.container.classList.remove(this.config.openAbove),this.slim.singleSelected.container.classList.add(this.config.openBelow))},c.prototype.enable=function(){this.config.isEnabled=!0,this.config.isMultiple&&this.slim.multiSelected?this.slim.multiSelected.container.classList.remove(this.config.disabled):this.slim.singleSelected&&this.slim.singleSelected.container.classList.remove(this.config.disabled),this.select.triggerMutationObserver=!1,this.select.element.disabled=!1,this.slim.search.input.disabled=!1,this.select.triggerMutationObserver=!0},c.prototype.disable=function(){this.config.isEnabled=!1,this.config.isMultiple&&this.slim.multiSelected?this.slim.multiSelected.container.classList.add(this.config.disabled):this.slim.singleSelected&&this.slim.singleSelected.container.classList.add(this.config.disabled),this.select.triggerMutationObserver=!1,this.select.element.disabled=!0,this.slim.search.input.disabled=!0,this.select.triggerMutationObserver=!0},c.prototype.search=function(t){if(this.data.searchValue!==t)if(this.slim.search.input.value=t,this.config.isAjax){var i=this;this.config.isSearching=!0,this.render(),this.ajax&&this.ajax(t,function(e){i.config.isSearching=!1,Array.isArray(e)?(e.unshift({text:\"\",placeholder:!0}),i.setData(e),i.data.search(t),i.render()):\"string\"==typeof e?i.slim.options(e):i.render()})}else this.data.search(t),this.render()},c.prototype.setSearchText=function(e){this.config.searchText=e},c.prototype.render=function(){this.config.isMultiple?this.slim.values():(this.slim.placeholder(),this.slim.deselect()),this.slim.options()},c.prototype.destroy=function(e){void 0===e&&(e=null);var t=e?document.querySelector(\".\"+e+\".ss-main\"):this.slim.container,i=e?document.querySelector(\"[data-ssid=\"+e+\"]\"):this.select.element;if(t&&i&&(document.removeEventListener(\"click\",this.documentClick),\"auto\"===this.config.showContent&&window.removeEventListener(\"scroll\",this.windowScroll,!1),i.style.display=\"\",delete i.dataset.ssid,i.slim=null,t.parentElement&&t.parentElement.removeChild(t),this.config.addToBody)){var s=e?document.querySelector(\".\"+e+\".ss-content\"):this.slim.content;if(!s)return;document.body.removeChild(s)}},c);function c(e){var t=this;this.ajax=null,this.addable=null,this.beforeOnChange=null,this.onChange=null,this.beforeOpen=null,this.afterOpen=null,this.beforeClose=null,this.afterClose=null,this.windowScroll=o.debounce(function(e){t.data.contentOpen&&(\"above\"===o.putContent(t.slim.content,t.data.contentPosition,t.data.contentOpen)?t.moveContentAbove():t.moveContentBelow())}),this.documentClick=function(e){e.target&&!o.hasClassInTree(e.target,t.config.id)&&t.close()};var i=this.validate(e);i.dataset.ssid&&this.destroy(i.dataset.ssid),e.ajax&&(this.ajax=e.ajax),e.addable&&(this.addable=e.addable),this.config=new s.Config({select:i,isAjax:!!e.ajax,showSearch:e.showSearch,searchPlaceholder:e.searchPlaceholder,searchText:e.searchText,searchingText:e.searchingText,searchFocus:e.searchFocus,searchHighlight:e.searchHighlight,searchFilter:e.searchFilter,closeOnSelect:e.closeOnSelect,showContent:e.showContent,placeholderText:e.placeholder,allowDeselect:e.allowDeselect,allowDeselectOption:e.allowDeselectOption,hideSelectedOption:e.hideSelectedOption,deselectLabel:e.deselectLabel,isEnabled:e.isEnabled,valuesUseText:e.valuesUseText,showOptionTooltips:e.showOptionTooltips,selectByGroup:e.selectByGroup,limit:e.limit,timeoutDelay:e.timeoutDelay,addToBody:e.addToBody}),this.select=new n.Select({select:i,main:this}),this.data=new r.Data({main:this}),this.slim=new a.Slim({main:this}),this.select.element.parentNode&&this.select.element.parentNode.insertBefore(this.slim.container,this.select.element.nextSibling),e.data?this.setData(e.data):this.render(),document.addEventListener(\"click\",this.documentClick),\"auto\"===this.config.showContent&&window.addEventListener(\"scroll\",this.windowScroll,!1),e.beforeOnChange&&(this.beforeOnChange=e.beforeOnChange),e.onChange&&(this.onChange=e.onChange),e.beforeOpen&&(this.beforeOpen=e.beforeOpen),e.afterOpen&&(this.afterOpen=e.afterOpen),e.beforeClose&&(this.beforeClose=e.beforeClose),e.afterClose&&(this.afterClose=e.afterClose),this.config.isEnabled||this.disable()}t.default=l},function(e,t,i){\"use strict\";t.__esModule=!0;var s=(n.prototype.searchFilter=function(e,t){return-1!==e.text.toLowerCase().indexOf(t.toLowerCase())},n);function n(e){this.id=\"\",this.isMultiple=!1,this.isAjax=!1,this.isSearching=!1,this.showSearch=!0,this.searchFocus=!0,this.searchHighlight=!1,this.closeOnSelect=!0,this.showContent=\"auto\",this.searchPlaceholder=\"Search\",this.searchText=\"No Results\",this.searchingText=\"Searching...\",this.placeholderText=\"Select Value\",this.allowDeselect=!1,this.allowDeselectOption=!1,this.hideSelectedOption=!1,this.deselectLabel=\"x\",this.isEnabled=!0,this.valuesUseText=!1,this.showOptionTooltips=!1,this.selectByGroup=!1,this.limit=0,this.timeoutDelay=200,this.addToBody=!1,this.main=\"ss-main\",this.singleSelected=\"ss-single-selected\",this.arrow=\"ss-arrow\",this.multiSelected=\"ss-multi-selected\",this.add=\"ss-add\",this.plus=\"ss-plus\",this.values=\"ss-values\",this.value=\"ss-value\",this.valueText=\"ss-value-text\",this.valueDelete=\"ss-value-delete\",this.content=\"ss-content\",this.open=\"ss-open\",this.openAbove=\"ss-open-above\",this.openBelow=\"ss-open-below\",this.search=\"ss-search\",this.searchHighlighter=\"ss-search-highlight\",this.addable=\"ss-addable\",this.list=\"ss-list\",this.optgroup=\"ss-optgroup\",this.optgroupLabel=\"ss-optgroup-label\",this.optgroupLabelSelectable=\"ss-optgroup-label-selectable\",this.option=\"ss-option\",this.optionSelected=\"ss-option-selected\",this.highlighted=\"ss-highlighted\",this.disabled=\"ss-disabled\",this.hide=\"ss-hide\",this.id=\"ss-\"+Math.floor(1e5*Math.random()),this.style=e.select.style.cssText,this.class=e.select.className.split(\" \"),this.isMultiple=e.select.multiple,this.isAjax=e.isAjax,this.showSearch=!1!==e.showSearch,this.searchFocus=!1!==e.searchFocus,this.searchHighlight=!0===e.searchHighlight,this.closeOnSelect=!1!==e.closeOnSelect,e.showContent&&(this.showContent=e.showContent),this.isEnabled=!1!==e.isEnabled,e.searchPlaceholder&&(this.searchPlaceholder=e.searchPlaceholder),e.searchText&&(this.searchText=e.searchText),e.searchingText&&(this.searchingText=e.searchingText),e.placeholderText&&(this.placeholderText=e.placeholderText),this.allowDeselect=!0===e.allowDeselect,this.allowDeselectOption=!0===e.allowDeselectOption,this.hideSelectedOption=!0===e.hideSelectedOption,e.deselectLabel&&(this.deselectLabel=e.deselectLabel),e.valuesUseText&&(this.valuesUseText=e.valuesUseText),e.showOptionTooltips&&(this.showOptionTooltips=e.showOptionTooltips),e.selectByGroup&&(this.selectByGroup=e.selectByGroup),e.limit&&(this.limit=e.limit),e.searchFilter&&(this.searchFilter=e.searchFilter),null!=e.timeoutDelay&&(this.timeoutDelay=e.timeoutDelay),this.addToBody=!0===e.addToBody}t.Config=s},function(e,t,i){\"use strict\";t.__esModule=!0;var s=i(0),n=(a.prototype.setValue=function(){if(this.main.data.getSelected()){if(this.main.config.isMultiple)for(var e=this.main.data.getSelected(),t=0,i=this.element.options;t<i.length;t++){var s=i[t];s.selected=!1;for(var n=0,a=e;n<a.length;n++)a[n].value===s.value&&(s.selected=!0)}else e=this.main.data.getSelected(),this.element.value=e?e.value:\"\";this.main.data.isOnChangeEnabled=!1,this.element.dispatchEvent(new CustomEvent(\"change\",{bubbles:!0})),this.main.data.isOnChangeEnabled=!0}},a.prototype.addAttributes=function(){this.element.tabIndex=-1,this.element.style.display=\"none\",this.element.dataset.ssid=this.main.config.id},a.prototype.addEventListeners=function(){var t=this;this.element.addEventListener(\"change\",function(e){t.main.data.setSelectedFromSelect(),t.main.render()})},a.prototype.addMutationObserver=function(){var t=this;this.main.config.isAjax||(this.mutationObserver=new MutationObserver(function(e){t.triggerMutationObserver&&(t.main.data.parseSelectData(),t.main.data.setSelectedFromSelect(),t.main.render(),e.forEach(function(e){\"class\"===e.attributeName&&t.main.slim.updateContainerDivClass(t.main.slim.container)}))}),this.observeMutationObserver())},a.prototype.observeMutationObserver=function(){this.mutationObserver&&this.mutationObserver.observe(this.element,{attributes:!0,childList:!0,characterData:!0})},a.prototype.disconnectMutationObserver=function(){this.mutationObserver&&this.mutationObserver.disconnect()},a.prototype.create=function(e){this.element.innerHTML=\"\";for(var t=0,i=e;t<i.length;t++){var s=i[t];if(s.hasOwnProperty(\"options\")){var n=s,a=document.createElement(\"optgroup\");if(a.label=n.label,n.options)for(var o=0,l=n.options;o<l.length;o++){var r=l[o];a.appendChild(this.createOption(r))}this.element.appendChild(a)}else this.element.appendChild(this.createOption(s))}},a.prototype.createOption=function(t){var i=document.createElement(\"option\");return i.value=\"\"!==t.value?t.value:t.text,i.innerHTML=t.innerHTML||t.text,t.selected&&(i.selected=t.selected),!1===t.display&&(i.style.display=\"none\"),t.disabled&&(i.disabled=!0),t.placeholder&&i.setAttribute(\"data-placeholder\",\"true\"),t.mandatory&&i.setAttribute(\"data-mandatory\",\"true\"),t.class&&t.class.split(\" \").forEach(function(e){i.classList.add(e)}),t.data&&\"object\"==typeof t.data&&Object.keys(t.data).forEach(function(e){i.setAttribute(\"data-\"+s.kebabCase(e),t.data[e])}),i},a);function a(e){this.triggerMutationObserver=!0,this.element=e.select,this.main=e.main,this.element.disabled&&(this.main.config.isEnabled=!1),this.addAttributes(),this.addEventListeners(),this.mutationObserver=null,this.addMutationObserver(),this.element.slim=e.main}t.Select=n},function(e,t,i){\"use strict\";t.__esModule=!0;var a=i(0),o=i(1),s=(n.prototype.containerDiv=function(){var e=document.createElement(\"div\");return e.style.cssText=this.main.config.style,this.updateContainerDivClass(e),e},n.prototype.updateContainerDivClass=function(e){this.main.config.class=this.main.select.element.className.split(\" \"),e.className=\"\",e.classList.add(this.main.config.id),e.classList.add(this.main.config.main);for(var t=0,i=this.main.config.class;t<i.length;t++){var s=i[t];\"\"!==s.trim()&&e.classList.add(s)}},n.prototype.singleSelectedDiv=function(){var t=this,e=document.createElement(\"div\");e.classList.add(this.main.config.singleSelected);var i=document.createElement(\"span\");i.classList.add(\"placeholder\"),e.appendChild(i);var s=document.createElement(\"span\");s.innerHTML=this.main.config.deselectLabel,s.classList.add(\"ss-deselect\"),s.onclick=function(e){e.stopPropagation(),t.main.config.isEnabled&&t.main.set(\"\")},e.appendChild(s);var n=document.createElement(\"span\");n.classList.add(this.main.config.arrow);var a=document.createElement(\"span\");return a.classList.add(\"arrow-down\"),n.appendChild(a),e.appendChild(n),e.onclick=function(){t.main.config.isEnabled&&(t.main.data.contentOpen?t.main.close():t.main.open())},{container:e,placeholder:i,deselect:s,arrowIcon:{container:n,arrow:a}}},n.prototype.placeholder=function(){var e=this.main.data.getSelected();if(null===e||e&&e.placeholder){var t=document.createElement(\"span\");t.classList.add(this.main.config.disabled),t.innerHTML=this.main.config.placeholderText,this.singleSelected&&(this.singleSelected.placeholder.innerHTML=t.outerHTML)}else{var i=\"\";e&&(i=e.innerHTML&&!0!==this.main.config.valuesUseText?e.innerHTML:e.text),this.singleSelected&&(this.singleSelected.placeholder.innerHTML=e?i:\"\")}},n.prototype.deselect=function(){if(this.singleSelected){if(!this.main.config.allowDeselect)return void this.singleSelected.deselect.classList.add(\"ss-hide\");\"\"===this.main.selected()?this.singleSelected.deselect.classList.add(\"ss-hide\"):this.singleSelected.deselect.classList.remove(\"ss-hide\")}},n.prototype.multiSelectedDiv=function(){var t=this,e=document.createElement(\"div\");e.classList.add(this.main.config.multiSelected);var i=document.createElement(\"div\");i.classList.add(this.main.config.values),e.appendChild(i);var s=document.createElement(\"div\");s.classList.add(this.main.config.add);var n=document.createElement(\"span\");return n.classList.add(this.main.config.plus),n.onclick=function(e){t.main.data.contentOpen&&(t.main.close(),e.stopPropagation())},s.appendChild(n),e.appendChild(s),e.onclick=function(e){t.main.config.isEnabled&&(e.target.classList.contains(t.main.config.valueDelete)||(t.main.data.contentOpen?t.main.close():t.main.open()))},{container:e,values:i,add:s,plus:n}},n.prototype.values=function(){if(this.multiSelected){for(var e,t=this.multiSelected.values.childNodes,i=this.main.data.getSelected(),s=[],n=0,a=t;n<a.length;n++){var o=a[n];e=!0;for(var l=0,r=i;l<r.length;l++){var c=r[l];String(c.id)===String(o.dataset.id)&&(e=!1)}e&&s.push(o)}for(var d=0,h=s;d<h.length;d++){var u=h[d];u.classList.add(\"ss-out\"),this.multiSelected.values.removeChild(u)}for(t=this.multiSelected.values.childNodes,c=0;c<i.length;c++){e=!1;for(var p=0,m=t;p<m.length;p++)o=m[p],String(i[c].id)===String(o.dataset.id)&&(e=!0);e||(0!==t.length&&HTMLElement.prototype.insertAdjacentElement?0===c?this.multiSelected.values.insertBefore(this.valueDiv(i[c]),t[c]):t[c-1].insertAdjacentElement(\"afterend\",this.valueDiv(i[c])):this.multiSelected.values.appendChild(this.valueDiv(i[c])))}if(0===i.length){var f=document.createElement(\"span\");f.classList.add(this.main.config.disabled),f.innerHTML=this.main.config.placeholderText,this.multiSelected.values.innerHTML=f.outerHTML}}},n.prototype.valueDiv=function(a){var o=this,e=document.createElement(\"div\");e.classList.add(this.main.config.value),e.dataset.id=a.id;var t=document.createElement(\"span\");if(t.classList.add(this.main.config.valueText),t.innerHTML=a.innerHTML&&!0!==this.main.config.valuesUseText?a.innerHTML:a.text,e.appendChild(t),!a.mandatory){var i=document.createElement(\"span\");i.classList.add(this.main.config.valueDelete),i.innerHTML=this.main.config.deselectLabel,i.onclick=function(e){e.preventDefault(),e.stopPropagation();var t=!1;if(o.main.beforeOnChange||(t=!0),o.main.beforeOnChange){for(var i=o.main.data.getSelected(),s=JSON.parse(JSON.stringify(i)),n=0;n<s.length;n++)s[n].id===a.id&&s.splice(n,1);!1!==o.main.beforeOnChange(s)&&(t=!0)}t&&(o.main.data.removeFromSelected(a.id,\"id\"),o.main.render(),o.main.select.setValue(),o.main.data.onDataChange())},e.appendChild(i)}return e},n.prototype.contentDiv=function(){var e=document.createElement(\"div\");return e.classList.add(this.main.config.content),e},n.prototype.searchDiv=function(){var n=this,e=document.createElement(\"div\"),s=document.createElement(\"input\"),a=document.createElement(\"div\");e.classList.add(this.main.config.search);var t={container:e,input:s};return this.main.config.showSearch||(e.classList.add(this.main.config.hide),s.readOnly=!0),s.type=\"search\",s.placeholder=this.main.config.searchPlaceholder,s.tabIndex=0,s.setAttribute(\"aria-label\",this.main.config.searchPlaceholder),s.setAttribute(\"autocapitalize\",\"off\"),s.setAttribute(\"autocomplete\",\"off\"),s.setAttribute(\"autocorrect\",\"off\"),s.onclick=function(e){setTimeout(function(){\"\"===e.target.value&&n.main.search(\"\")},10)},s.onkeydown=function(e){\"ArrowUp\"===e.key?(n.main.open(),n.highlightUp(),e.preventDefault()):\"ArrowDown\"===e.key?(n.main.open(),n.highlightDown(),e.preventDefault()):\"Tab\"===e.key?n.main.data.contentOpen?n.main.close():setTimeout(function(){n.main.close()},n.main.config.timeoutDelay):\"Enter\"===e.key&&e.preventDefault()},s.onkeyup=function(e){var t=e.target;if(\"Enter\"===e.key){if(n.main.addable&&e.ctrlKey)return a.click(),e.preventDefault(),void e.stopPropagation();var i=n.list.querySelector(\".\"+n.main.config.highlighted);i&&i.click()}else\"ArrowUp\"===e.key||\"ArrowDown\"===e.key||(\"Escape\"===e.key?n.main.close():n.main.config.showSearch&&n.main.data.contentOpen?n.main.search(t.value):s.value=\"\");e.preventDefault(),e.stopPropagation()},s.onfocus=function(){n.main.open()},e.appendChild(s),this.main.addable&&(a.classList.add(this.main.config.addable),a.innerHTML=\"+\",a.onclick=function(e){if(n.main.addable){e.preventDefault(),e.stopPropagation();var t=n.search.input.value;if(\"\"===t.trim())return void n.search.input.focus();var i=n.main.addable(t),s=\"\";if(!i)return;\"object\"==typeof i?o.validateOption(i)&&(n.main.addData(i),s=i.value?i.value:i.text):(n.main.addData(n.main.data.newOption({text:i,value:i})),s=i),n.main.search(\"\"),setTimeout(function(){n.main.set(s,\"value\",!1,!1)},100),n.main.config.closeOnSelect&&setTimeout(function(){n.main.close()},100)}},e.appendChild(a),t.addable=a),t},n.prototype.highlightUp=function(){var e=this.list.querySelector(\".\"+this.main.config.highlighted),t=null;if(e)for(t=e.previousSibling;null!==t&&t.classList.contains(this.main.config.disabled);)t=t.previousSibling;else{var i=this.list.querySelectorAll(\".\"+this.main.config.option+\":not(.\"+this.main.config.disabled+\")\");t=i[i.length-1]}if(t&&t.classList.contains(this.main.config.optgroupLabel)&&(t=null),null===t){var s=e.parentNode;if(s.classList.contains(this.main.config.optgroup)&&s.previousSibling){var n=s.previousSibling.querySelectorAll(\".\"+this.main.config.option+\":not(.\"+this.main.config.disabled+\")\");n.length&&(t=n[n.length-1])}}t&&(e&&e.classList.remove(this.main.config.highlighted),t.classList.add(this.main.config.highlighted),a.ensureElementInView(this.list,t))},n.prototype.highlightDown=function(){var e=this.list.querySelector(\".\"+this.main.config.highlighted),t=null;if(e)for(t=e.nextSibling;null!==t&&t.classList.contains(this.main.config.disabled);)t=t.nextSibling;else t=this.list.querySelector(\".\"+this.main.config.option+\":not(.\"+this.main.config.disabled+\")\");if(null===t&&null!==e){var i=e.parentNode;i.classList.contains(this.main.config.optgroup)&&i.nextSibling&&(t=i.nextSibling.querySelector(\".\"+this.main.config.option+\":not(.\"+this.main.config.disabled+\")\"))}t&&(e&&e.classList.remove(this.main.config.highlighted),t.classList.add(this.main.config.highlighted),a.ensureElementInView(this.list,t))},n.prototype.listDiv=function(){var e=document.createElement(\"div\");return e.classList.add(this.main.config.list),e},n.prototype.options=function(e){void 0===e&&(e=\"\");var t,i=this.main.data.filtered||this.main.data.data;if((this.list.innerHTML=\"\")!==e)return(t=document.createElement(\"div\")).classList.add(this.main.config.option),t.classList.add(this.main.config.disabled),t.innerHTML=e,void this.list.appendChild(t);if(this.main.config.isAjax&&this.main.config.isSearching)return(t=document.createElement(\"div\")).classList.add(this.main.config.option),t.classList.add(this.main.config.disabled),t.innerHTML=this.main.config.searchingText,void this.list.appendChild(t);if(0===i.length){var s=document.createElement(\"div\");return s.classList.add(this.main.config.option),s.classList.add(this.main.config.disabled),s.innerHTML=this.main.config.searchText,void this.list.appendChild(s)}for(var n=function(e){if(e.hasOwnProperty(\"label\")){var t=e,n=document.createElement(\"div\");n.classList.add(c.main.config.optgroup);var i=document.createElement(\"div\");i.classList.add(c.main.config.optgroupLabel),c.main.config.selectByGroup&&c.main.config.isMultiple&&i.classList.add(c.main.config.optgroupLabelSelectable),i.innerHTML=t.label,n.appendChild(i);var s=t.options;if(s){for(var a=0,o=s;a<o.length;a++){var l=o[a];n.appendChild(c.option(l))}if(c.main.config.selectByGroup&&c.main.config.isMultiple){var r=c;i.addEventListener(\"click\",function(e){e.preventDefault(),e.stopPropagation();for(var t=0,i=n.children;t<i.length;t++){var s=i[t];-1!==s.className.indexOf(r.main.config.option)&&s.click()}})}}c.list.appendChild(n)}else c.list.appendChild(c.option(e))},c=this,a=0,o=i;a<o.length;a++)n(o[a])},n.prototype.option=function(r){if(r.placeholder){var e=document.createElement(\"div\");return e.classList.add(this.main.config.option),e.classList.add(this.main.config.hide),e}var t=document.createElement(\"div\");t.classList.add(this.main.config.option),r.class&&r.class.split(\" \").forEach(function(e){t.classList.add(e)}),r.style&&(t.style.cssText=r.style);var c=this.main.data.getSelected();t.dataset.id=r.id,this.main.config.searchHighlight&&this.main.slim&&r.innerHTML&&\"\"!==this.main.slim.search.input.value.trim()?t.innerHTML=a.highlight(r.innerHTML,this.main.slim.search.input.value,this.main.config.searchHighlighter):r.innerHTML&&(t.innerHTML=r.innerHTML),this.main.config.showOptionTooltips&&t.textContent&&t.setAttribute(\"title\",t.textContent);var d=this;t.addEventListener(\"click\",function(e){e.preventDefault(),e.stopPropagation();var t=this.dataset.id;if(!0===r.selected&&d.main.config.allowDeselectOption){var i=!1;if(d.main.beforeOnChange&&d.main.config.isMultiple||(i=!0),d.main.beforeOnChange&&d.main.config.isMultiple){for(var s=d.main.data.getSelected(),n=JSON.parse(JSON.stringify(s)),a=0;a<n.length;a++)n[a].id===t&&n.splice(a,1);!1!==d.main.beforeOnChange(n)&&(i=!0)}i&&(d.main.config.isMultiple?(d.main.data.removeFromSelected(t,\"id\"),d.main.render(),d.main.select.setValue(),d.main.data.onDataChange()):d.main.set(\"\"))}else{if(r.disabled||r.selected)return;if(d.main.config.limit&&Array.isArray(c)&&d.main.config.limit<=c.length)return;if(d.main.beforeOnChange){var o=void 0,l=JSON.parse(JSON.stringify(d.main.data.getObjectFromData(t)));l.selected=!0,d.main.config.isMultiple?(o=JSON.parse(JSON.stringify(c))).push(l):o=JSON.parse(JSON.stringify(l)),!1!==d.main.beforeOnChange(o)&&d.main.set(t,\"id\",d.main.config.closeOnSelect)}else d.main.set(t,\"id\",d.main.config.closeOnSelect)}});var i=c&&a.isValueInArrayOfObjects(c,\"id\",r.id);return(r.disabled||i)&&(t.onclick=null,d.main.config.allowDeselectOption||t.classList.add(this.main.config.disabled),d.main.config.hideSelectedOption&&t.classList.add(this.main.config.hide)),i?t.classList.add(this.main.config.optionSelected):t.classList.remove(this.main.config.optionSelected),t},n);function n(e){this.main=e.main,this.container=this.containerDiv(),this.content=this.contentDiv(),this.search=this.searchDiv(),this.list=this.listDiv(),this.options(),this.singleSelected=null,this.multiSelected=null,this.main.config.isMultiple?(this.multiSelected=this.multiSelectedDiv(),this.multiSelected&&this.container.appendChild(this.multiSelected.container)):(this.singleSelected=this.singleSelectedDiv(),this.container.appendChild(this.singleSelected.container)),this.main.config.addToBody?(this.content.classList.add(this.main.config.id),document.body.appendChild(this.content)):this.container.appendChild(this.content),this.content.appendChild(this.search.container),this.content.appendChild(this.list)}t.Slim=s}],n.c=s,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=2).default;function n(e){if(s[e])return s[e].exports;var t=s[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}var i,s});","import SlimSelect from 'slim-select';\n\nvar regions = [\n  { text: 'Выберите из списка', value: 'none' },\n  { text: 'г. Москва', value: 'г. Москва' },\n  { text: 'Санкт-Петербург', value: 'Санкт-Петербург' },\n  { text: 'Алтайский край', value: 'Алтайский край' },\n  { text: 'Амурская область', value: 'Амурская область' },\n  { text: 'Архангельская область', value: 'Архангельская область' },\n  { text: 'Астраханская область', value: 'Астраханская область' },\n  { text: 'Белгородская область', value: 'Белгородская область' },\n  { text: 'Брянская область', value: 'Брянская область' },\n  { text: 'Владимирская область', value: 'Владимирская область' },\n  { text: 'Волгоградская область', value: 'Волгоградская область' },\n  { text: 'Вологодская область', value: 'Вологодская область' },\n  { text: 'Воронежская область', value: 'Воронежская область' },\n  {\n    text: 'Еврейская автономная область',\n    value: 'Еврейская автономная область',\n  },\n  { text: 'Забайкальский край', value: 'Забайкальский край' },\n  { text: 'Ивановская область', value: 'Ивановская область' },\n  {\n    text: 'Иные территории, включая город и космодром Байконур',\n    value: 'Иные территории, включая город и космодром Байконур',\n  },\n  { text: 'Иркутская область', value: 'Иркутская область' },\n  {\n    text: 'Кабардино-Балкарская Республика',\n    value: 'Кабардино-Балкарская Республика',\n  },\n  { text: 'Калининградская область', value: 'Калининградская область' },\n  { text: 'Калужская область', value: 'Калужская область' },\n  { text: 'Камчатский край', value: 'Камчатский край' },\n  {\n    text: 'Карачаево-Черкесская Республика',\n    value: 'Карачаево-Черкесская Республика',\n  },\n  { text: 'Кемеровская область', value: 'Кемеровская область' },\n  { text: 'Кировская область', value: 'Кировская область' },\n  { text: 'Костромская область', value: 'Костромская область' },\n  { text: 'Краснодарский край', value: 'Краснодарский край' },\n  { text: 'Красноярский край', value: 'Красноярский край' },\n  { text: 'Курганская область', value: 'Курганская область' },\n  { text: 'Курская область', value: 'Курская область' },\n  { text: 'Ленинградская область', value: 'Ленинградская область' },\n  { text: 'Липецкая область', value: 'Липецкая область' },\n  { text: 'Магаданская область', value: 'Магаданская область' },\n  { text: 'Московская область', value: 'Московская область' },\n  { text: 'Мурманская область', value: 'Мурманская область' },\n  { text: 'Ненецкий автономный округ', value: 'Ненецкий автономный округ' },\n  { text: 'Нижегородская область', value: 'Нижегородская область' },\n  { text: 'Новгородская область', value: 'Новгородская область' },\n  { text: 'Новосибирская область', value: 'Новосибирская область' },\n  { text: 'Омская область', value: 'Омская область' },\n  { text: 'Оренбургская область', value: 'Оренбургская область' },\n  { text: 'Орловская область', value: 'Орловская область' },\n  { text: 'Пензенская область', value: 'Пензенская область' },\n  { text: 'Пермский край', value: 'Пермский край' },\n  { text: 'Приморский край', value: 'Приморский край' },\n  { text: 'Псковская область', value: 'Псковская область' },\n  { text: 'Республика Адыгея (Адыгея)', value: 'Республика Адыгея (Адыгея)' },\n  { text: 'Республика Алтай', value: 'Республика Алтай' },\n  { text: 'Республика Башкортостан', value: 'Республика Башкортостан' },\n  { text: 'Республика Бурятия', value: 'Республика Бурятия' },\n  { text: 'Республика Дагестан', value: 'Республика Дагестан' },\n  { text: 'Республика Ингушетия', value: 'Республика Ингушетия' },\n  { text: 'Республика Калмыкия', value: 'Республика Калмыкия' },\n  { text: 'Республика Карелия', value: 'Республика Карелия' },\n  { text: 'Республика Коми', value: 'Республика Коми' },\n  { text: 'Республика Крым', value: 'Республика Крым' },\n  { text: 'Республика Марий Эл', value: 'Республика Марий Эл' },\n  { text: 'Республика Мордовия', value: 'Республика Мордовия' },\n  { text: 'Республика Саха (Якутия)', value: 'Республика Саха (Якутия)' },\n  {\n    text: 'Республика Северная Осетия - Алания',\n    value: 'Республика Северная Осетия - Алания',\n  },\n  {\n    text: 'Республика Татарстан (Татарстан)',\n    value: 'Республика Татарстан (Татарстан)',\n  },\n  { text: 'Республика Тыва', value: 'Республика Тыва' },\n  { text: 'Республика Хакасия', value: 'Республика Хакасия' },\n  { text: 'Ростовская область', value: 'Ростовская область' },\n  { text: 'Рязанская область', value: 'Рязанская область' },\n  { text: 'Самарская область', value: 'Самарская область' },\n  { text: 'Саратовская область', value: 'Саратовская область' },\n  { text: 'Сахалинская область', value: 'Сахалинская область' },\n  { text: 'Свердловская область', value: 'Свердловская область' },\n  { text: 'Севастополь', value: 'Севастополь' },\n  { text: 'Смоленская область', value: 'Смоленская область' },\n  { text: 'Ставропольский край', value: 'Ставропольский край' },\n  { text: 'Тамбовская область', value: 'Тамбовская область' },\n  { text: 'Тверская область', value: 'Тверская область' },\n  { text: 'Томская область', value: 'Томская область' },\n  { text: 'Тульская область', value: 'Тульская область' },\n  { text: 'Тюменская область', value: 'Тюменская область' },\n  { text: 'Удмуртская Республика', value: 'Удмуртская Республика' },\n  { text: 'Ульяновская область', value: 'Ульяновская область' },\n  { text: 'Хабаровский край', value: 'Хабаровский край' },\n  {\n    text: 'Ханты-Мансийский автономный округ - Югра',\n    value: 'Ханты-Мансийский автономный округ - Югра',\n  },\n  { text: 'Челябинская область', value: 'Челябинская область' },\n  { text: 'Чеченская Республика', value: 'Чеченская Республика' },\n  {\n    text: 'Чувашская Республика - Чувашия',\n    value: 'Чувашская Республика - Чувашия',\n  },\n  { text: 'Чукотский автономный округ', value: 'Чукотский автономный округ' },\n  {\n    text: 'Ямало-Ненецкий автономный округ',\n    value: 'Ямало-Ненецкий автономный округ',\n  },\n  { text: 'Ярославская область', value: 'Ярославская область' },\n];\n\nif (document.getElementById('callbackRegion')) {\n  // Applying & configuring SlimSelect\n  var regionSelector = new SlimSelect({\n    select: '#callbackRegion',\n    placeholder: 'Выберите регион',\n    searchPlaceholder: 'Поиск',\n    searchText: 'Нет результатов',\n    searchFocus: false,\n    showContent: 'down',\n    data: regions,\n  });\n}\n","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nfunction set(target, property, value, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.set) {\n    set = Reflect.set;\n  } else {\n    set = function set(target, property, value, receiver) {\n      var base = _superPropBase(target, property);\n\n      var desc;\n\n      if (base) {\n        desc = Object.getOwnPropertyDescriptor(base, property);\n\n        if (desc.set) {\n          desc.set.call(receiver, value);\n          return true;\n        } else if (!desc.writable) {\n          return false;\n        }\n      }\n\n      desc = Object.getOwnPropertyDescriptor(receiver, property);\n\n      if (desc) {\n        if (!desc.writable) {\n          return false;\n        }\n\n        desc.value = value;\n        Object.defineProperty(receiver, property, desc);\n      } else {\n        _defineProperty(receiver, property, value);\n      }\n\n      return true;\n    };\n  }\n\n  return set(target, property, value, receiver);\n}\n\nfunction _set(target, property, value, receiver, isStrict) {\n  var s = set(target, property, value, receiver || target);\n\n  if (!s && isStrict) {\n    throw new Error('failed to set property');\n  }\n\n  return value;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nexport { _typeof as _, _createClass as a, _classCallCheck as b, _objectWithoutProperties as c, _inherits as d, _possibleConstructorReturn as e, _getPrototypeOf as f, _get as g, _set as h, _slicedToArray as i };\n","import { _ as _typeof } from '../_rollupPluginBabelHelpers-3c58f0e3.js';\n\n/** Checks if value is string */\nfunction isString(str) {\n  return typeof str === 'string' || str instanceof String;\n}\n/**\r\n  Direction\r\n  @prop {string} NONE\r\n  @prop {string} LEFT\r\n  @prop {string} FORCE_LEFT\r\n  @prop {string} RIGHT\r\n  @prop {string} FORCE_RIGHT\r\n*/\n\nvar DIRECTION = {\n  NONE: 'NONE',\n  LEFT: 'LEFT',\n  FORCE_LEFT: 'FORCE_LEFT',\n  RIGHT: 'RIGHT',\n  FORCE_RIGHT: 'FORCE_RIGHT'\n};\n/**\r\n  Direction\r\n  @enum {string}\r\n*/\n\n/** Returns next char index in direction */\nfunction indexInDirection(pos, direction) {\n  if (direction === DIRECTION.LEFT) --pos;\n  return pos;\n}\n/** Returns next char position in direction */\n\nfunction posInDirection(pos, direction) {\n  switch (direction) {\n    case DIRECTION.LEFT:\n    case DIRECTION.FORCE_LEFT:\n      return --pos;\n\n    case DIRECTION.RIGHT:\n    case DIRECTION.FORCE_RIGHT:\n      return ++pos;\n\n    default:\n      return pos;\n  }\n}\n/** */\n\nfunction forceDirection(direction) {\n  switch (direction) {\n    case DIRECTION.LEFT:\n      return DIRECTION.FORCE_LEFT;\n\n    case DIRECTION.RIGHT:\n      return DIRECTION.FORCE_RIGHT;\n\n    default:\n      return direction;\n  }\n}\n/** Escapes regular expression control chars */\n\nfunction escapeRegExp(str) {\n  return str.replace(/([.*+?^=!:${}()|[\\]/\\\\])/g, '\\\\$1');\n} // cloned from https://github.com/epoberezkin/fast-deep-equal with small changes\n\nfunction objectIncludes(b, a) {\n  if (a === b) return true;\n  var arrA = Array.isArray(a),\n      arrB = Array.isArray(b),\n      i;\n\n  if (arrA && arrB) {\n    if (a.length != b.length) return false;\n\n    for (i = 0; i < a.length; i++) {\n      if (!objectIncludes(a[i], b[i])) return false;\n    }\n\n    return true;\n  }\n\n  if (arrA != arrB) return false;\n\n  if (a && b && _typeof(a) === 'object' && _typeof(b) === 'object') {\n    var dateA = a instanceof Date,\n        dateB = b instanceof Date;\n    if (dateA && dateB) return a.getTime() == b.getTime();\n    if (dateA != dateB) return false;\n    var regexpA = a instanceof RegExp,\n        regexpB = b instanceof RegExp;\n    if (regexpA && regexpB) return a.toString() == b.toString();\n    if (regexpA != regexpB) return false;\n    var keys = Object.keys(a); // if (keys.length !== Object.keys(b).length) return false;\n\n    for (i = 0; i < keys.length; i++) {\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n    }\n\n    for (i = 0; i < keys.length; i++) {\n      if (!objectIncludes(b[keys[i]], a[keys[i]])) return false;\n    }\n\n    return true;\n  } else if (a && b && typeof a === 'function' && typeof b === 'function') {\n    return a.toString() === b.toString();\n  }\n\n  return false;\n}\n/** Selection range */\n\nexport { DIRECTION, escapeRegExp, forceDirection, indexInDirection, isString, objectIncludes, posInDirection };\n","import { a as _createClass, b as _classCallCheck } from '../_rollupPluginBabelHelpers-3c58f0e3.js';\nimport { DIRECTION } from './utils.js';\n\n/** Provides details of changing input */\n\nvar ActionDetails =\n/*#__PURE__*/\nfunction () {\n  /** Current input value */\n\n  /** Current cursor position */\n\n  /** Old input value */\n\n  /** Old selection */\n  function ActionDetails(value, cursorPos, oldValue, oldSelection) {\n    _classCallCheck(this, ActionDetails);\n\n    this.value = value;\n    this.cursorPos = cursorPos;\n    this.oldValue = oldValue;\n    this.oldSelection = oldSelection; // double check if left part was changed (autofilling, other non-standard input triggers)\n\n    while (this.value.slice(0, this.startChangePos) !== this.oldValue.slice(0, this.startChangePos)) {\n      --this.oldSelection.start;\n    }\n  }\n  /**\r\n    Start changing position\r\n    @readonly\r\n  */\n\n\n  _createClass(ActionDetails, [{\n    key: \"startChangePos\",\n    get: function get() {\n      return Math.min(this.cursorPos, this.oldSelection.start);\n    }\n    /**\r\n      Inserted symbols count\r\n      @readonly\r\n    */\n\n  }, {\n    key: \"insertedCount\",\n    get: function get() {\n      return this.cursorPos - this.startChangePos;\n    }\n    /**\r\n      Inserted symbols\r\n      @readonly\r\n    */\n\n  }, {\n    key: \"inserted\",\n    get: function get() {\n      return this.value.substr(this.startChangePos, this.insertedCount);\n    }\n    /**\r\n      Removed symbols count\r\n      @readonly\r\n    */\n\n  }, {\n    key: \"removedCount\",\n    get: function get() {\n      // Math.max for opposite operation\n      return Math.max(this.oldSelection.end - this.startChangePos || // for Delete\n      this.oldValue.length - this.value.length, 0);\n    }\n    /**\r\n      Removed symbols\r\n      @readonly\r\n    */\n\n  }, {\n    key: \"removed\",\n    get: function get() {\n      return this.oldValue.substr(this.startChangePos, this.removedCount);\n    }\n    /**\r\n      Unchanged head symbols\r\n      @readonly\r\n    */\n\n  }, {\n    key: \"head\",\n    get: function get() {\n      return this.value.substring(0, this.startChangePos);\n    }\n    /**\r\n      Unchanged tail symbols\r\n      @readonly\r\n    */\n\n  }, {\n    key: \"tail\",\n    get: function get() {\n      return this.value.substring(this.startChangePos + this.insertedCount);\n    }\n    /**\r\n      Remove direction\r\n      @readonly\r\n    */\n\n  }, {\n    key: \"removeDirection\",\n    get: function get() {\n      if (!this.removedCount || this.insertedCount) return DIRECTION.NONE; // align right if delete at right or if range removed (event with backspace)\n\n      return this.oldSelection.end === this.cursorPos || this.oldSelection.start === this.cursorPos ? DIRECTION.RIGHT : DIRECTION.LEFT;\n    }\n  }]);\n\n  return ActionDetails;\n}();\n\nexport default ActionDetails;\n","import { a as _createClass, b as _classCallCheck } from '../_rollupPluginBabelHelpers-3c58f0e3.js';\n\n/**\r\n  Provides details of changing model value\r\n  @param {Object} [details]\r\n  @param {string} [details.inserted] - Inserted symbols\r\n  @param {boolean} [details.skip] - Can skip chars\r\n  @param {number} [details.removeCount] - Removed symbols count\r\n  @param {number} [details.tailShift] - Additional offset if any changes occurred before tail\r\n*/\nvar ChangeDetails =\n/*#__PURE__*/\nfunction () {\n  /** Inserted symbols */\n\n  /** Can skip chars */\n\n  /** Additional offset if any changes occurred before tail */\n\n  /** Raw inserted is used by dynamic mask */\n  function ChangeDetails(details) {\n    _classCallCheck(this, ChangeDetails);\n\n    Object.assign(this, {\n      inserted: '',\n      rawInserted: '',\n      skip: false,\n      tailShift: 0\n    }, details);\n  }\n  /**\r\n    Aggregate changes\r\n    @returns {ChangeDetails} `this`\r\n  */\n\n\n  _createClass(ChangeDetails, [{\n    key: \"aggregate\",\n    value: function aggregate(details) {\n      this.rawInserted += details.rawInserted;\n      this.skip = this.skip || details.skip;\n      this.inserted += details.inserted;\n      this.tailShift += details.tailShift;\n      return this;\n    }\n    /** Total offset considering all changes */\n\n  }, {\n    key: \"offset\",\n    get: function get() {\n      return this.tailShift + this.inserted.length;\n    }\n  }]);\n\n  return ChangeDetails;\n}();\n\nexport default ChangeDetails;\n","import { a as _createClass, b as _classCallCheck } from '../_rollupPluginBabelHelpers-3c58f0e3.js';\n\n/** Provides details of continuous extracted tail */\nvar ContinuousTailDetails =\n/*#__PURE__*/\nfunction () {\n  /** Tail value as string */\n\n  /** Tail start position */\n\n  /** Start position */\n  function ContinuousTailDetails() {\n    var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var from = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var stop = arguments.length > 2 ? arguments[2] : undefined;\n\n    _classCallCheck(this, ContinuousTailDetails);\n\n    this.value = value;\n    this.from = from;\n    this.stop = stop;\n  }\n\n  _createClass(ContinuousTailDetails, [{\n    key: \"toString\",\n    value: function toString() {\n      return this.value;\n    }\n  }, {\n    key: \"extend\",\n    value: function extend(tail) {\n      this.value += String(tail);\n    }\n  }, {\n    key: \"appendTo\",\n    value: function appendTo(masked) {\n      return masked.append(this.toString(), {\n        tail: true\n      }).aggregate(masked._appendPlaceholder());\n    }\n  }, {\n    key: \"shiftBefore\",\n    value: function shiftBefore(pos) {\n      if (this.from >= pos || !this.value.length) return '';\n      var shiftChar = this.value[0];\n      this.value = this.value.slice(1);\n      return shiftChar;\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return {\n        value: this.value,\n        from: this.from,\n        stop: this.stop\n      };\n    },\n    set: function set(state) {\n      Object.assign(this, state);\n    }\n  }]);\n\n  return ContinuousTailDetails;\n}();\n\nexport default ContinuousTailDetails;\n","/**\r\n * Applies mask on element.\r\n * @constructor\r\n * @param {HTMLInputElement|HTMLTextAreaElement|MaskElement} el - Element to apply mask\r\n * @param {Object} opts - Custom mask options\r\n * @return {InputMask}\r\n */\nfunction IMask(el) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  // currently available only for input-like elements\n  return new IMask.InputMask(el, opts);\n}\n\nexport default IMask;\n","import { a as _createClass, b as _classCallCheck } from '../_rollupPluginBabelHelpers-3c58f0e3.js';\nimport { isString } from '../core/utils.js';\nimport ChangeDetails from '../core/change-details.js';\nimport ContinuousTailDetails from '../core/continuous-tail-details.js';\nimport IMask from '../core/holder.js';\n\n/** Supported mask type */\n\n/** Provides common masking stuff */\nvar Masked =\n/*#__PURE__*/\nfunction () {\n  // $Shape<MaskedOptions>; TODO after fix https://github.com/facebook/flow/issues/4773\n\n  /** @type {Mask} */\n\n  /** */\n  // $FlowFixMe no ideas\n\n  /** Transforms value before mask processing */\n\n  /** Validates if value is acceptable */\n\n  /** Does additional processing in the end of editing */\n\n  /** Format typed value to string */\n\n  /** Parse strgin to get typed value */\n\n  /** Enable characters overwriting */\n\n  /** */\n  function Masked(opts) {\n    _classCallCheck(this, Masked);\n\n    this._value = '';\n\n    this._update(Object.assign({}, Masked.DEFAULTS, {}, opts));\n\n    this.isInitialized = true;\n  }\n  /** Sets and applies new options */\n\n\n  _createClass(Masked, [{\n    key: \"updateOptions\",\n    value: function updateOptions(opts) {\n      if (!Object.keys(opts).length) return;\n      this.withValueRefresh(this._update.bind(this, opts));\n    }\n    /**\r\n      Sets new options\r\n      @protected\r\n    */\n\n  }, {\n    key: \"_update\",\n    value: function _update(opts) {\n      Object.assign(this, opts);\n    }\n    /** Mask state */\n\n  }, {\n    key: \"reset\",\n\n    /** Resets value */\n    value: function reset() {\n      this._value = '';\n    }\n    /** */\n\n  }, {\n    key: \"resolve\",\n\n    /** Resolve new value */\n    value: function resolve(value) {\n      this.reset();\n      this.append(value, {\n        input: true\n      }, '');\n      this.doCommit();\n      return this.value;\n    }\n    /** */\n\n  }, {\n    key: \"nearestInputPos\",\n\n    /** Finds nearest input position in direction */\n    value: function nearestInputPos(cursorPos, direction) {\n      return cursorPos;\n    }\n    /** Extracts value in range considering flags */\n\n  }, {\n    key: \"extractInput\",\n    value: function extractInput() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n      return this.value.slice(fromPos, toPos);\n    }\n    /** Extracts tail in range */\n\n  }, {\n    key: \"extractTail\",\n    value: function extractTail() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n      return new ContinuousTailDetails(this.extractInput(fromPos, toPos), fromPos);\n    }\n    /** Appends tail */\n    // $FlowFixMe no ideas\n\n  }, {\n    key: \"appendTail\",\n    value: function appendTail(tail) {\n      if (isString(tail)) tail = new ContinuousTailDetails(String(tail));\n      return tail.appendTo(this);\n    }\n    /** Appends char */\n\n  }, {\n    key: \"_appendCharRaw\",\n    value: function _appendCharRaw(ch) {\n      var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      ch = this.doPrepare(ch, flags);\n      if (!ch) return new ChangeDetails();\n      this._value += ch;\n      return new ChangeDetails({\n        inserted: ch,\n        rawInserted: ch\n      });\n    }\n    /** Appends char */\n\n  }, {\n    key: \"_appendChar\",\n    value: function _appendChar(ch) {\n      var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var checkTail = arguments.length > 2 ? arguments[2] : undefined;\n      var consistentState = this.state;\n\n      var details = this._appendCharRaw(ch, flags);\n\n      if (details.inserted) {\n        var consistentTail;\n        var appended = this.doValidate(flags) !== false;\n\n        if (appended && checkTail != null) {\n          // validation ok, check tail\n          var beforeTailState = this.state;\n\n          if (this.overwrite) {\n            consistentTail = checkTail.state;\n            checkTail.shiftBefore(this.value.length);\n          }\n\n          var tailDetails = this.appendTail(checkTail);\n          appended = tailDetails.rawInserted === checkTail.toString(); // if ok, rollback state after tail\n\n          if (appended && tailDetails.inserted) this.state = beforeTailState;\n        } // revert all if something went wrong\n\n\n        if (!appended) {\n          details = new ChangeDetails();\n          this.state = consistentState;\n          if (checkTail && consistentTail) checkTail.state = consistentTail;\n        }\n      }\n\n      return details;\n    }\n    /** Appends optional placeholder at end */\n\n  }, {\n    key: \"_appendPlaceholder\",\n    value: function _appendPlaceholder() {\n      return new ChangeDetails();\n    }\n    /** Appends symbols considering flags */\n    // $FlowFixMe no ideas\n\n  }, {\n    key: \"append\",\n    value: function append(str, flags, tail) {\n      if (!isString(str)) throw new Error('value should be string');\n      var details = new ChangeDetails();\n      var checkTail = isString(tail) ? new ContinuousTailDetails(String(tail)) : tail;\n      if (flags.tail) flags._beforeTailState = this.state;\n\n      for (var ci = 0; ci < str.length; ++ci) {\n        details.aggregate(this._appendChar(str[ci], flags, checkTail));\n      } // append tail but aggregate only tailShift\n\n\n      if (checkTail != null) {\n        details.tailShift += this.appendTail(checkTail).tailShift; // TODO it's a good idea to clear state after appending ends\n        // but it causes bugs when one append calls another (when dynamic dispatch set rawInputValue)\n        // this._resetBeforeTailState();\n      }\n\n      return details;\n    }\n    /** */\n\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n      this._value = this.value.slice(0, fromPos) + this.value.slice(toPos);\n      return new ChangeDetails();\n    }\n    /** Calls function and reapplies current value */\n\n  }, {\n    key: \"withValueRefresh\",\n    value: function withValueRefresh(fn) {\n      if (this._refreshing || !this.isInitialized) return fn();\n      this._refreshing = true;\n      var rawInput = this.rawInputValue;\n      var value = this.value;\n      var ret = fn();\n      this.rawInputValue = rawInput; // append lost trailing chars at end\n\n      if (this.value !== value && value.indexOf(this.value) === 0) {\n        this.append(value.slice(this.value.length), {}, '');\n      }\n\n      delete this._refreshing;\n      return ret;\n    }\n    /** */\n\n  }, {\n    key: \"runIsolated\",\n    value: function runIsolated(fn) {\n      if (this._isolated || !this.isInitialized) return fn(this);\n      this._isolated = true;\n      var state = this.state;\n      var ret = fn(this);\n      this.state = state;\n      delete this._isolated;\n      return ret;\n    }\n    /**\r\n      Prepares string before mask processing\r\n      @protected\r\n    */\n\n  }, {\n    key: \"doPrepare\",\n    value: function doPrepare(str) {\n      var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return this.prepare ? this.prepare(str, this, flags) : str;\n    }\n    /**\r\n      Validates if value is acceptable\r\n      @protected\r\n    */\n\n  }, {\n    key: \"doValidate\",\n    value: function doValidate(flags) {\n      return (!this.validate || this.validate(this.value, this, flags)) && (!this.parent || this.parent.doValidate(flags));\n    }\n    /**\r\n      Does additional processing in the end of editing\r\n      @protected\r\n    */\n\n  }, {\n    key: \"doCommit\",\n    value: function doCommit() {\n      if (this.commit) this.commit(this.value, this);\n    }\n    /** */\n\n  }, {\n    key: \"doFormat\",\n    value: function doFormat(value) {\n      return this.format ? this.format(value, this) : value;\n    }\n    /** */\n\n  }, {\n    key: \"doParse\",\n    value: function doParse(str) {\n      return this.parse ? this.parse(str, this) : str;\n    }\n    /** */\n\n  }, {\n    key: \"splice\",\n    value: function splice(start, deleteCount, inserted, removeDirection) {\n      var tailPos = start + deleteCount;\n      var tail = this.extractTail(tailPos);\n      var startChangePos = this.nearestInputPos(start, removeDirection);\n      var changeDetails = new ChangeDetails({\n        tailShift: startChangePos - start // adjust tailShift if start was aligned\n\n      }).aggregate(this.remove(startChangePos)).aggregate(this.append(inserted, {\n        input: true\n      }, tail));\n      return changeDetails;\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return {\n        _value: this.value\n      };\n    },\n    set: function set(state) {\n      this._value = state._value;\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this._value;\n    },\n    set: function set(value) {\n      this.resolve(value);\n    }\n  }, {\n    key: \"unmaskedValue\",\n    get: function get() {\n      return this.value;\n    },\n    set: function set(value) {\n      this.reset();\n      this.append(value, {}, '');\n      this.doCommit();\n    }\n    /** */\n\n  }, {\n    key: \"typedValue\",\n    get: function get() {\n      return this.doParse(this.value);\n    },\n    set: function set(value) {\n      this.value = this.doFormat(value);\n    }\n    /** Value that includes raw user input */\n\n  }, {\n    key: \"rawInputValue\",\n    get: function get() {\n      return this.extractInput(0, this.value.length, {\n        raw: true\n      });\n    },\n    set: function set(value) {\n      this.reset();\n      this.append(value, {\n        raw: true\n      }, '');\n      this.doCommit();\n    }\n    /** */\n\n  }, {\n    key: \"isComplete\",\n    get: function get() {\n      return true;\n    }\n  }]);\n\n  return Masked;\n}();\nMasked.DEFAULTS = {\n  format: function format(v) {\n    return v;\n  },\n  parse: function parse(v) {\n    return v;\n  }\n};\nIMask.Masked = Masked;\n\nexport default Masked;\n","import '../_rollupPluginBabelHelpers-3c58f0e3.js';\nimport { isString } from '../core/utils.js';\nimport IMask from '../core/holder.js';\n\n/** Get Masked class by mask type */\n\nfunction maskedClass(mask) {\n  if (mask == null) {\n    throw new Error('mask property should be defined');\n  } // $FlowFixMe\n\n\n  if (mask instanceof RegExp) return IMask.MaskedRegExp; // $FlowFixMe\n\n  if (isString(mask)) return IMask.MaskedPattern; // $FlowFixMe\n\n  if (mask instanceof Date || mask === Date) return IMask.MaskedDate; // $FlowFixMe\n\n  if (mask instanceof Number || typeof mask === 'number' || mask === Number) return IMask.MaskedNumber; // $FlowFixMe\n\n  if (Array.isArray(mask) || mask === Array) return IMask.MaskedDynamic; // $FlowFixMe\n\n  if (IMask.Masked && mask.prototype instanceof IMask.Masked) return mask; // $FlowFixMe\n\n  if (mask instanceof Function) return IMask.MaskedFunction; // $FlowFixMe\n\n  if (mask instanceof IMask.Masked) return mask.constructor;\n  console.warn('Mask not found for mask', mask); // eslint-disable-line no-console\n  // $FlowFixMe\n\n  return IMask.Masked;\n}\n/** Creates new {@link Masked} depending on mask type */\n\nfunction createMask(opts) {\n  // $FlowFixMe\n  if (IMask.Masked && opts instanceof IMask.Masked) return opts;\n  opts = Object.assign({}, opts);\n  var mask = opts.mask; // $FlowFixMe\n\n  if (IMask.Masked && mask instanceof IMask.Masked) return mask;\n  var MaskedClass = maskedClass(mask);\n  if (!MaskedClass) throw new Error('Masked class is not found for provided mask, appropriate module needs to be import manually before creating mask.');\n  return new MaskedClass(opts);\n}\nIMask.createMask = createMask;\n\nexport default createMask;\nexport { maskedClass };\n","import { a as _createClass, b as _classCallCheck, c as _objectWithoutProperties } from '../../_rollupPluginBabelHelpers-3c58f0e3.js';\nimport { DIRECTION } from '../../core/utils.js';\nimport ChangeDetails from '../../core/change-details.js';\nimport '../../core/holder.js';\nimport createMask from '../factory.js';\n\nvar DEFAULT_INPUT_DEFINITIONS = {\n  '0': /\\d/,\n  'a': /[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0\\u08A2-\\u08AC\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA697\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA793\\uA7A0-\\uA7AA\\uA7F8-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA80-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]/,\n  // http://stackoverflow.com/a/22075070\n  '*': /./\n};\n/** */\n\nvar PatternInputDefinition =\n/*#__PURE__*/\nfunction () {\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n  function PatternInputDefinition(opts) {\n    _classCallCheck(this, PatternInputDefinition);\n\n    var mask = opts.mask,\n        blockOpts = _objectWithoutProperties(opts, [\"mask\"]);\n\n    this.masked = createMask({\n      mask: mask\n    });\n    Object.assign(this, blockOpts);\n  }\n\n  _createClass(PatternInputDefinition, [{\n    key: \"reset\",\n    value: function reset() {\n      this._isFilled = false;\n      this.masked.reset();\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n\n      if (fromPos === 0 && toPos >= 1) {\n        this._isFilled = false;\n        return this.masked.remove(fromPos, toPos);\n      }\n\n      return new ChangeDetails();\n    }\n  }, {\n    key: \"_appendChar\",\n    value: function _appendChar(str) {\n      var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      if (this._isFilled) return new ChangeDetails();\n      var state = this.masked.state; // simulate input\n\n      var details = this.masked._appendChar(str, flags);\n\n      if (details.inserted && this.doValidate(flags) === false) {\n        details.inserted = details.rawInserted = '';\n        this.masked.state = state;\n      }\n\n      if (!details.inserted && !this.isOptional && !this.lazy && !flags.input) {\n        details.inserted = this.placeholderChar;\n      }\n\n      details.skip = !details.inserted && !this.isOptional;\n      this._isFilled = Boolean(details.inserted);\n      return details;\n    }\n  }, {\n    key: \"append\",\n    value: function append() {\n      var _this$masked;\n\n      return (_this$masked = this.masked).append.apply(_this$masked, arguments);\n    }\n  }, {\n    key: \"_appendPlaceholder\",\n    value: function _appendPlaceholder() {\n      var details = new ChangeDetails();\n      if (this._isFilled || this.isOptional) return details;\n      this._isFilled = true;\n      details.inserted = this.placeholderChar;\n      return details;\n    }\n  }, {\n    key: \"extractTail\",\n    value: function extractTail() {\n      var _this$masked2;\n\n      return (_this$masked2 = this.masked).extractTail.apply(_this$masked2, arguments);\n    }\n  }, {\n    key: \"appendTail\",\n    value: function appendTail() {\n      var _this$masked3;\n\n      return (_this$masked3 = this.masked).appendTail.apply(_this$masked3, arguments);\n    }\n  }, {\n    key: \"extractInput\",\n    value: function extractInput() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n      var flags = arguments.length > 2 ? arguments[2] : undefined;\n      return this.masked.extractInput(fromPos, toPos, flags);\n    }\n  }, {\n    key: \"nearestInputPos\",\n    value: function nearestInputPos(cursorPos) {\n      var direction = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DIRECTION.NONE;\n      var minPos = 0;\n      var maxPos = this.value.length;\n      var boundPos = Math.min(Math.max(cursorPos, minPos), maxPos);\n\n      switch (direction) {\n        case DIRECTION.LEFT:\n        case DIRECTION.FORCE_LEFT:\n          return this.isComplete ? boundPos : minPos;\n\n        case DIRECTION.RIGHT:\n        case DIRECTION.FORCE_RIGHT:\n          return this.isComplete ? boundPos : maxPos;\n\n        case DIRECTION.NONE:\n        default:\n          return boundPos;\n      }\n    }\n  }, {\n    key: \"doValidate\",\n    value: function doValidate() {\n      var _this$masked4, _this$parent;\n\n      return (_this$masked4 = this.masked).doValidate.apply(_this$masked4, arguments) && (!this.parent || (_this$parent = this.parent).doValidate.apply(_this$parent, arguments));\n    }\n  }, {\n    key: \"doCommit\",\n    value: function doCommit() {\n      this.masked.doCommit();\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this.masked.value || (this._isFilled && !this.isOptional ? this.placeholderChar : '');\n    }\n  }, {\n    key: \"unmaskedValue\",\n    get: function get() {\n      return this.masked.unmaskedValue;\n    }\n  }, {\n    key: \"isComplete\",\n    get: function get() {\n      return Boolean(this.masked.value) || this.isOptional;\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return {\n        masked: this.masked.state,\n        _isFilled: this._isFilled\n      };\n    },\n    set: function set(state) {\n      this.masked.state = state.masked;\n      this._isFilled = state._isFilled;\n    }\n  }]);\n\n  return PatternInputDefinition;\n}();\n\nexport default PatternInputDefinition;\nexport { DEFAULT_INPUT_DEFINITIONS };\n","import { a as _createClass, b as _classCallCheck } from '../../_rollupPluginBabelHelpers-3c58f0e3.js';\nimport { DIRECTION, isString } from '../../core/utils.js';\nimport ChangeDetails from '../../core/change-details.js';\nimport ContinuousTailDetails from '../../core/continuous-tail-details.js';\n\nvar PatternFixedDefinition =\n/*#__PURE__*/\nfunction () {\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n  function PatternFixedDefinition(opts) {\n    _classCallCheck(this, PatternFixedDefinition);\n\n    Object.assign(this, opts);\n    this._value = '';\n  }\n\n  _createClass(PatternFixedDefinition, [{\n    key: \"reset\",\n    value: function reset() {\n      this._isRawInput = false;\n      this._value = '';\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this._value.length;\n      this._value = this._value.slice(0, fromPos) + this._value.slice(toPos);\n      if (!this._value) this._isRawInput = false;\n      return new ChangeDetails();\n    }\n  }, {\n    key: \"nearestInputPos\",\n    value: function nearestInputPos(cursorPos) {\n      var direction = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DIRECTION.NONE;\n      var minPos = 0;\n      var maxPos = this._value.length;\n\n      switch (direction) {\n        case DIRECTION.LEFT:\n        case DIRECTION.FORCE_LEFT:\n          return minPos;\n\n        case DIRECTION.NONE:\n        case DIRECTION.RIGHT:\n        case DIRECTION.FORCE_RIGHT:\n        default:\n          return maxPos;\n      }\n    }\n  }, {\n    key: \"extractInput\",\n    value: function extractInput() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this._value.length;\n      var flags = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      return flags.raw && this._isRawInput && this._value.slice(fromPos, toPos) || '';\n    }\n  }, {\n    key: \"_appendChar\",\n    value: function _appendChar(str) {\n      var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var details = new ChangeDetails();\n      if (this._value) return details;\n      var appended = this.char === str[0];\n      var isResolved = appended && (this.isUnmasking || flags.input || flags.raw) && !flags.tail;\n      if (isResolved) details.rawInserted = this.char;\n      this._value = details.inserted = this.char;\n      this._isRawInput = isResolved && (flags.raw || flags.input);\n      return details;\n    }\n  }, {\n    key: \"_appendPlaceholder\",\n    value: function _appendPlaceholder() {\n      var details = new ChangeDetails();\n      if (this._value) return details;\n      this._value = details.inserted = this.char;\n      return details;\n    }\n  }, {\n    key: \"extractTail\",\n    value: function extractTail() {\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n      return new ContinuousTailDetails('');\n    } // $FlowFixMe no ideas\n\n  }, {\n    key: \"appendTail\",\n    value: function appendTail(tail) {\n      if (isString(tail)) tail = new ContinuousTailDetails(String(tail));\n      return tail.appendTo(this);\n    }\n  }, {\n    key: \"append\",\n    value: function append(str, flags, tail) {\n      var details = this._appendChar(str, flags);\n\n      if (tail != null) {\n        details.tailShift += this.appendTail(tail).tailShift;\n      }\n\n      return details;\n    }\n  }, {\n    key: \"doCommit\",\n    value: function doCommit() {}\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this._value;\n    }\n  }, {\n    key: \"unmaskedValue\",\n    get: function get() {\n      return this.isUnmasking ? this.value : '';\n    }\n  }, {\n    key: \"isComplete\",\n    get: function get() {\n      return true;\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return {\n        _value: this._value,\n        _isRawInput: this._isRawInput\n      };\n    },\n    set: function set(state) {\n      Object.assign(this, state);\n    }\n  }]);\n\n  return PatternFixedDefinition;\n}();\n\nexport default PatternFixedDefinition;\n","import { a as _createClass, b as _classCallCheck, c as _objectWithoutProperties } from '../../_rollupPluginBabelHelpers-3c58f0e3.js';\nimport { isString } from '../../core/utils.js';\nimport ChangeDetails from '../../core/change-details.js';\nimport ContinuousTailDetails from '../../core/continuous-tail-details.js';\nimport IMask from '../../core/holder.js';\n\nvar ChunksTailDetails =\n/*#__PURE__*/\nfunction () {\n  /** */\n  function ChunksTailDetails() {\n    var chunks = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var from = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n    _classCallCheck(this, ChunksTailDetails);\n\n    this.chunks = chunks;\n    this.from = from;\n  }\n\n  _createClass(ChunksTailDetails, [{\n    key: \"toString\",\n    value: function toString() {\n      return this.chunks.map(String).join('');\n    } // $FlowFixMe no ideas\n\n  }, {\n    key: \"extend\",\n    value: function extend(tailChunk) {\n      if (!String(tailChunk)) return;\n      if (isString(tailChunk)) tailChunk = new ContinuousTailDetails(String(tailChunk));\n      var lastChunk = this.chunks[this.chunks.length - 1];\n      var extendLast = lastChunk && ( // if stops are same or tail has no stop\n      lastChunk.stop === tailChunk.stop || tailChunk.stop == null) && // if tail chunk goes just after last chunk\n      tailChunk.from === lastChunk.from + lastChunk.toString().length;\n\n      if (tailChunk instanceof ContinuousTailDetails) {\n        // check the ability to extend previous chunk\n        if (extendLast) {\n          // extend previous chunk\n          lastChunk.extend(tailChunk.toString());\n        } else {\n          // append new chunk\n          this.chunks.push(tailChunk);\n        }\n      } else if (tailChunk instanceof ChunksTailDetails) {\n        if (tailChunk.stop == null) {\n          // unwrap floating chunks to parent, keeping `from` pos\n          var firstTailChunk;\n\n          while (tailChunk.chunks.length && tailChunk.chunks[0].stop == null) {\n            firstTailChunk = tailChunk.chunks.shift();\n            firstTailChunk.from += tailChunk.from;\n            this.extend(firstTailChunk);\n          }\n        } // if tail chunk still has value\n\n\n        if (tailChunk.toString()) {\n          // if chunks contains stops, then popup stop to container\n          tailChunk.stop = tailChunk.blockIndex;\n          this.chunks.push(tailChunk);\n        }\n      }\n    }\n  }, {\n    key: \"appendTo\",\n    value: function appendTo(masked) {\n      // $FlowFixMe\n      if (!(masked instanceof IMask.MaskedPattern)) {\n        var tail = new ContinuousTailDetails(this.toString());\n        return tail.appendTo(masked);\n      }\n\n      var details = new ChangeDetails();\n\n      for (var ci = 0; ci < this.chunks.length && !details.skip; ++ci) {\n        var chunk = this.chunks[ci];\n\n        var lastBlockIter = masked._mapPosToBlock(masked.value.length);\n\n        var stop = chunk.stop;\n        var chunkBlock = void 0;\n\n        if (stop != null && ( // if block not found or stop is behind lastBlock\n        !lastBlockIter || lastBlockIter.index <= stop)) {\n          if (chunk instanceof ChunksTailDetails || // for continuous block also check if stop is exist\n          masked._stops.indexOf(stop) >= 0) {\n            details.aggregate(masked._appendPlaceholder(stop));\n          }\n\n          chunkBlock = chunk instanceof ChunksTailDetails && masked._blocks[stop];\n        }\n\n        if (chunkBlock) {\n          var tailDetails = chunkBlock.appendTail(chunk);\n          tailDetails.skip = false; // always ignore skip, it will be set on last\n\n          details.aggregate(tailDetails);\n          masked._value += tailDetails.inserted; // get not inserted chars\n\n          var remainChars = chunk.toString().slice(tailDetails.rawInserted.length);\n          if (remainChars) details.aggregate(masked.append(remainChars, {\n            tail: true\n          }));\n        } else {\n          details.aggregate(masked.append(chunk.toString(), {\n            tail: true\n          }));\n        }\n      }\n      return details;\n    }\n  }, {\n    key: \"shiftBefore\",\n    value: function shiftBefore(pos) {\n      if (this.from >= pos || !this.chunks.length) return '';\n      var chunkShiftPos = pos - this.from;\n      var ci = 0;\n\n      while (ci < this.chunks.length) {\n        var chunk = this.chunks[ci];\n        var shiftChar = chunk.shiftBefore(chunkShiftPos);\n\n        if (chunk.toString()) {\n          // chunk still contains value\n          // but not shifted - means no more available chars to shift\n          if (!shiftChar) break;\n          ++ci;\n        } else {\n          // clean if chunk has no value\n          this.chunks.splice(ci, 1);\n        }\n\n        if (shiftChar) return shiftChar;\n      }\n\n      return '';\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return {\n        chunks: this.chunks.map(function (c) {\n          return c.state;\n        }),\n        from: this.from,\n        stop: this.stop,\n        blockIndex: this.blockIndex\n      };\n    },\n    set: function set(state) {\n      var chunks = state.chunks,\n          props = _objectWithoutProperties(state, [\"chunks\"]);\n\n      Object.assign(this, props);\n      this.chunks = chunks.map(function (cstate) {\n        var chunk = \"chunks\" in cstate ? new ChunksTailDetails() : new ContinuousTailDetails(); // $FlowFixMe already checked above\n\n        chunk.state = cstate;\n        return chunk;\n      });\n    }\n  }]);\n\n  return ChunksTailDetails;\n}();\n\nexport default ChunksTailDetails;\n","import { d as _inherits, a as _createClass, b as _classCallCheck, e as _possibleConstructorReturn, f as _getPrototypeOf, g as _get } from '../_rollupPluginBabelHelpers-3c58f0e3.js';\nimport '../core/utils.js';\nimport '../core/change-details.js';\nimport '../core/continuous-tail-details.js';\nimport IMask from '../core/holder.js';\nimport Masked from './base.js';\n\n/** Masking by RegExp */\n\nvar MaskedRegExp =\n/*#__PURE__*/\nfunction (_Masked) {\n  _inherits(MaskedRegExp, _Masked);\n\n  function MaskedRegExp() {\n    _classCallCheck(this, MaskedRegExp);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(MaskedRegExp).apply(this, arguments));\n  }\n\n  _createClass(MaskedRegExp, [{\n    key: \"_update\",\n\n    /**\r\n      @override\r\n      @param {Object} opts\r\n    */\n    value: function _update(opts) {\n      if (opts.mask) opts.validate = function (value) {\n        return value.search(opts.mask) >= 0;\n      };\n\n      _get(_getPrototypeOf(MaskedRegExp.prototype), \"_update\", this).call(this, opts);\n    }\n  }]);\n\n  return MaskedRegExp;\n}(Masked);\nIMask.MaskedRegExp = MaskedRegExp;\n\nexport default MaskedRegExp;\n","import { d as _inherits, a as _createClass, b as _classCallCheck, e as _possibleConstructorReturn, f as _getPrototypeOf, g as _get, c as _objectWithoutProperties, h as _set } from '../_rollupPluginBabelHelpers-3c58f0e3.js';\nimport { forceDirection, DIRECTION } from '../core/utils.js';\nimport ChangeDetails from '../core/change-details.js';\nimport '../core/continuous-tail-details.js';\nimport IMask from '../core/holder.js';\nimport Masked from './base.js';\nimport createMask from './factory.js';\nimport PatternInputDefinition, { DEFAULT_INPUT_DEFINITIONS } from './pattern/input-definition.js';\nimport PatternFixedDefinition from './pattern/fixed-definition.js';\nimport ChunksTailDetails from './pattern/chunk-tail-details.js';\nimport './regexp.js';\n\n/**\r\n  Pattern mask\r\n  @param {Object} opts\r\n  @param {Object} opts.blocks\r\n  @param {Object} opts.definitions\r\n  @param {string} opts.placeholderChar\r\n  @param {boolean} opts.lazy\r\n*/\nvar MaskedPattern =\n/*#__PURE__*/\nfunction (_Masked) {\n  _inherits(MaskedPattern, _Masked);\n\n  /** */\n\n  /** */\n\n  /** Single char for empty input */\n\n  /** Show placeholder only when needed */\n  function MaskedPattern() {\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, MaskedPattern);\n\n    // TODO type $Shape<MaskedPatternOptions>={} does not work\n    opts.definitions = Object.assign({}, DEFAULT_INPUT_DEFINITIONS, opts.definitions);\n    return _possibleConstructorReturn(this, _getPrototypeOf(MaskedPattern).call(this, Object.assign({}, MaskedPattern.DEFAULTS, {}, opts)));\n  }\n  /**\r\n    @override\r\n    @param {Object} opts\r\n  */\n\n\n  _createClass(MaskedPattern, [{\n    key: \"_update\",\n    value: function _update() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      opts.definitions = Object.assign({}, this.definitions, opts.definitions);\n\n      _get(_getPrototypeOf(MaskedPattern.prototype), \"_update\", this).call(this, opts);\n\n      this._rebuildMask();\n    }\n    /** */\n\n  }, {\n    key: \"_rebuildMask\",\n    value: function _rebuildMask() {\n      var _this = this;\n\n      var defs = this.definitions;\n      this._blocks = [];\n      this._stops = [];\n      this._maskedBlocks = {};\n      var pattern = this.mask;\n      if (!pattern || !defs) return;\n      var unmaskingBlock = false;\n      var optionalBlock = false;\n\n      for (var i = 0; i < pattern.length; ++i) {\n        if (this.blocks) {\n          var _ret = function () {\n            var p = pattern.slice(i);\n            var bNames = Object.keys(_this.blocks).filter(function (bName) {\n              return p.indexOf(bName) === 0;\n            }); // order by key length\n\n            bNames.sort(function (a, b) {\n              return b.length - a.length;\n            }); // use block name with max length\n\n            var bName = bNames[0];\n\n            if (bName) {\n              var maskedBlock = createMask(Object.assign({\n                parent: _this,\n                lazy: _this.lazy,\n                placeholderChar: _this.placeholderChar,\n                overwrite: _this.overwrite\n              }, _this.blocks[bName]));\n\n              if (maskedBlock) {\n                _this._blocks.push(maskedBlock); // store block index\n\n\n                if (!_this._maskedBlocks[bName]) _this._maskedBlocks[bName] = [];\n\n                _this._maskedBlocks[bName].push(_this._blocks.length - 1);\n              }\n\n              i += bName.length - 1;\n              return \"continue\";\n            }\n          }();\n\n          if (_ret === \"continue\") continue;\n        }\n\n        var char = pattern[i];\n\n        var _isInput = char in defs;\n\n        if (char === MaskedPattern.STOP_CHAR) {\n          this._stops.push(this._blocks.length);\n\n          continue;\n        }\n\n        if (char === '{' || char === '}') {\n          unmaskingBlock = !unmaskingBlock;\n          continue;\n        }\n\n        if (char === '[' || char === ']') {\n          optionalBlock = !optionalBlock;\n          continue;\n        }\n\n        if (char === MaskedPattern.ESCAPE_CHAR) {\n          ++i;\n          char = pattern[i];\n          if (!char) break;\n          _isInput = false;\n        }\n\n        var def = _isInput ? new PatternInputDefinition({\n          parent: this,\n          lazy: this.lazy,\n          placeholderChar: this.placeholderChar,\n          mask: defs[char],\n          isOptional: optionalBlock\n        }) : new PatternFixedDefinition({\n          char: char,\n          isUnmasking: unmaskingBlock\n        });\n\n        this._blocks.push(def);\n      }\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"reset\",\n\n    /**\r\n      @override\r\n    */\n    value: function reset() {\n      _get(_getPrototypeOf(MaskedPattern.prototype), \"reset\", this).call(this);\n\n      this._blocks.forEach(function (b) {\n        return b.reset();\n      });\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"doCommit\",\n\n    /**\r\n      @override\r\n    */\n    value: function doCommit() {\n      this._blocks.forEach(function (b) {\n        return b.doCommit();\n      });\n\n      _get(_getPrototypeOf(MaskedPattern.prototype), \"doCommit\", this).call(this);\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"appendTail\",\n\n    /**\r\n      @override\r\n    */\n    value: function appendTail(tail) {\n      return _get(_getPrototypeOf(MaskedPattern.prototype), \"appendTail\", this).call(this, tail).aggregate(this._appendPlaceholder());\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"_appendCharRaw\",\n    value: function _appendCharRaw(ch) {\n      var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      ch = this.doPrepare(ch, flags);\n\n      var blockIter = this._mapPosToBlock(this.value.length);\n\n      var details = new ChangeDetails();\n      if (!blockIter) return details;\n\n      for (var bi = blockIter.index;; ++bi) {\n        var _block = this._blocks[bi];\n        if (!_block) break;\n\n        var blockDetails = _block._appendChar(ch, flags);\n\n        var skip = blockDetails.skip;\n        details.aggregate(blockDetails);\n        if (skip || blockDetails.rawInserted) break; // go next char\n      }\n\n      return details;\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"extractTail\",\n    value: function extractTail() {\n      var _this2 = this;\n\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n      var chunkTail = new ChunksTailDetails();\n      if (fromPos === toPos) return chunkTail;\n\n      this._forEachBlocksInRange(fromPos, toPos, function (b, bi, bFromPos, bToPos) {\n        var blockChunk = b.extractTail(bFromPos, bToPos);\n        blockChunk.stop = _this2._findStopBefore(bi);\n        blockChunk.from = _this2._blockStartPos(bi);\n        if (blockChunk instanceof ChunksTailDetails) blockChunk.blockIndex = bi;\n        chunkTail.extend(blockChunk);\n      });\n\n      return chunkTail;\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"extractInput\",\n    value: function extractInput() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n      var flags = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      if (fromPos === toPos) return '';\n      var input = '';\n\n      this._forEachBlocksInRange(fromPos, toPos, function (b, _, fromPos, toPos) {\n        input += b.extractInput(fromPos, toPos, flags);\n      });\n\n      return input;\n    }\n  }, {\n    key: \"_findStopBefore\",\n    value: function _findStopBefore(blockIndex) {\n      var stopBefore;\n\n      for (var si = 0; si < this._stops.length; ++si) {\n        var stop = this._stops[si];\n        if (stop <= blockIndex) stopBefore = stop;else break;\n      }\n\n      return stopBefore;\n    }\n    /** Appends placeholder depending on laziness */\n\n  }, {\n    key: \"_appendPlaceholder\",\n    value: function _appendPlaceholder(toBlockIndex) {\n      var _this3 = this;\n\n      var details = new ChangeDetails();\n      if (this.lazy && toBlockIndex == null) return details;\n\n      var startBlockIter = this._mapPosToBlock(this.value.length);\n\n      if (!startBlockIter) return details;\n      var startBlockIndex = startBlockIter.index;\n      var endBlockIndex = toBlockIndex != null ? toBlockIndex : this._blocks.length;\n\n      this._blocks.slice(startBlockIndex, endBlockIndex).forEach(function (b) {\n        if (!b.lazy || toBlockIndex != null) {\n          // $FlowFixMe `_blocks` may not be present\n          var args = b._blocks != null ? [b._blocks.length] : [];\n\n          var bDetails = b._appendPlaceholder.apply(b, args);\n\n          _this3._value += bDetails.inserted;\n          details.aggregate(bDetails);\n        }\n      });\n\n      return details;\n    }\n    /** Finds block in pos */\n\n  }, {\n    key: \"_mapPosToBlock\",\n    value: function _mapPosToBlock(pos) {\n      var accVal = '';\n\n      for (var bi = 0; bi < this._blocks.length; ++bi) {\n        var _block2 = this._blocks[bi];\n        var blockStartPos = accVal.length;\n        accVal += _block2.value;\n\n        if (pos <= accVal.length) {\n          return {\n            index: bi,\n            offset: pos - blockStartPos\n          };\n        }\n      }\n    }\n    /** */\n\n  }, {\n    key: \"_blockStartPos\",\n    value: function _blockStartPos(blockIndex) {\n      return this._blocks.slice(0, blockIndex).reduce(function (pos, b) {\n        return pos += b.value.length;\n      }, 0);\n    }\n    /** */\n\n  }, {\n    key: \"_forEachBlocksInRange\",\n    value: function _forEachBlocksInRange(fromPos) {\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n      var fn = arguments.length > 2 ? arguments[2] : undefined;\n\n      var fromBlockIter = this._mapPosToBlock(fromPos);\n\n      if (fromBlockIter) {\n        var toBlockIter = this._mapPosToBlock(toPos); // process first block\n\n\n        var isSameBlock = toBlockIter && fromBlockIter.index === toBlockIter.index;\n        var fromBlockStartPos = fromBlockIter.offset;\n        var fromBlockEndPos = toBlockIter && isSameBlock ? toBlockIter.offset : this._blocks[fromBlockIter.index].value.length;\n        fn(this._blocks[fromBlockIter.index], fromBlockIter.index, fromBlockStartPos, fromBlockEndPos);\n\n        if (toBlockIter && !isSameBlock) {\n          // process intermediate blocks\n          for (var bi = fromBlockIter.index + 1; bi < toBlockIter.index; ++bi) {\n            fn(this._blocks[bi], bi, 0, this._blocks[bi].value.length);\n          } // process last block\n\n\n          fn(this._blocks[toBlockIter.index], toBlockIter.index, 0, toBlockIter.offset);\n        }\n      }\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n\n      var removeDetails = _get(_getPrototypeOf(MaskedPattern.prototype), \"remove\", this).call(this, fromPos, toPos);\n\n      this._forEachBlocksInRange(fromPos, toPos, function (b, _, bFromPos, bToPos) {\n        removeDetails.aggregate(b.remove(bFromPos, bToPos));\n      });\n\n      return removeDetails;\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"nearestInputPos\",\n    value: function nearestInputPos(cursorPos) {\n      var direction = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DIRECTION.NONE;\n      // TODO refactor - extract alignblock\n      var beginBlockData = this._mapPosToBlock(cursorPos) || {\n        index: 0,\n        offset: 0\n      };\n      var beginBlockOffset = beginBlockData.offset,\n          beginBlockIndex = beginBlockData.index;\n      var beginBlock = this._blocks[beginBlockIndex];\n      if (!beginBlock) return cursorPos;\n      var beginBlockCursorPos = beginBlockOffset; // if position inside block - try to adjust it\n\n      if (beginBlockCursorPos !== 0 && beginBlockCursorPos < beginBlock.value.length) {\n        beginBlockCursorPos = beginBlock.nearestInputPos(beginBlockOffset, forceDirection(direction));\n      }\n\n      var cursorAtRight = beginBlockCursorPos === beginBlock.value.length;\n      var cursorAtLeft = beginBlockCursorPos === 0; //  cursor is INSIDE first block (not at bounds)\n\n      if (!cursorAtLeft && !cursorAtRight) return this._blockStartPos(beginBlockIndex) + beginBlockCursorPos;\n      var searchBlockIndex = cursorAtRight ? beginBlockIndex + 1 : beginBlockIndex;\n\n      if (direction === DIRECTION.NONE) {\n        // NONE direction used to calculate start input position if no chars were removed\n        // FOR NONE:\n        // -\n        // input|any\n        // ->\n        //  any|input\n        // <-\n        //  filled-input|any\n        // check if first block at left is input\n        if (searchBlockIndex > 0) {\n          var blockIndexAtLeft = searchBlockIndex - 1;\n          var blockAtLeft = this._blocks[blockIndexAtLeft];\n          var blockInputPos = blockAtLeft.nearestInputPos(0, DIRECTION.NONE); // is input\n\n          if (!blockAtLeft.value.length || blockInputPos !== blockAtLeft.value.length) {\n            return this._blockStartPos(searchBlockIndex);\n          }\n        } // ->\n\n\n        var firstInputAtRight = searchBlockIndex;\n\n        for (var bi = firstInputAtRight; bi < this._blocks.length; ++bi) {\n          var blockAtRight = this._blocks[bi];\n\n          var _blockInputPos = blockAtRight.nearestInputPos(0, DIRECTION.NONE);\n\n          if (!blockAtRight.value.length || _blockInputPos !== blockAtRight.value.length) {\n            return this._blockStartPos(bi) + _blockInputPos;\n          }\n        } // <-\n        // find first non-fixed symbol\n\n\n        for (var _bi = searchBlockIndex - 1; _bi >= 0; --_bi) {\n          var _block3 = this._blocks[_bi];\n\n          var _blockInputPos2 = _block3.nearestInputPos(0, DIRECTION.NONE); // is input\n\n\n          if (!_block3.value.length || _blockInputPos2 !== _block3.value.length) {\n            return this._blockStartPos(_bi) + _block3.value.length;\n          }\n        }\n\n        return cursorPos;\n      }\n\n      if (direction === DIRECTION.LEFT || direction === DIRECTION.FORCE_LEFT) {\n        // -\n        //  any|filled-input\n        // <-\n        //  any|first not empty is not-len-aligned\n        //  not-0-aligned|any\n        // ->\n        //  any|not-len-aligned or end\n        // check if first block at right is filled input\n        var firstFilledBlockIndexAtRight;\n\n        for (var _bi2 = searchBlockIndex; _bi2 < this._blocks.length; ++_bi2) {\n          if (this._blocks[_bi2].value) {\n            firstFilledBlockIndexAtRight = _bi2;\n            break;\n          }\n        }\n\n        if (firstFilledBlockIndexAtRight != null) {\n          var filledBlock = this._blocks[firstFilledBlockIndexAtRight];\n\n          var _blockInputPos3 = filledBlock.nearestInputPos(0, DIRECTION.RIGHT);\n\n          if (_blockInputPos3 === 0 && filledBlock.unmaskedValue.length) {\n            // filled block is input\n            return this._blockStartPos(firstFilledBlockIndexAtRight) + _blockInputPos3;\n          }\n        } // <-\n        // find this vars\n\n\n        var firstFilledInputBlockIndex = -1;\n        var firstEmptyInputBlockIndex; // TODO consider nested empty inputs\n\n        for (var _bi3 = searchBlockIndex - 1; _bi3 >= 0; --_bi3) {\n          var _block4 = this._blocks[_bi3];\n\n          var _blockInputPos4 = _block4.nearestInputPos(_block4.value.length, DIRECTION.FORCE_LEFT);\n\n          if (!_block4.value || _blockInputPos4 !== 0) firstEmptyInputBlockIndex = _bi3;\n\n          if (_blockInputPos4 !== 0) {\n            if (_blockInputPos4 !== _block4.value.length) {\n              // aligned inside block - return immediately\n              return this._blockStartPos(_bi3) + _blockInputPos4;\n            } else {\n              // found filled\n              firstFilledInputBlockIndex = _bi3;\n              break;\n            }\n          }\n        }\n\n        if (direction === DIRECTION.LEFT) {\n          // try find first empty input before start searching position only when not forced\n          for (var _bi4 = firstFilledInputBlockIndex + 1; _bi4 <= Math.min(searchBlockIndex, this._blocks.length - 1); ++_bi4) {\n            var _block5 = this._blocks[_bi4];\n\n            var _blockInputPos5 = _block5.nearestInputPos(0, DIRECTION.NONE);\n\n            var blockAlignedPos = this._blockStartPos(_bi4) + _blockInputPos5;\n\n            if (blockAlignedPos > cursorPos) break; // if block is not lazy input\n\n            if (_blockInputPos5 !== _block5.value.length) return blockAlignedPos;\n          }\n        } // process overflow\n\n\n        if (firstFilledInputBlockIndex >= 0) {\n          return this._blockStartPos(firstFilledInputBlockIndex) + this._blocks[firstFilledInputBlockIndex].value.length;\n        } // for lazy if has aligned left inside fixed and has came to the start - use start position\n\n\n        if (direction === DIRECTION.FORCE_LEFT || this.lazy && !this.extractInput() && !isInput(this._blocks[searchBlockIndex])) {\n          return 0;\n        }\n\n        if (firstEmptyInputBlockIndex != null) {\n          return this._blockStartPos(firstEmptyInputBlockIndex);\n        } // find first input\n\n\n        for (var _bi5 = searchBlockIndex; _bi5 < this._blocks.length; ++_bi5) {\n          var _block6 = this._blocks[_bi5];\n\n          var _blockInputPos6 = _block6.nearestInputPos(0, DIRECTION.NONE); // is input\n\n\n          if (!_block6.value.length || _blockInputPos6 !== _block6.value.length) {\n            return this._blockStartPos(_bi5) + _blockInputPos6;\n          }\n        }\n\n        return 0;\n      }\n\n      if (direction === DIRECTION.RIGHT || direction === DIRECTION.FORCE_RIGHT) {\n        // ->\n        //  any|not-len-aligned and filled\n        //  any|not-len-aligned\n        // <-\n        //  not-0-aligned or start|any\n        var firstInputBlockAlignedIndex;\n        var firstInputBlockAlignedPos;\n\n        for (var _bi6 = searchBlockIndex; _bi6 < this._blocks.length; ++_bi6) {\n          var _block7 = this._blocks[_bi6];\n\n          var _blockInputPos7 = _block7.nearestInputPos(0, DIRECTION.NONE);\n\n          if (_blockInputPos7 !== _block7.value.length) {\n            firstInputBlockAlignedPos = this._blockStartPos(_bi6) + _blockInputPos7;\n            firstInputBlockAlignedIndex = _bi6;\n            break;\n          }\n        }\n\n        if (firstInputBlockAlignedIndex != null && firstInputBlockAlignedPos != null) {\n          for (var _bi7 = firstInputBlockAlignedIndex; _bi7 < this._blocks.length; ++_bi7) {\n            var _block8 = this._blocks[_bi7];\n\n            var _blockInputPos8 = _block8.nearestInputPos(0, DIRECTION.FORCE_RIGHT);\n\n            if (_blockInputPos8 !== _block8.value.length) {\n              return this._blockStartPos(_bi7) + _blockInputPos8;\n            }\n          }\n\n          return direction === DIRECTION.FORCE_RIGHT ? this.value.length : firstInputBlockAlignedPos;\n        }\n\n        for (var _bi8 = Math.min(searchBlockIndex, this._blocks.length - 1); _bi8 >= 0; --_bi8) {\n          var _block9 = this._blocks[_bi8];\n\n          var _blockInputPos9 = _block9.nearestInputPos(_block9.value.length, DIRECTION.LEFT);\n\n          if (_blockInputPos9 !== 0) {\n            var alignedPos = this._blockStartPos(_bi8) + _blockInputPos9;\n\n            if (alignedPos >= cursorPos) return alignedPos;\n            break;\n          }\n        }\n      }\n\n      return cursorPos;\n    }\n    /** Get block by name */\n\n  }, {\n    key: \"maskedBlock\",\n    value: function maskedBlock(name) {\n      return this.maskedBlocks(name)[0];\n    }\n    /** Get all blocks by name */\n\n  }, {\n    key: \"maskedBlocks\",\n    value: function maskedBlocks(name) {\n      var _this4 = this;\n\n      var indices = this._maskedBlocks[name];\n      if (!indices) return [];\n      return indices.map(function (gi) {\n        return _this4._blocks[gi];\n      });\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return Object.assign({}, _get(_getPrototypeOf(MaskedPattern.prototype), \"state\", this), {\n        _blocks: this._blocks.map(function (b) {\n          return b.state;\n        })\n      });\n    },\n    set: function set(state) {\n      var _blocks = state._blocks,\n          maskedState = _objectWithoutProperties(state, [\"_blocks\"]);\n\n      this._blocks.forEach(function (b, bi) {\n        return b.state = _blocks[bi];\n      });\n\n      _set(_getPrototypeOf(MaskedPattern.prototype), \"state\", maskedState, this, true);\n    }\n  }, {\n    key: \"isComplete\",\n    get: function get() {\n      return this._blocks.every(function (b) {\n        return b.isComplete;\n      });\n    }\n  }, {\n    key: \"unmaskedValue\",\n    get: function get() {\n      return this._blocks.reduce(function (str, b) {\n        return str += b.unmaskedValue;\n      }, '');\n    },\n    set: function set(unmaskedValue) {\n      _set(_getPrototypeOf(MaskedPattern.prototype), \"unmaskedValue\", unmaskedValue, this, true);\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"value\",\n    get: function get() {\n      // TODO return _value when not in change?\n      return this._blocks.reduce(function (str, b) {\n        return str += b.value;\n      }, '');\n    },\n    set: function set(value) {\n      _set(_getPrototypeOf(MaskedPattern.prototype), \"value\", value, this, true);\n    }\n  }]);\n\n  return MaskedPattern;\n}(Masked);\nMaskedPattern.DEFAULTS = {\n  lazy: true,\n  placeholderChar: '_'\n};\nMaskedPattern.STOP_CHAR = '`';\nMaskedPattern.ESCAPE_CHAR = '\\\\';\nMaskedPattern.InputDefinition = PatternInputDefinition;\nMaskedPattern.FixedDefinition = PatternFixedDefinition;\n\nfunction isInput(block) {\n  if (!block) return false;\n  var value = block.value;\n  return !value || block.nearestInputPos(0, DIRECTION.NONE) !== value.length;\n}\n\nIMask.MaskedPattern = MaskedPattern;\n\nexport default MaskedPattern;\n","import { d as _inherits, a as _createClass, b as _classCallCheck, e as _possibleConstructorReturn, f as _getPrototypeOf, g as _get, i as _slicedToArray } from '../_rollupPluginBabelHelpers-3c58f0e3.js';\nimport '../core/utils.js';\nimport '../core/change-details.js';\nimport '../core/continuous-tail-details.js';\nimport IMask from '../core/holder.js';\nimport './base.js';\nimport './factory.js';\nimport './pattern/input-definition.js';\nimport './pattern/fixed-definition.js';\nimport './pattern/chunk-tail-details.js';\nimport './regexp.js';\nimport MaskedPattern from './pattern.js';\n\n/** Pattern which accepts ranges */\n\nvar MaskedRange =\n/*#__PURE__*/\nfunction (_MaskedPattern) {\n  _inherits(MaskedRange, _MaskedPattern);\n\n  function MaskedRange() {\n    _classCallCheck(this, MaskedRange);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(MaskedRange).apply(this, arguments));\n  }\n\n  _createClass(MaskedRange, [{\n    key: \"_update\",\n\n    /**\r\n      @override\r\n    */\n    value: function _update(opts) {\n      // TODO type\n      opts = Object.assign({\n        to: this.to || 0,\n        from: this.from || 0\n      }, opts);\n      var maxLength = String(opts.to).length;\n      if (opts.maxLength != null) maxLength = Math.max(maxLength, opts.maxLength);\n      opts.maxLength = maxLength;\n      var fromStr = String(opts.from).padStart(maxLength, '0');\n      var toStr = String(opts.to).padStart(maxLength, '0');\n      var sameCharsCount = 0;\n\n      while (sameCharsCount < toStr.length && toStr[sameCharsCount] === fromStr[sameCharsCount]) {\n        ++sameCharsCount;\n      }\n\n      opts.mask = toStr.slice(0, sameCharsCount).replace(/0/g, '\\\\0') + '0'.repeat(maxLength - sameCharsCount);\n\n      _get(_getPrototypeOf(MaskedRange.prototype), \"_update\", this).call(this, opts);\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"boundaries\",\n    value: function boundaries(str) {\n      var minstr = '';\n      var maxstr = '';\n\n      var _ref = str.match(/^(\\D*)(\\d*)(\\D*)/) || [],\n          _ref2 = _slicedToArray(_ref, 3),\n          placeholder = _ref2[1],\n          num = _ref2[2];\n\n      if (num) {\n        minstr = '0'.repeat(placeholder.length) + num;\n        maxstr = '9'.repeat(placeholder.length) + num;\n      }\n\n      minstr = minstr.padEnd(this.maxLength, '0');\n      maxstr = maxstr.padEnd(this.maxLength, '9');\n      return [minstr, maxstr];\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"doPrepare\",\n    value: function doPrepare(str) {\n      var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      str = _get(_getPrototypeOf(MaskedRange.prototype), \"doPrepare\", this).call(this, str, flags).replace(/\\D/g, '');\n      if (!this.autofix) return str;\n      var fromStr = String(this.from).padStart(this.maxLength, '0');\n      var toStr = String(this.to).padStart(this.maxLength, '0');\n      var val = this.value;\n      var prepStr = '';\n\n      for (var ci = 0; ci < str.length; ++ci) {\n        var nextVal = val + prepStr + str[ci];\n\n        var _this$boundaries = this.boundaries(nextVal),\n            _this$boundaries2 = _slicedToArray(_this$boundaries, 2),\n            minstr = _this$boundaries2[0],\n            maxstr = _this$boundaries2[1];\n\n        if (Number(maxstr) < this.from) prepStr += fromStr[nextVal.length - 1];else if (Number(minstr) > this.to) prepStr += toStr[nextVal.length - 1];else prepStr += str[ci];\n      }\n\n      return prepStr;\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"doValidate\",\n    value: function doValidate() {\n      var _get2;\n\n      var str = this.value;\n      var firstNonZero = str.search(/[^0]/);\n      if (firstNonZero === -1 && str.length <= this._matchFrom) return true;\n\n      var _this$boundaries3 = this.boundaries(str),\n          _this$boundaries4 = _slicedToArray(_this$boundaries3, 2),\n          minstr = _this$boundaries4[0],\n          maxstr = _this$boundaries4[1];\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return this.from <= Number(maxstr) && Number(minstr) <= this.to && (_get2 = _get(_getPrototypeOf(MaskedRange.prototype), \"doValidate\", this)).call.apply(_get2, [this].concat(args));\n    }\n  }, {\n    key: \"_matchFrom\",\n\n    /**\r\n      Optionally sets max length of pattern.\r\n      Used when pattern length is longer then `to` param length. Pads zeros at start in this case.\r\n    */\n\n    /** Min bound */\n\n    /** Max bound */\n\n    /** */\n    get: function get() {\n      return this.maxLength - String(this.from).length;\n    }\n  }, {\n    key: \"isComplete\",\n    get: function get() {\n      return _get(_getPrototypeOf(MaskedRange.prototype), \"isComplete\", this) && Boolean(this.value);\n    }\n  }]);\n\n  return MaskedRange;\n}(MaskedPattern);\nIMask.MaskedRange = MaskedRange;\n\nexport default MaskedRange;\n","import { d as _inherits, a as _createClass, i as _slicedToArray, b as _classCallCheck, e as _possibleConstructorReturn, f as _getPrototypeOf, g as _get, h as _set } from '../_rollupPluginBabelHelpers-3c58f0e3.js';\nimport '../core/utils.js';\nimport '../core/change-details.js';\nimport '../core/continuous-tail-details.js';\nimport IMask from '../core/holder.js';\nimport './base.js';\nimport './factory.js';\nimport './pattern/input-definition.js';\nimport './pattern/fixed-definition.js';\nimport './pattern/chunk-tail-details.js';\nimport './regexp.js';\nimport MaskedPattern from './pattern.js';\nimport MaskedRange from './range.js';\n\n/** Date mask */\n\nvar MaskedDate =\n/*#__PURE__*/\nfunction (_MaskedPattern) {\n  _inherits(MaskedDate, _MaskedPattern);\n\n  /** Pattern mask for date according to {@link MaskedDate#format} */\n\n  /** Start date */\n\n  /** End date */\n\n  /** */\n\n  /**\r\n    @param {Object} opts\r\n  */\n  function MaskedDate(opts) {\n    _classCallCheck(this, MaskedDate);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(MaskedDate).call(this, Object.assign({}, MaskedDate.DEFAULTS, {}, opts)));\n  }\n  /**\r\n    @override\r\n  */\n\n\n  _createClass(MaskedDate, [{\n    key: \"_update\",\n    value: function _update(opts) {\n      if (opts.mask === Date) delete opts.mask;\n      if (opts.pattern) opts.mask = opts.pattern;\n      var blocks = opts.blocks;\n      opts.blocks = Object.assign({}, MaskedDate.GET_DEFAULT_BLOCKS()); // adjust year block\n\n      if (opts.min) opts.blocks.Y.from = opts.min.getFullYear();\n      if (opts.max) opts.blocks.Y.to = opts.max.getFullYear();\n\n      if (opts.min && opts.max && opts.blocks.Y.from === opts.blocks.Y.to) {\n        opts.blocks.m.from = opts.min.getMonth() + 1;\n        opts.blocks.m.to = opts.max.getMonth() + 1;\n\n        if (opts.blocks.m.from === opts.blocks.m.to) {\n          opts.blocks.d.from = opts.min.getDate();\n          opts.blocks.d.to = opts.max.getDate();\n        }\n      }\n\n      Object.assign(opts.blocks, blocks); // add autofix\n\n      Object.keys(opts.blocks).forEach(function (bk) {\n        var b = opts.blocks[bk];\n        if (!('autofix' in b)) b.autofix = opts.autofix;\n      });\n\n      _get(_getPrototypeOf(MaskedDate.prototype), \"_update\", this).call(this, opts);\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"doValidate\",\n    value: function doValidate() {\n      var _get2;\n\n      var date = this.date;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return (_get2 = _get(_getPrototypeOf(MaskedDate.prototype), \"doValidate\", this)).call.apply(_get2, [this].concat(args)) && (!this.isComplete || this.isDateExist(this.value) && date != null && (this.min == null || this.min <= date) && (this.max == null || date <= this.max));\n    }\n    /** Checks if date is exists */\n\n  }, {\n    key: \"isDateExist\",\n    value: function isDateExist(str) {\n      return this.format(this.parse(str, this), this).indexOf(str) >= 0;\n    }\n    /** Parsed Date */\n\n  }, {\n    key: \"date\",\n    get: function get() {\n      return this.typedValue;\n    },\n    set: function set(date) {\n      this.typedValue = date;\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"typedValue\",\n    get: function get() {\n      return this.isComplete ? _get(_getPrototypeOf(MaskedDate.prototype), \"typedValue\", this) : null;\n    },\n    set: function set(value) {\n      _set(_getPrototypeOf(MaskedDate.prototype), \"typedValue\", value, this, true);\n    }\n  }]);\n\n  return MaskedDate;\n}(MaskedPattern);\nMaskedDate.DEFAULTS = {\n  pattern: 'd{.}`m{.}`Y',\n  format: function format(date) {\n    var day = String(date.getDate()).padStart(2, '0');\n    var month = String(date.getMonth() + 1).padStart(2, '0');\n    var year = date.getFullYear();\n    return [day, month, year].join('.');\n  },\n  parse: function parse(str) {\n    var _str$split = str.split('.'),\n        _str$split2 = _slicedToArray(_str$split, 3),\n        day = _str$split2[0],\n        month = _str$split2[1],\n        year = _str$split2[2];\n\n    return new Date(year, month - 1, day);\n  }\n};\n\nMaskedDate.GET_DEFAULT_BLOCKS = function () {\n  return {\n    d: {\n      mask: MaskedRange,\n      from: 1,\n      to: 31,\n      maxLength: 2\n    },\n    m: {\n      mask: MaskedRange,\n      from: 1,\n      to: 12,\n      maxLength: 2\n    },\n    Y: {\n      mask: MaskedRange,\n      from: 1900,\n      to: 9999\n    }\n  };\n};\n\nIMask.MaskedDate = MaskedDate;\n\nexport default MaskedDate;\n","import { a as _createClass, b as _classCallCheck } from '../_rollupPluginBabelHelpers-3c58f0e3.js';\nimport IMask from '../core/holder.js';\n\n/**\r\n  Generic element API to use with mask\r\n  @interface\r\n*/\nvar MaskElement =\n/*#__PURE__*/\nfunction () {\n  function MaskElement() {\n    _classCallCheck(this, MaskElement);\n  }\n\n  _createClass(MaskElement, [{\n    key: \"select\",\n\n    /** Safely sets element selection */\n    value: function select(start, end) {\n      if (start == null || end == null || start === this.selectionStart && end === this.selectionEnd) return;\n\n      try {\n        this._unsafeSelect(start, end);\n      } catch (e) {}\n    }\n    /** Should be overriden in subclasses */\n\n  }, {\n    key: \"_unsafeSelect\",\n    value: function _unsafeSelect(start, end) {}\n    /** Should be overriden in subclasses */\n\n  }, {\n    key: \"bindEvents\",\n\n    /** Should be overriden in subclasses */\n    value: function bindEvents(handlers) {}\n    /** Should be overriden in subclasses */\n\n  }, {\n    key: \"unbindEvents\",\n    value: function unbindEvents() {}\n  }, {\n    key: \"selectionStart\",\n\n    /** */\n\n    /** */\n\n    /** */\n\n    /** Safely returns selection start */\n    get: function get() {\n      var start;\n\n      try {\n        start = this._unsafeSelectionStart;\n      } catch (e) {}\n\n      return start != null ? start : this.value.length;\n    }\n    /** Safely returns selection end */\n\n  }, {\n    key: \"selectionEnd\",\n    get: function get() {\n      var end;\n\n      try {\n        end = this._unsafeSelectionEnd;\n      } catch (e) {}\n\n      return end != null ? end : this.value.length;\n    }\n  }, {\n    key: \"isActive\",\n    get: function get() {\n      return false;\n    }\n  }]);\n\n  return MaskElement;\n}();\nIMask.MaskElement = MaskElement;\n\nexport default MaskElement;\n","import { d as _inherits, a as _createClass, b as _classCallCheck, e as _possibleConstructorReturn, f as _getPrototypeOf } from '../_rollupPluginBabelHelpers-3c58f0e3.js';\nimport IMask from '../core/holder.js';\nimport MaskElement from './mask-element.js';\n\n/** Bridge between HTMLElement and {@link Masked} */\n\nvar HTMLMaskElement =\n/*#__PURE__*/\nfunction (_MaskElement) {\n  _inherits(HTMLMaskElement, _MaskElement);\n\n  /** Mapping between HTMLElement events and mask internal events */\n\n  /** HTMLElement to use mask on */\n\n  /**\r\n    @param {HTMLInputElement|HTMLTextAreaElement} input\r\n  */\n  function HTMLMaskElement(input) {\n    var _this;\n\n    _classCallCheck(this, HTMLMaskElement);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HTMLMaskElement).call(this));\n    _this.input = input;\n    _this._handlers = {};\n    return _this;\n  }\n  /** */\n  // $FlowFixMe https://github.com/facebook/flow/issues/2839\n\n\n  _createClass(HTMLMaskElement, [{\n    key: \"_unsafeSelect\",\n\n    /**\r\n      Sets HTMLElement selection\r\n      @override\r\n    */\n    value: function _unsafeSelect(start, end) {\n      this.input.setSelectionRange(start, end);\n    }\n    /**\r\n      HTMLElement value\r\n      @override\r\n    */\n\n  }, {\n    key: \"bindEvents\",\n\n    /**\r\n      Binds HTMLElement events to mask internal events\r\n      @override\r\n    */\n    value: function bindEvents(handlers) {\n      var _this2 = this;\n\n      Object.keys(handlers).forEach(function (event) {\n        return _this2._toggleEventHandler(HTMLMaskElement.EVENTS_MAP[event], handlers[event]);\n      });\n    }\n    /**\r\n      Unbinds HTMLElement events to mask internal events\r\n      @override\r\n    */\n\n  }, {\n    key: \"unbindEvents\",\n    value: function unbindEvents() {\n      var _this3 = this;\n\n      Object.keys(this._handlers).forEach(function (event) {\n        return _this3._toggleEventHandler(event);\n      });\n    }\n    /** */\n\n  }, {\n    key: \"_toggleEventHandler\",\n    value: function _toggleEventHandler(event, handler) {\n      if (this._handlers[event]) {\n        this.input.removeEventListener(event, this._handlers[event]);\n        delete this._handlers[event];\n      }\n\n      if (handler) {\n        this.input.addEventListener(event, handler);\n        this._handlers[event] = handler;\n      }\n    }\n  }, {\n    key: \"rootElement\",\n    get: function get() {\n      return this.input.getRootNode ? this.input.getRootNode() : document;\n    }\n    /**\r\n      Is element in focus\r\n      @readonly\r\n    */\n\n  }, {\n    key: \"isActive\",\n    get: function get() {\n      //$FlowFixMe\n      return this.input === this.rootElement.activeElement;\n    }\n    /**\r\n      Returns HTMLElement selection start\r\n      @override\r\n    */\n\n  }, {\n    key: \"_unsafeSelectionStart\",\n    get: function get() {\n      return this.input.selectionStart;\n    }\n    /**\r\n      Returns HTMLElement selection end\r\n      @override\r\n    */\n\n  }, {\n    key: \"_unsafeSelectionEnd\",\n    get: function get() {\n      return this.input.selectionEnd;\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this.input.value;\n    },\n    set: function set(value) {\n      this.input.value = value;\n    }\n  }]);\n\n  return HTMLMaskElement;\n}(MaskElement);\nHTMLMaskElement.EVENTS_MAP = {\n  selectionChange: 'keydown',\n  input: 'input',\n  drop: 'drop',\n  click: 'click',\n  focus: 'focus',\n  commit: 'blur'\n};\nIMask.HTMLMaskElement = HTMLMaskElement;\n\nexport default HTMLMaskElement;\n","import { d as _inherits, a as _createClass, b as _classCallCheck, e as _possibleConstructorReturn, f as _getPrototypeOf } from '../_rollupPluginBabelHelpers-3c58f0e3.js';\nimport IMask from '../core/holder.js';\nimport './mask-element.js';\nimport HTMLMaskElement from './html-mask-element.js';\n\nvar HTMLContenteditableMaskElement =\n/*#__PURE__*/\nfunction (_HTMLMaskElement) {\n  _inherits(HTMLContenteditableMaskElement, _HTMLMaskElement);\n\n  function HTMLContenteditableMaskElement() {\n    _classCallCheck(this, HTMLContenteditableMaskElement);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(HTMLContenteditableMaskElement).apply(this, arguments));\n  }\n\n  _createClass(HTMLContenteditableMaskElement, [{\n    key: \"_unsafeSelect\",\n\n    /**\r\n      Sets HTMLElement selection\r\n      @override\r\n    */\n    value: function _unsafeSelect(start, end) {\n      if (!this.rootElement.createRange) return;\n      var range = this.rootElement.createRange();\n      range.setStart(this.input.firstChild || this.input, start);\n      range.setEnd(this.input.lastChild || this.input, end);\n      var root = this.rootElement;\n      var selection = root.getSelection && root.getSelection();\n\n      if (selection) {\n        selection.removeAllRanges();\n        selection.addRange(range);\n      }\n    }\n    /**\r\n      HTMLElement value\r\n      @override\r\n    */\n\n  }, {\n    key: \"_unsafeSelectionStart\",\n\n    /**\r\n      Returns HTMLElement selection start\r\n      @override\r\n    */\n    get: function get() {\n      var root = this.rootElement;\n      var selection = root.getSelection && root.getSelection();\n      return selection && selection.anchorOffset;\n    }\n    /**\r\n      Returns HTMLElement selection end\r\n      @override\r\n    */\n\n  }, {\n    key: \"_unsafeSelectionEnd\",\n    get: function get() {\n      var root = this.rootElement;\n      var selection = root.getSelection && root.getSelection();\n      return selection && this._unsafeSelectionStart + String(selection).length;\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      // $FlowFixMe\n      return this.input.textContent;\n    },\n    set: function set(value) {\n      this.input.textContent = value;\n    }\n  }]);\n\n  return HTMLContenteditableMaskElement;\n}(HTMLMaskElement);\nIMask.HTMLContenteditableMaskElement = HTMLContenteditableMaskElement;\n\nexport default HTMLContenteditableMaskElement;\n","import { a as _createClass, b as _classCallCheck, c as _objectWithoutProperties } from '../_rollupPluginBabelHelpers-3c58f0e3.js';\nimport { objectIncludes, DIRECTION } from '../core/utils.js';\nimport ActionDetails from '../core/action-details.js';\nimport '../core/change-details.js';\nimport '../core/continuous-tail-details.js';\nimport IMask from '../core/holder.js';\nimport '../masked/base.js';\nimport createMask, { maskedClass } from '../masked/factory.js';\nimport '../masked/pattern/input-definition.js';\nimport '../masked/pattern/fixed-definition.js';\nimport '../masked/pattern/chunk-tail-details.js';\nimport '../masked/regexp.js';\nimport '../masked/pattern.js';\nimport '../masked/range.js';\nimport MaskedDate from '../masked/date.js';\nimport MaskElement from './mask-element.js';\nimport HTMLMaskElement from './html-mask-element.js';\nimport HTMLContenteditableMaskElement from './html-contenteditable-mask-element.js';\n\n/** Listens to element events and controls changes between element and {@link Masked} */\n\nvar InputMask =\n/*#__PURE__*/\nfunction () {\n  /**\r\n    View element\r\n    @readonly\r\n  */\n\n  /**\r\n    Internal {@link Masked} model\r\n    @readonly\r\n  */\n\n  /**\r\n    @param {MaskElement|HTMLInputElement|HTMLTextAreaElement} el\r\n    @param {Object} opts\r\n  */\n  function InputMask(el, opts) {\n    _classCallCheck(this, InputMask);\n\n    this.el = el instanceof MaskElement ? el : el.isContentEditable && el.tagName !== 'INPUT' && el.tagName !== 'TEXTAREA' ? new HTMLContenteditableMaskElement(el) : new HTMLMaskElement(el);\n    this.masked = createMask(opts);\n    this._listeners = {};\n    this._value = '';\n    this._unmaskedValue = '';\n    this._saveSelection = this._saveSelection.bind(this);\n    this._onInput = this._onInput.bind(this);\n    this._onChange = this._onChange.bind(this);\n    this._onDrop = this._onDrop.bind(this);\n    this._onFocus = this._onFocus.bind(this);\n    this._onClick = this._onClick.bind(this);\n    this.alignCursor = this.alignCursor.bind(this);\n    this.alignCursorFriendly = this.alignCursorFriendly.bind(this);\n\n    this._bindEvents(); // refresh\n\n\n    this.updateValue();\n\n    this._onChange();\n  }\n  /** Read or update mask */\n\n\n  _createClass(InputMask, [{\n    key: \"maskEquals\",\n    value: function maskEquals(mask) {\n      return mask == null || mask === this.masked.mask || mask === Date && this.masked instanceof MaskedDate;\n    }\n  }, {\n    key: \"_bindEvents\",\n\n    /**\r\n      Starts listening to element events\r\n      @protected\r\n    */\n    value: function _bindEvents() {\n      this.el.bindEvents({\n        selectionChange: this._saveSelection,\n        input: this._onInput,\n        drop: this._onDrop,\n        click: this._onClick,\n        focus: this._onFocus,\n        commit: this._onChange\n      });\n    }\n    /**\r\n      Stops listening to element events\r\n      @protected\r\n     */\n\n  }, {\n    key: \"_unbindEvents\",\n    value: function _unbindEvents() {\n      if (this.el) this.el.unbindEvents();\n    }\n    /**\r\n      Fires custom event\r\n      @protected\r\n     */\n\n  }, {\n    key: \"_fireEvent\",\n    value: function _fireEvent(ev) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      var listeners = this._listeners[ev];\n      if (!listeners) return;\n      listeners.forEach(function (l) {\n        return l.apply(void 0, args);\n      });\n    }\n    /**\r\n      Current selection start\r\n      @readonly\r\n    */\n\n  }, {\n    key: \"_saveSelection\",\n\n    /**\r\n      Stores current selection\r\n      @protected\r\n    */\n    value: function _saveSelection()\n    /* ev */\n    {\n      if (this.value !== this.el.value) {\n        console.warn('Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly.'); // eslint-disable-line no-console\n      }\n\n      this._selection = {\n        start: this.selectionStart,\n        end: this.cursorPos\n      };\n    }\n    /** Syncronizes model value from view */\n\n  }, {\n    key: \"updateValue\",\n    value: function updateValue() {\n      this.masked.value = this.el.value;\n      this._value = this.masked.value;\n    }\n    /** Syncronizes view from model value, fires change events */\n\n  }, {\n    key: \"updateControl\",\n    value: function updateControl() {\n      var newUnmaskedValue = this.masked.unmaskedValue;\n      var newValue = this.masked.value;\n      var isChanged = this.unmaskedValue !== newUnmaskedValue || this.value !== newValue;\n      this._unmaskedValue = newUnmaskedValue;\n      this._value = newValue;\n      if (this.el.value !== newValue) this.el.value = newValue;\n      if (isChanged) this._fireChangeEvents();\n    }\n    /** Updates options with deep equal check, recreates @{link Masked} model if mask type changes */\n\n  }, {\n    key: \"updateOptions\",\n    value: function updateOptions(opts) {\n      var mask = opts.mask,\n          restOpts = _objectWithoutProperties(opts, [\"mask\"]);\n\n      var updateMask = !this.maskEquals(mask);\n      var updateOpts = !objectIncludes(this.masked, restOpts);\n      if (updateMask) this.mask = mask;\n      if (updateOpts) this.masked.updateOptions(restOpts);\n      if (updateMask || updateOpts) this.updateControl();\n    }\n    /** Updates cursor */\n\n  }, {\n    key: \"updateCursor\",\n    value: function updateCursor(cursorPos) {\n      if (cursorPos == null) return;\n      this.cursorPos = cursorPos; // also queue change cursor for mobile browsers\n\n      this._delayUpdateCursor(cursorPos);\n    }\n    /**\r\n      Delays cursor update to support mobile browsers\r\n      @private\r\n    */\n\n  }, {\n    key: \"_delayUpdateCursor\",\n    value: function _delayUpdateCursor(cursorPos) {\n      var _this = this;\n\n      this._abortUpdateCursor();\n\n      this._changingCursorPos = cursorPos;\n      this._cursorChanging = setTimeout(function () {\n        if (!_this.el) return; // if was destroyed\n\n        _this.cursorPos = _this._changingCursorPos;\n\n        _this._abortUpdateCursor();\n      }, 10);\n    }\n    /**\r\n      Fires custom events\r\n      @protected\r\n    */\n\n  }, {\n    key: \"_fireChangeEvents\",\n    value: function _fireChangeEvents() {\n      this._fireEvent('accept', this._inputEvent);\n\n      if (this.masked.isComplete) this._fireEvent('complete', this._inputEvent);\n    }\n    /**\r\n      Aborts delayed cursor update\r\n      @private\r\n    */\n\n  }, {\n    key: \"_abortUpdateCursor\",\n    value: function _abortUpdateCursor() {\n      if (this._cursorChanging) {\n        clearTimeout(this._cursorChanging);\n        delete this._cursorChanging;\n      }\n    }\n    /** Aligns cursor to nearest available position */\n\n  }, {\n    key: \"alignCursor\",\n    value: function alignCursor() {\n      this.cursorPos = this.masked.nearestInputPos(this.cursorPos, DIRECTION.LEFT);\n    }\n    /** Aligns cursor only if selection is empty */\n\n  }, {\n    key: \"alignCursorFriendly\",\n    value: function alignCursorFriendly() {\n      if (this.selectionStart !== this.cursorPos) return; // skip if range is selected\n\n      this.alignCursor();\n    }\n    /** Adds listener on custom event */\n\n  }, {\n    key: \"on\",\n    value: function on(ev, handler) {\n      if (!this._listeners[ev]) this._listeners[ev] = [];\n\n      this._listeners[ev].push(handler);\n\n      return this;\n    }\n    /** Removes custom event listener */\n\n  }, {\n    key: \"off\",\n    value: function off(ev, handler) {\n      if (!this._listeners[ev]) return this;\n\n      if (!handler) {\n        delete this._listeners[ev];\n        return this;\n      }\n\n      var hIndex = this._listeners[ev].indexOf(handler);\n\n      if (hIndex >= 0) this._listeners[ev].splice(hIndex, 1);\n      return this;\n    }\n    /** Handles view input event */\n\n  }, {\n    key: \"_onInput\",\n    value: function _onInput(e) {\n      this._inputEvent = e;\n\n      this._abortUpdateCursor(); // fix strange IE behavior\n\n\n      if (!this._selection) return this.updateValue();\n      var details = new ActionDetails( // new state\n      this.el.value, this.cursorPos, // old state\n      this.value, this._selection);\n      var oldRawValue = this.masked.rawInputValue;\n      var offset = this.masked.splice(details.startChangePos, details.removed.length, details.inserted, details.removeDirection).offset; // force align in remove direction only if no input chars were removed\n      // otherwise we still need to align with NONE (to get out from fixed symbols for instance)\n\n      var removeDirection = oldRawValue === this.masked.rawInputValue ? details.removeDirection : DIRECTION.NONE;\n      var cursorPos = this.masked.nearestInputPos(details.startChangePos + offset, removeDirection);\n      this.updateControl();\n      this.updateCursor(cursorPos);\n      delete this._inputEvent;\n    }\n    /** Handles view change event and commits model value */\n\n  }, {\n    key: \"_onChange\",\n    value: function _onChange() {\n      if (this.value !== this.el.value) {\n        this.updateValue();\n      }\n\n      this.masked.doCommit();\n      this.updateControl();\n\n      this._saveSelection();\n    }\n    /** Handles view drop event, prevents by default */\n\n  }, {\n    key: \"_onDrop\",\n    value: function _onDrop(ev) {\n      ev.preventDefault();\n      ev.stopPropagation();\n    }\n    /** Restore last selection on focus */\n\n  }, {\n    key: \"_onFocus\",\n    value: function _onFocus(ev) {\n      this.alignCursorFriendly();\n    }\n    /** Restore last selection on focus */\n\n  }, {\n    key: \"_onClick\",\n    value: function _onClick(ev) {\n      this.alignCursorFriendly();\n    }\n    /** Unbind view events and removes element reference */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this._unbindEvents(); // $FlowFixMe why not do so?\n\n\n      this._listeners.length = 0; // $FlowFixMe\n\n      delete this.el;\n    }\n  }, {\n    key: \"mask\",\n    get: function get() {\n      return this.masked.mask;\n    },\n    set: function set(mask) {\n      if (this.maskEquals(mask)) return;\n\n      if (!(mask instanceof IMask.Masked) && this.masked.constructor === maskedClass(mask)) {\n        this.masked.updateOptions({\n          mask: mask\n        });\n        return;\n      }\n\n      var masked = createMask({\n        mask: mask\n      });\n      masked.unmaskedValue = this.masked.unmaskedValue;\n      this.masked = masked;\n    }\n    /** Raw value */\n\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this._value;\n    },\n    set: function set(str) {\n      this.masked.value = str;\n      this.updateControl();\n      this.alignCursor();\n    }\n    /** Unmasked value */\n\n  }, {\n    key: \"unmaskedValue\",\n    get: function get() {\n      return this._unmaskedValue;\n    },\n    set: function set(str) {\n      this.masked.unmaskedValue = str;\n      this.updateControl();\n      this.alignCursor();\n    }\n    /** Typed unmasked value */\n\n  }, {\n    key: \"typedValue\",\n    get: function get() {\n      return this.masked.typedValue;\n    },\n    set: function set(val) {\n      this.masked.typedValue = val;\n      this.updateControl();\n      this.alignCursor();\n    }\n  }, {\n    key: \"selectionStart\",\n    get: function get() {\n      return this._cursorChanging ? this._changingCursorPos : this.el.selectionStart;\n    }\n    /** Current cursor position */\n\n  }, {\n    key: \"cursorPos\",\n    get: function get() {\n      return this._cursorChanging ? this._changingCursorPos : this.el.selectionEnd;\n    },\n    set: function set(pos) {\n      if (!this.el || !this.el.isActive) return;\n      this.el.select(pos, pos);\n\n      this._saveSelection();\n    }\n  }]);\n\n  return InputMask;\n}();\nIMask.InputMask = InputMask;\n\nexport default InputMask;\n","import './_rollupPluginBabelHelpers-3c58f0e3.js';\nimport './core/utils.js';\nimport './core/action-details.js';\nimport './core/change-details.js';\nimport './core/continuous-tail-details.js';\nimport IMask from './core/holder.js';\nimport './masked/base.js';\nimport './masked/factory.js';\nimport './masked/pattern/input-definition.js';\nimport './masked/pattern/fixed-definition.js';\nimport './masked/pattern/chunk-tail-details.js';\nimport './masked/regexp.js';\nimport './masked/pattern.js';\nimport './masked/range.js';\nimport './masked/date.js';\nimport './controls/mask-element.js';\nimport './controls/html-mask-element.js';\nimport './controls/html-contenteditable-mask-element.js';\nimport './controls/input.js';\n\n\n\nexport default IMask;\n","import { d as _inherits, a as _createClass, b as _classCallCheck, e as _possibleConstructorReturn, f as _getPrototypeOf, g as _get } from '../_rollupPluginBabelHelpers-3c58f0e3.js';\nimport '../core/utils.js';\nimport '../core/change-details.js';\nimport '../core/continuous-tail-details.js';\nimport IMask from '../core/holder.js';\nimport './base.js';\nimport './factory.js';\nimport './pattern/input-definition.js';\nimport './pattern/fixed-definition.js';\nimport './pattern/chunk-tail-details.js';\nimport './regexp.js';\nimport MaskedPattern from './pattern.js';\n\n/** Pattern which validates enum values */\n\nvar MaskedEnum =\n/*#__PURE__*/\nfunction (_MaskedPattern) {\n  _inherits(MaskedEnum, _MaskedPattern);\n\n  function MaskedEnum() {\n    _classCallCheck(this, MaskedEnum);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(MaskedEnum).apply(this, arguments));\n  }\n\n  _createClass(MaskedEnum, [{\n    key: \"_update\",\n\n    /**\r\n      @override\r\n      @param {Object} opts\r\n    */\n    value: function _update(opts) {\n      // TODO type\n      if (opts.enum) opts.mask = '*'.repeat(opts.enum[0].length);\n\n      _get(_getPrototypeOf(MaskedEnum.prototype), \"_update\", this).call(this, opts);\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"doValidate\",\n    value: function doValidate() {\n      var _this = this,\n          _get2;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return this.enum.some(function (e) {\n        return e.indexOf(_this.unmaskedValue) >= 0;\n      }) && (_get2 = _get(_getPrototypeOf(MaskedEnum.prototype), \"doValidate\", this)).call.apply(_get2, [this].concat(args));\n    }\n  }]);\n\n  return MaskedEnum;\n}(MaskedPattern);\nIMask.MaskedEnum = MaskedEnum;\n\nexport default MaskedEnum;\n","import { d as _inherits, a as _createClass, b as _classCallCheck, e as _possibleConstructorReturn, f as _getPrototypeOf, g as _get, i as _slicedToArray, h as _set } from '../_rollupPluginBabelHelpers-3c58f0e3.js';\nimport { escapeRegExp, DIRECTION } from '../core/utils.js';\nimport ChangeDetails from '../core/change-details.js';\nimport '../core/continuous-tail-details.js';\nimport IMask from '../core/holder.js';\nimport Masked from './base.js';\n\n/**\r\n  Number mask\r\n  @param {Object} opts\r\n  @param {string} opts.radix - Single char\r\n  @param {string} opts.thousandsSeparator - Single char\r\n  @param {Array<string>} opts.mapToRadix - Array of single chars\r\n  @param {number} opts.min\r\n  @param {number} opts.max\r\n  @param {number} opts.scale - Digits after point\r\n  @param {boolean} opts.signed - Allow negative\r\n  @param {boolean} opts.normalizeZeros - Flag to remove leading and trailing zeros in the end of editing\r\n  @param {boolean} opts.padFractionalZeros - Flag to pad trailing zeros after point in the end of editing\r\n*/\nvar MaskedNumber =\n/*#__PURE__*/\nfunction (_Masked) {\n  _inherits(MaskedNumber, _Masked);\n\n  /** Single char */\n\n  /** Single char */\n\n  /** Array of single chars */\n\n  /** */\n\n  /** */\n\n  /** Digits after point */\n\n  /** */\n\n  /** Flag to remove leading and trailing zeros in the end of editing */\n\n  /** Flag to pad trailing zeros after point in the end of editing */\n  function MaskedNumber(opts) {\n    _classCallCheck(this, MaskedNumber);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(MaskedNumber).call(this, Object.assign({}, MaskedNumber.DEFAULTS, {}, opts)));\n  }\n  /**\r\n    @override\r\n  */\n\n\n  _createClass(MaskedNumber, [{\n    key: \"_update\",\n    value: function _update(opts) {\n      _get(_getPrototypeOf(MaskedNumber.prototype), \"_update\", this).call(this, opts);\n\n      this._updateRegExps();\n    }\n    /** */\n\n  }, {\n    key: \"_updateRegExps\",\n    value: function _updateRegExps() {\n      // use different regexp to process user input (more strict, input suffix) and tail shifting\n      var start = '^' + (this.allowNegative ? '[+|\\\\-]?' : '');\n      var midInput = '(0|([1-9]+\\\\d*))?';\n      var mid = '\\\\d*';\n      var end = (this.scale ? '(' + escapeRegExp(this.radix) + '\\\\d{0,' + this.scale + '})?' : '') + '$';\n      this._numberRegExpInput = new RegExp(start + midInput + end);\n      this._numberRegExp = new RegExp(start + mid + end);\n      this._mapToRadixRegExp = new RegExp('[' + this.mapToRadix.map(escapeRegExp).join('') + ']', 'g');\n      this._thousandsSeparatorRegExp = new RegExp(escapeRegExp(this.thousandsSeparator), 'g');\n    }\n    /** */\n\n  }, {\n    key: \"_removeThousandsSeparators\",\n    value: function _removeThousandsSeparators(value) {\n      return value.replace(this._thousandsSeparatorRegExp, '');\n    }\n    /** */\n\n  }, {\n    key: \"_insertThousandsSeparators\",\n    value: function _insertThousandsSeparators(value) {\n      // https://stackoverflow.com/questions/2901102/how-to-print-a-number-with-commas-as-thousands-separators-in-javascript\n      var parts = value.split(this.radix);\n      parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, this.thousandsSeparator);\n      return parts.join(this.radix);\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"doPrepare\",\n    value: function doPrepare(str) {\n      var _get2;\n\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      return (_get2 = _get(_getPrototypeOf(MaskedNumber.prototype), \"doPrepare\", this)).call.apply(_get2, [this, this._removeThousandsSeparators(str.replace(this._mapToRadixRegExp, this.radix))].concat(args));\n    }\n    /** */\n\n  }, {\n    key: \"_separatorsCount\",\n    value: function _separatorsCount(to) {\n      var extendOnSeparators = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var count = 0;\n\n      for (var pos = 0; pos < to; ++pos) {\n        if (this._value.indexOf(this.thousandsSeparator, pos) === pos) {\n          ++count;\n          if (extendOnSeparators) to += this.thousandsSeparator.length;\n        }\n      }\n\n      return count;\n    }\n    /** */\n\n  }, {\n    key: \"_separatorsCountFromSlice\",\n    value: function _separatorsCountFromSlice() {\n      var slice = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this._value;\n      return this._separatorsCount(this._removeThousandsSeparators(slice).length, true);\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"extractInput\",\n    value: function extractInput() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n      var flags = arguments.length > 2 ? arguments[2] : undefined;\n\n      var _this$_adjustRangeWit = this._adjustRangeWithSeparators(fromPos, toPos);\n\n      var _this$_adjustRangeWit2 = _slicedToArray(_this$_adjustRangeWit, 2);\n\n      fromPos = _this$_adjustRangeWit2[0];\n      toPos = _this$_adjustRangeWit2[1];\n      return this._removeThousandsSeparators(_get(_getPrototypeOf(MaskedNumber.prototype), \"extractInput\", this).call(this, fromPos, toPos, flags));\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"_appendCharRaw\",\n    value: function _appendCharRaw(ch) {\n      var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      if (!this.thousandsSeparator) return _get(_getPrototypeOf(MaskedNumber.prototype), \"_appendCharRaw\", this).call(this, ch, flags);\n      var prevBeforeTailValue = flags.tail && flags._beforeTailState ? flags._beforeTailState._value : this._value;\n\n      var prevBeforeTailSeparatorsCount = this._separatorsCountFromSlice(prevBeforeTailValue);\n\n      this._value = this._removeThousandsSeparators(this.value);\n\n      var appendDetails = _get(_getPrototypeOf(MaskedNumber.prototype), \"_appendCharRaw\", this).call(this, ch, flags);\n\n      this._value = this._insertThousandsSeparators(this._value);\n      var beforeTailValue = flags.tail && flags._beforeTailState ? flags._beforeTailState._value : this._value;\n\n      var beforeTailSeparatorsCount = this._separatorsCountFromSlice(beforeTailValue);\n\n      appendDetails.tailShift += (beforeTailSeparatorsCount - prevBeforeTailSeparatorsCount) * this.thousandsSeparator.length;\n      appendDetails.skip = !appendDetails.rawInserted && ch === this.thousandsSeparator;\n      return appendDetails;\n    }\n    /** */\n\n  }, {\n    key: \"_findSeparatorAround\",\n    value: function _findSeparatorAround(pos) {\n      if (this.thousandsSeparator) {\n        var searchFrom = pos - this.thousandsSeparator.length + 1;\n        var separatorPos = this.value.indexOf(this.thousandsSeparator, searchFrom);\n        if (separatorPos <= pos) return separatorPos;\n      }\n\n      return -1;\n    }\n  }, {\n    key: \"_adjustRangeWithSeparators\",\n    value: function _adjustRangeWithSeparators(from, to) {\n      var separatorAroundFromPos = this._findSeparatorAround(from);\n\n      if (separatorAroundFromPos >= 0) from = separatorAroundFromPos;\n\n      var separatorAroundToPos = this._findSeparatorAround(to);\n\n      if (separatorAroundToPos >= 0) to = separatorAroundToPos + this.thousandsSeparator.length;\n      return [from, to];\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n\n      var _this$_adjustRangeWit3 = this._adjustRangeWithSeparators(fromPos, toPos);\n\n      var _this$_adjustRangeWit4 = _slicedToArray(_this$_adjustRangeWit3, 2);\n\n      fromPos = _this$_adjustRangeWit4[0];\n      toPos = _this$_adjustRangeWit4[1];\n      var valueBeforePos = this.value.slice(0, fromPos);\n      var valueAfterPos = this.value.slice(toPos);\n\n      var prevBeforeTailSeparatorsCount = this._separatorsCount(valueBeforePos.length);\n\n      this._value = this._insertThousandsSeparators(this._removeThousandsSeparators(valueBeforePos + valueAfterPos));\n\n      var beforeTailSeparatorsCount = this._separatorsCountFromSlice(valueBeforePos);\n\n      return new ChangeDetails({\n        tailShift: (beforeTailSeparatorsCount - prevBeforeTailSeparatorsCount) * this.thousandsSeparator.length\n      });\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"nearestInputPos\",\n    value: function nearestInputPos(cursorPos, direction) {\n      if (!this.thousandsSeparator) return cursorPos;\n\n      switch (direction) {\n        case DIRECTION.NONE:\n        case DIRECTION.LEFT:\n        case DIRECTION.FORCE_LEFT:\n          {\n            var separatorAtLeftPos = this._findSeparatorAround(cursorPos - 1);\n\n            if (separatorAtLeftPos >= 0) {\n              var separatorAtLeftEndPos = separatorAtLeftPos + this.thousandsSeparator.length;\n\n              if (cursorPos < separatorAtLeftEndPos || this.value.length <= separatorAtLeftEndPos || direction === DIRECTION.FORCE_LEFT) {\n                return separatorAtLeftPos;\n              }\n            }\n\n            break;\n          }\n\n        case DIRECTION.RIGHT:\n        case DIRECTION.FORCE_RIGHT:\n          {\n            var separatorAtRightPos = this._findSeparatorAround(cursorPos);\n\n            if (separatorAtRightPos >= 0) {\n              return separatorAtRightPos + this.thousandsSeparator.length;\n            }\n          }\n      }\n\n      return cursorPos;\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"doValidate\",\n    value: function doValidate(flags) {\n      var regexp = flags.input ? this._numberRegExpInput : this._numberRegExp; // validate as string\n\n      var valid = regexp.test(this._removeThousandsSeparators(this.value));\n\n      if (valid) {\n        // validate as number\n        var number = this.number;\n        valid = valid && !isNaN(number) && ( // check min bound for negative values\n        this.min == null || this.min >= 0 || this.min <= this.number) && ( // check max bound for positive values\n        this.max == null || this.max <= 0 || this.number <= this.max);\n      }\n\n      return valid && _get(_getPrototypeOf(MaskedNumber.prototype), \"doValidate\", this).call(this, flags);\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"doCommit\",\n    value: function doCommit() {\n      if (this.value) {\n        var number = this.number;\n        var validnum = number; // check bounds\n\n        if (this.min != null) validnum = Math.max(validnum, this.min);\n        if (this.max != null) validnum = Math.min(validnum, this.max);\n        if (validnum !== number) this.unmaskedValue = String(validnum);\n        var formatted = this.value;\n        if (this.normalizeZeros) formatted = this._normalizeZeros(formatted);\n        if (this.padFractionalZeros) formatted = this._padFractionalZeros(formatted);\n        this._value = formatted;\n      }\n\n      _get(_getPrototypeOf(MaskedNumber.prototype), \"doCommit\", this).call(this);\n    }\n    /** */\n\n  }, {\n    key: \"_normalizeZeros\",\n    value: function _normalizeZeros(value) {\n      var parts = this._removeThousandsSeparators(value).split(this.radix); // remove leading zeros\n\n\n      parts[0] = parts[0].replace(/^(\\D*)(0*)(\\d*)/, function (match, sign, zeros, num) {\n        return sign + num;\n      }); // add leading zero\n\n      if (value.length && !/\\d$/.test(parts[0])) parts[0] = parts[0] + '0';\n\n      if (parts.length > 1) {\n        parts[1] = parts[1].replace(/0*$/, ''); // remove trailing zeros\n\n        if (!parts[1].length) parts.length = 1; // remove fractional\n      }\n\n      return this._insertThousandsSeparators(parts.join(this.radix));\n    }\n    /** */\n\n  }, {\n    key: \"_padFractionalZeros\",\n    value: function _padFractionalZeros(value) {\n      if (!value) return value;\n      var parts = value.split(this.radix);\n      if (parts.length < 2) parts.push('');\n      parts[1] = parts[1].padEnd(this.scale, '0');\n      return parts.join(this.radix);\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"unmaskedValue\",\n    get: function get() {\n      return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix, '.');\n    },\n    set: function set(unmaskedValue) {\n      _set(_getPrototypeOf(MaskedNumber.prototype), \"unmaskedValue\", unmaskedValue.replace('.', this.radix), this, true);\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"typedValue\",\n    get: function get() {\n      return Number(this.unmaskedValue);\n    },\n    set: function set(n) {\n      _set(_getPrototypeOf(MaskedNumber.prototype), \"unmaskedValue\", String(n), this, true);\n    }\n    /** Parsed Number */\n\n  }, {\n    key: \"number\",\n    get: function get() {\n      return this.typedValue;\n    },\n    set: function set(number) {\n      this.typedValue = number;\n    }\n    /**\r\n      Is negative allowed\r\n      @readonly\r\n    */\n\n  }, {\n    key: \"allowNegative\",\n    get: function get() {\n      return this.signed || this.min != null && this.min < 0 || this.max != null && this.max < 0;\n    }\n  }]);\n\n  return MaskedNumber;\n}(Masked);\nMaskedNumber.DEFAULTS = {\n  radix: ',',\n  thousandsSeparator: '',\n  mapToRadix: ['.'],\n  scale: 2,\n  signed: false,\n  normalizeZeros: true,\n  padFractionalZeros: false\n};\nIMask.MaskedNumber = MaskedNumber;\n\nexport default MaskedNumber;\n","import { d as _inherits, a as _createClass, b as _classCallCheck, e as _possibleConstructorReturn, f as _getPrototypeOf, g as _get } from '../_rollupPluginBabelHelpers-3c58f0e3.js';\nimport '../core/utils.js';\nimport '../core/change-details.js';\nimport '../core/continuous-tail-details.js';\nimport IMask from '../core/holder.js';\nimport Masked from './base.js';\n\n/** Masking by custom Function */\n\nvar MaskedFunction =\n/*#__PURE__*/\nfunction (_Masked) {\n  _inherits(MaskedFunction, _Masked);\n\n  function MaskedFunction() {\n    _classCallCheck(this, MaskedFunction);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(MaskedFunction).apply(this, arguments));\n  }\n\n  _createClass(MaskedFunction, [{\n    key: \"_update\",\n\n    /**\r\n      @override\r\n      @param {Object} opts\r\n    */\n    value: function _update(opts) {\n      if (opts.mask) opts.validate = opts.mask;\n\n      _get(_getPrototypeOf(MaskedFunction.prototype), \"_update\", this).call(this, opts);\n    }\n  }]);\n\n  return MaskedFunction;\n}(Masked);\nIMask.MaskedFunction = MaskedFunction;\n\nexport default MaskedFunction;\n","import { d as _inherits, a as _createClass, b as _classCallCheck, e as _possibleConstructorReturn, f as _getPrototypeOf, g as _get, h as _set, c as _objectWithoutProperties } from '../_rollupPluginBabelHelpers-3c58f0e3.js';\nimport '../core/utils.js';\nimport ChangeDetails from '../core/change-details.js';\nimport '../core/continuous-tail-details.js';\nimport IMask from '../core/holder.js';\nimport Masked from './base.js';\nimport createMask from './factory.js';\n\n/** Dynamic mask for choosing apropriate mask in run-time */\nvar MaskedDynamic =\n/*#__PURE__*/\nfunction (_Masked) {\n  _inherits(MaskedDynamic, _Masked);\n\n  /** Currently chosen mask */\n\n  /** Compliled {@link Masked} options */\n\n  /** Chooses {@link Masked} depending on input value */\n\n  /**\r\n    @param {Object} opts\r\n  */\n  function MaskedDynamic(opts) {\n    var _this;\n\n    _classCallCheck(this, MaskedDynamic);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MaskedDynamic).call(this, Object.assign({}, MaskedDynamic.DEFAULTS, {}, opts)));\n    _this.currentMask = null;\n    return _this;\n  }\n  /**\r\n    @override\r\n  */\n\n\n  _createClass(MaskedDynamic, [{\n    key: \"_update\",\n    value: function _update(opts) {\n      _get(_getPrototypeOf(MaskedDynamic.prototype), \"_update\", this).call(this, opts);\n\n      if ('mask' in opts) {\n        // mask could be totally dynamic with only `dispatch` option\n        this.compiledMasks = Array.isArray(opts.mask) ? opts.mask.map(function (m) {\n          return createMask(m);\n        }) : [];\n      }\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"_appendCharRaw\",\n    value: function _appendCharRaw() {\n      var details = this._applyDispatch.apply(this, arguments);\n\n      if (this.currentMask) {\n        var _this$currentMask;\n\n        details.aggregate((_this$currentMask = this.currentMask)._appendChar.apply(_this$currentMask, arguments));\n      }\n\n      return details;\n    }\n  }, {\n    key: \"_applyDispatch\",\n    value: function _applyDispatch() {\n      var appended = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n      var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var prevValueBeforeTail = flags.tail && flags._beforeTailState != null ? flags._beforeTailState._value : this.value;\n      var inputValue = this.rawInputValue;\n      var insertValue = flags.tail && flags._beforeTailState != null ? // $FlowFixMe - tired to fight with type system\n      flags._beforeTailState._rawInputValue : inputValue;\n      var tailValue = inputValue.slice(insertValue.length);\n      var prevMask = this.currentMask;\n      var details = new ChangeDetails();\n      var prevMaskState = prevMask && prevMask.state; // clone flags to prevent overwriting `_beforeTailState`\n\n      this.currentMask = this.doDispatch(appended, Object.assign({}, flags)); // restore state after dispatch\n\n      if (this.currentMask) {\n        if (this.currentMask !== prevMask) {\n          // if mask changed reapply input\n          this.currentMask.reset(); // $FlowFixMe - it's ok, we don't change current mask above\n\n          var d = this.currentMask.append(insertValue, {\n            raw: true\n          });\n          details.tailShift = d.inserted.length - prevValueBeforeTail.length;\n\n          if (tailValue) {\n            // $FlowFixMe - it's ok, we don't change current mask above\n            details.tailShift += this.currentMask.append(tailValue, {\n              raw: true,\n              tail: true\n            }).tailShift;\n          }\n        } else {\n          // Dispatch can do something bad with state, so\n          // restore prev mask state\n          this.currentMask.state = prevMaskState;\n        }\n      }\n\n      return details;\n    }\n  }, {\n    key: \"_appendPlaceholder\",\n    value: function _appendPlaceholder() {\n      var details = this._applyDispatch.apply(this, arguments);\n\n      if (this.currentMask) {\n        details.aggregate(this.currentMask._appendPlaceholder());\n      }\n\n      return details;\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"doDispatch\",\n    value: function doDispatch(appended) {\n      var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return this.dispatch(appended, this, flags);\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"doValidate\",\n    value: function doValidate() {\n      var _get2, _this$currentMask2;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return (_get2 = _get(_getPrototypeOf(MaskedDynamic.prototype), \"doValidate\", this)).call.apply(_get2, [this].concat(args)) && (!this.currentMask || (_this$currentMask2 = this.currentMask).doValidate.apply(_this$currentMask2, args));\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      if (this.currentMask) this.currentMask.reset();\n      this.compiledMasks.forEach(function (m) {\n        return m.reset();\n      });\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"remove\",\n\n    /**\r\n      @override\r\n    */\n    value: function remove() {\n      var details = new ChangeDetails();\n\n      if (this.currentMask) {\n        var _this$currentMask3;\n\n        details.aggregate((_this$currentMask3 = this.currentMask).remove.apply(_this$currentMask3, arguments)) // update with dispatch\n        .aggregate(this._applyDispatch());\n      }\n\n      return details;\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"extractInput\",\n\n    /**\r\n      @override\r\n    */\n    value: function extractInput() {\n      var _this$currentMask4;\n\n      return this.currentMask ? (_this$currentMask4 = this.currentMask).extractInput.apply(_this$currentMask4, arguments) : '';\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"extractTail\",\n    value: function extractTail() {\n      var _this$currentMask5, _get3;\n\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return this.currentMask ? (_this$currentMask5 = this.currentMask).extractTail.apply(_this$currentMask5, args) : (_get3 = _get(_getPrototypeOf(MaskedDynamic.prototype), \"extractTail\", this)).call.apply(_get3, [this].concat(args));\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"doCommit\",\n    value: function doCommit() {\n      if (this.currentMask) this.currentMask.doCommit();\n\n      _get(_getPrototypeOf(MaskedDynamic.prototype), \"doCommit\", this).call(this);\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"nearestInputPos\",\n    value: function nearestInputPos() {\n      var _this$currentMask6, _get4;\n\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      return this.currentMask ? (_this$currentMask6 = this.currentMask).nearestInputPos.apply(_this$currentMask6, args) : (_get4 = _get(_getPrototypeOf(MaskedDynamic.prototype), \"nearestInputPos\", this)).call.apply(_get4, [this].concat(args));\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this.currentMask ? this.currentMask.value : '';\n    },\n    set: function set(value) {\n      _set(_getPrototypeOf(MaskedDynamic.prototype), \"value\", value, this, true);\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"unmaskedValue\",\n    get: function get() {\n      return this.currentMask ? this.currentMask.unmaskedValue : '';\n    },\n    set: function set(unmaskedValue) {\n      _set(_getPrototypeOf(MaskedDynamic.prototype), \"unmaskedValue\", unmaskedValue, this, true);\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"typedValue\",\n    get: function get() {\n      return this.currentMask ? this.currentMask.typedValue : '';\n    } // probably typedValue should not be used with dynamic\n    ,\n    set: function set(value) {\n      var unmaskedValue = String(value); // double check it\n\n      if (this.currentMask) {\n        this.currentMask.typedValue = value;\n        unmaskedValue = this.currentMask.unmaskedValue;\n      }\n\n      this.unmaskedValue = unmaskedValue;\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"isComplete\",\n    get: function get() {\n      return !!this.currentMask && this.currentMask.isComplete;\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return Object.assign({}, _get(_getPrototypeOf(MaskedDynamic.prototype), \"state\", this), {\n        _rawInputValue: this.rawInputValue,\n        compiledMasks: this.compiledMasks.map(function (m) {\n          return m.state;\n        }),\n        currentMaskRef: this.currentMask,\n        currentMask: this.currentMask && this.currentMask.state\n      });\n    },\n    set: function set(state) {\n      var compiledMasks = state.compiledMasks,\n          currentMaskRef = state.currentMaskRef,\n          currentMask = state.currentMask,\n          maskedState = _objectWithoutProperties(state, [\"compiledMasks\", \"currentMaskRef\", \"currentMask\"]);\n\n      this.compiledMasks.forEach(function (m, mi) {\n        return m.state = compiledMasks[mi];\n      });\n\n      if (currentMaskRef != null) {\n        this.currentMask = currentMaskRef;\n        this.currentMask.state = currentMask;\n      }\n\n      _set(_getPrototypeOf(MaskedDynamic.prototype), \"state\", maskedState, this, true);\n    }\n  }, {\n    key: \"overwrite\",\n    get: function get() {\n      return this.currentMask ? this.currentMask.overwrite : _get(_getPrototypeOf(MaskedDynamic.prototype), \"overwrite\", this);\n    },\n    set: function set(overwrite) {\n      console.warn('\"overwrite\" option is not available in dynamic mask, use this option in siblings');\n    }\n  }]);\n\n  return MaskedDynamic;\n}(Masked);\nMaskedDynamic.DEFAULTS = {\n  dispatch: function dispatch(appended, masked, flags) {\n    if (!masked.compiledMasks.length) return;\n    var inputValue = masked.rawInputValue; // simulate input\n\n    var inputs = masked.compiledMasks.map(function (m, index) {\n      m.reset();\n      m.append(inputValue, {\n        raw: true\n      });\n      m.append(appended, flags);\n      var weight = m.rawInputValue.length;\n      return {\n        weight: weight,\n        index: index\n      };\n    }); // pop masks with longer values first\n\n    inputs.sort(function (i1, i2) {\n      return i2.weight - i1.weight;\n    });\n    return masked.compiledMasks[inputs[0].index];\n  }\n};\nIMask.MaskedDynamic = MaskedDynamic;\n\nexport default MaskedDynamic;\n","import '../_rollupPluginBabelHelpers-3c58f0e3.js';\nimport '../core/utils.js';\nimport IMask from '../core/holder.js';\nimport createMask from './factory.js';\n\n/** Mask pipe source and destination types */\n\nvar PIPE_TYPE = {\n  MASKED: 'value',\n  UNMASKED: 'unmaskedValue',\n  TYPED: 'typedValue'\n};\n/** Creates new pipe function depending on mask type, source and destination options */\n\nfunction createPipe(mask) {\n  var from = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : PIPE_TYPE.MASKED;\n  var to = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : PIPE_TYPE.MASKED;\n  var masked = createMask(mask);\n  return function (value) {\n    return masked.runIsolated(function (m) {\n      m[from] = value;\n      return m[to];\n    });\n  };\n}\n/** Pipes value through mask depending on mask type, source and destination options */\n\nfunction pipe(value) {\n  for (var _len = arguments.length, pipeArgs = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    pipeArgs[_key - 1] = arguments[_key];\n  }\n\n  return createPipe.apply(void 0, pipeArgs)(value);\n}\nIMask.PIPE_TYPE = PIPE_TYPE;\nIMask.createPipe = createPipe;\nIMask.pipe = pipe;\n\nexport { PIPE_TYPE, createPipe, pipe };\n","import './_rollupPluginBabelHelpers-3c58f0e3.js';\nimport './core/utils.js';\nimport './core/action-details.js';\nimport './core/change-details.js';\nimport './core/continuous-tail-details.js';\nimport './core/holder.js';\nexport { default as Masked } from './masked/base.js';\nexport { default as createMask } from './masked/factory.js';\nimport './masked/pattern/input-definition.js';\nimport './masked/pattern/fixed-definition.js';\nimport './masked/pattern/chunk-tail-details.js';\nexport { default as MaskedRegExp } from './masked/regexp.js';\nexport { default as MaskedPattern } from './masked/pattern.js';\nexport { default as MaskedRange } from './masked/range.js';\nexport { default as MaskedDate } from './masked/date.js';\nexport { default as MaskElement } from './controls/mask-element.js';\nexport { default as HTMLMaskElement } from './controls/html-mask-element.js';\nexport { default as HTMLContenteditableMaskElement } from './controls/html-contenteditable-mask-element.js';\nexport { default as InputMask } from './controls/input.js';\nimport IMask from './imask.js';\nexport { default as MaskedEnum } from './masked/enum.js';\nexport { default as MaskedNumber } from './masked/number.js';\nexport { default as MaskedFunction } from './masked/function.js';\nexport { default as MaskedDynamic } from './masked/dynamic.js';\nexport { PIPE_TYPE, createPipe, pipe } from './masked/pipe.js';\n\ntry {\n  globalThis.IMask = IMask;\n} catch (e) {}\n\nexport default IMask;\n","export default function sendHttpRequest(data, url, method) {\n  //console.log('[Inside XHR:] ', data);\n  return new Promise((resolve, reject) => {\n    const xhr = new XMLHttpRequest();\n    xhr.open(method, url);\n    xhr.setRequestHeader('Content-Type', 'application/json');\n    xhr.responseType = 'json';\n    xhr.onload = function () {\n      if ((this.status >= 200) & (this.status < 300)) {\n        resolve(xhr.response);\n      } else {\n        // new Error(\"Проблема с сервером\")\n        reject(xhr.response);\n      }\n    };\n    xhr.onerror = function () {\n      reject({\n        status: this.status,\n        statusText: xhr.statusText,\n        errors: ['Проблема с интернет-соединением'],\n      });\n    };\n    xhr.send(JSON.stringify(data));\n  });\n}\n","// importing input mask plugin\nimport IMask from 'imask';\nimport sendHttpRequest from './sendHttpRequest';\n\n// setting input masks\nconst inputMaskPhoneOptions = {\n  mask: '+7 (000) 000-00-00',\n};\nconst inputMaskTimeOptions = {\n  mask: '00:00',\n};\n\n// Regular Expressions\nconst REGEX_PHONE = /^\\+\\d{1,2}\\s+?\\(\\d{3,5}\\)\\s+?\\d{1,3}-\\d{2}-\\d{2}$/;\nconst REGEX_NAME = /[^ ]/;\nconst REGEX_TIME = /^(?:\\d|[01]\\d|2[0-3]):[0-5]\\d$/;\n\n// Validation (suitable for all fields)\nconst setCssValid = target => {\n  if (target.nextElementSibling) {\n    target.nextElementSibling.children[0].classList.remove(\n      'fa-check',\n      'has-text-success',\n      'has-text-danger'\n    );\n    target.nextElementSibling.children[0].classList.add(\n      'fa-check',\n      'has-text-success'\n    );\n  }\n  showCheck(target);\n  colorSuccess(target);\n};\nconst setCssInvalid = target => {\n  hideCheck(target);\n  colorWarning(target);\n};\nconst showCheck = target => {\n  if (target.nextElementSibling) {\n    target.nextElementSibling.classList.remove('is-invisible');\n  }\n};\nconst hideCheck = target => {\n  if (target.nextElementSibling) {\n    target.nextElementSibling.classList.add('is-invisible');\n  }\n};\nconst colorSuccess = target => {\n  target.classList.add('fieldValid');\n  target.classList.remove('fieldInvalid');\n};\nconst colorWarning = target => {\n  target.classList.add('fieldInvalid');\n  target.classList.remove('fieldValid');\n};\nconst validateField = (event, inputMask) => {\n  let target = event.target;\n  if (target.name == 'name') {\n    // color validation\n    REGEX_NAME.test(target.value) ? setCssValid(target) : setCssInvalid(target);\n  }\n  if (target.name == 'phone') {\n    // color validation\n    REGEX_PHONE.test(target.value)\n      ? setCssValid(target)\n      : setCssInvalid(target);\n  }\n  if (target.name == 'from') {\n    // color validation\n    REGEX_TIME.test(target.value) ? setCssValid(target) : setCssInvalid(target);\n  }\n  if (target.name == 'till') {\n    // color validation\n    REGEX_TIME.test(target.value) ? setCssValid(target) : setCssInvalid(target);\n  }\n  if (target.name == 'city') {\n    // color validation\n    if (target.value === 'none') {\n      colorWarning(target.nextElementSibling.firstChild);\n      target.nextElementSibling.firstChild.style.borderColor = '#ffcc00';\n    } else {\n      colorSuccess(target.nextElementSibling.firstChild);\n      target.nextElementSibling.firstChild.style.borderColor =\n        'hsl(141, 71%, 48%)';\n      target.nextElementSibling.firstChild.style.color = 'rgb(54, 54, 54)';\n    }\n  }\n};\n//////////////////////////////////////////////////////////////////////////////////////////\nexport const handleFormByID = id => {\n  if (id === 'request-form') {\n    const form = document.querySelector(`#${id}`);\n    let name = form.elements.namedItem('name');\n    name.addEventListener('input', validateField);\n    let phone = form.elements.namedItem('phone');\n    let inputMaskPhone = IMask(phone, inputMaskPhoneOptions);\n    phone.addEventListener('input', event =>\n      validateField(event, inputMaskPhone)\n    );\n    form.addEventListener('submit', event => {\n      event.preventDefault();\n      if (!REGEX_NAME.test(name.value) || !REGEX_PHONE.test(phone.value)) {\n        if (!REGEX_NAME.test(name.value)) {\n          name.focus();\n          if (name.nextElementSibling) {\n            name.nextElementSibling.classList.remove('is-invisible');\n            name.nextElementSibling.children[0].classList.remove(\n              'fa-check',\n              'has-text-success'\n            );\n            name.nextElementSibling.children[0].classList.add(\n              'fa-exclamation-triangle',\n              'has-text-danger'\n            );\n          }\n        }\n        if (!REGEX_PHONE.test(phone.value)) {\n          phone.focus();\n          if (phone.nextElementSibling) {\n            phone.nextElementSibling.classList.remove('is-invisible');\n            phone.nextElementSibling.children[0].classList.remove(\n              'fa-check',\n              'has-text-success'\n            );\n            phone.nextElementSibling.children[0].classList.add(\n              'fa-exclamation-triangle',\n              'has-text-danger'\n            );\n          }\n        }\n      } else {\n        const finName = name.value;\n        const finPhone = phone.value;\n        //const finPhone = phone.value.replace(/\\s+/g, '');\n        const body = {\n          insType: 1,\n          name: finName,\n          phone: finPhone,\n          email: 'nomail@no.no',\n          individual: true,\n          comment: 'test',\n          agreement: true,\n          region: '-',\n        };\n\n        // v------------------ sending request -----------------v\n        //\n        //\n        sendHttpRequest(body, 'https://api.euro-ins.ru/claim/request', 'POST')\n          .then(res => {\n            //\n            //\n            document\n              .getElementById('reqBackdrop')\n              .setAttribute(\n                'style',\n                'display: none; visibility:hidden; opacity: 0;'\n              );\n            document\n              .getElementById('reqWindow')\n              .setAttribute(\n                'style',\n                'display: none; visibility:hidden; opacity: 0;'\n              );\n            document.querySelector('body').style.overflow = 'visible';\n            //\n            //\n            document.querySelector('body').style.overflow = 'hidden';\n            document.getElementById(\n              'msgBody'\n            ).innerHTML = `<h3 class=\"success\">Спасибо, Ваша заявка отправлена.</h3>`;\n            document\n              .getElementById('msgBackdrop')\n              .setAttribute(\n                'style',\n                'display: block; visibility:visible; opacity: 1;'\n              );\n            document\n              .getElementById('msgWindow')\n              .setAttribute(\n                'style',\n                'display: block; visibility:visible; opacity: 1;'\n              );\n            //\n            //\n          })\n          .catch(rej => {\n            if (rej === null) {\n              const errorMessageHTML = `<h3 class='error'>Что-то пошло не так:</h3> <p class=\"has-text-warning\">Неизвестная ошибка</p>`;\n              document.getElementById('msgBody').innerHTML = errorMessageHTML;\n            } else {\n              if (rej.errors) {\n                const listOfErrors = [];\n                let listOfErrorsHTML = '';\n                for (const key in rej.errors) {\n                  listOfErrors.push(rej.errors[key]);\n                }\n                for (const error of listOfErrors) {\n                  listOfErrorsHTML += `<li class='mb-2'>${error}</li>`;\n                }\n                const errorMessageHTML = `<h3 class='error'>Что-то пошло не так:</h3> <ul class=\"has-text-warning\" style=\"list-style:square inside;padding:0;\">${listOfErrorsHTML}</ul>`;\n                document.getElementById('msgBody').innerHTML = errorMessageHTML;\n              } else {\n                const errorMessageHTML = `<h3 class='has-text-danger is-size-5'>Что-то пошло не так:</h3> <p class=\"has-text-warning\">${rej.status}</p>`;\n                document.getElementById('msgBody').innerHTML = errorMessageHTML;\n              }\n            }\n            //\n            //\n            document\n              .getElementById('reqBackdrop')\n              .setAttribute(\n                'style',\n                'display: none; visibility:hidden; opacity: 0;'\n              );\n            document\n              .getElementById('reqWindow')\n              .setAttribute(\n                'style',\n                'display: none;visibility:hidden; opacity: 0;'\n              );\n            document.querySelector('body').style.overflow = 'visible';\n            //\n            //\n            document.querySelector('body').style.overflow = 'hidden';\n            document\n              .getElementById('msgBackdrop')\n              .setAttribute(\n                'style',\n                'display: block; visibility:visible; opacity: 1;'\n              );\n            document\n              .getElementById('msgWindow')\n              .setAttribute(\n                'style',\n                'display: block; visibility:visible; opacity: 1;'\n              );\n            //\n            //\n          });\n        //\n        //\n        // ^------------------ sending request -----------------^\n      }\n    });\n  } else {\n    // -- Getting form by id\n    const form = document.querySelector(`#${id}`);\n    // -- Name handling\n    let name = form.elements.namedItem('name');\n    name.addEventListener('input', validateField);\n    // -- Phone handling\n    let phone = form.elements.namedItem('phone');\n    let inputMaskPhone = IMask(phone, inputMaskPhoneOptions);\n    phone.addEventListener('input', event =>\n      validateField(event, inputMaskPhone)\n    );\n\n    // -- Time handling\n    let from = form.elements.namedItem('from');\n    let inputMaskFrom = IMask(from, inputMaskTimeOptions);\n    from.addEventListener('input', event =>\n      validateField(event, inputMaskFrom)\n    );\n\n    let till = form.elements.namedItem('till');\n    let inputMaskTill = IMask(till, inputMaskTimeOptions);\n    till.addEventListener('input', event =>\n      validateField(event, inputMaskTill)\n    );\n\n    // -- Region handling\n    let city = form.elements.namedItem('city');\n    city.addEventListener('change', validateField);\n\n    // - Handling submit action\n    form.addEventListener('submit', event => {\n      event.preventDefault();\n      if (\n        !REGEX_NAME.test(name.value) ||\n        !REGEX_PHONE.test(phone.value) ||\n        !REGEX_TIME.test(from.value) ||\n        !REGEX_TIME.test(till.value) ||\n        city.value === 'none'\n      ) {\n        if (city.value === 'none') {\n          city.focus();\n          if (city.nextElementSibling.firstChild) {\n            colorWarning(city.nextElementSibling.firstChild);\n            city.nextElementSibling.firstChild.style.borderColor = '#ffcc00';\n            city.nextElementSibling.firstChild.style.color = '#f2323f';\n          }\n        }\n        if (!REGEX_NAME.test(name.value)) {\n          name.focus();\n          if (name.nextElementSibling) {\n            name.nextElementSibling.classList.remove('is-invisible');\n            name.nextElementSibling.children[0].classList.remove(\n              'fa-check',\n              'has-text-success'\n            );\n            name.nextElementSibling.children[0].classList.add(\n              'fa-exclamation-triangle',\n              'has-text-danger'\n            );\n          }\n        }\n        if (!REGEX_PHONE.test(phone.value)) {\n          phone.focus();\n          if (phone.nextElementSibling) {\n            phone.nextElementSibling.classList.remove('is-invisible');\n            phone.nextElementSibling.children[0].classList.remove(\n              'fa-check',\n              'has-text-success'\n            );\n            phone.nextElementSibling.children[0].classList.add(\n              'fa-exclamation-triangle',\n              'has-text-danger'\n            );\n          }\n        }\n        if (!REGEX_TIME.test(from.value)) {\n          from.focus();\n          if (from.nextElementSibling) {\n            from.nextElementSibling.classList.remove('is-invisible');\n            from.nextElementSibling.children[0].classList.remove(\n              'fa-check',\n              'has-text-success'\n            );\n            from.nextElementSibling.children[0].classList.add(\n              'fa-exclamation-triangle',\n              'has-text-danger'\n            );\n          }\n        }\n        if (!REGEX_TIME.test(till.value)) {\n          till.focus();\n          if (till.nextElementSibling) {\n            till.nextElementSibling.classList.remove('is-invisible');\n            till.nextElementSibling.children[0].classList.remove(\n              'fa-check',\n              'has-text-success'\n            );\n            till.nextElementSibling.children[0].classList.add(\n              'fa-exclamation-triangle',\n              'has-text-danger'\n            );\n          }\n        }\n      } else {\n        const finCity = city.value;\n        const finFrom = from.value;\n        const finTill = till.value;\n        const finName = name.value;\n        const finPhone = phone.value;\n        //const finPhone = phone.value.replace(/\\s+/g, '');\n        const body = {\n          agreement: true,\n          name: finName,\n          phone: finPhone,\n          region: finCity,\n          timeFrom: finFrom,\n          timeTo: finTill,\n        };\n\n        // v------------------ sending request -----------------v\n        //\n        //\n        sendHttpRequest(\n          body,\n          'https://api.euro-ins.ru/claim/submit/callback',\n          'POST'\n        )\n          .then(res => {\n            document.querySelector('body').style.overflow = 'hidden';\n            document.getElementById(\n              'msgBody'\n            ).innerHTML = `<h3 class=\"success\">Спасибо, Ваша заявка отправлена.</h3>`;\n            document\n              .getElementById('msgBackdrop')\n              .setAttribute(\n                'style',\n                'display: none; visibility:visible; opacity: 1;'\n              );\n            document\n              .getElementById('msgWindow')\n              .setAttribute(\n                'style',\n                'display: none; visibility:visible; opacity: 1;'\n              );\n          })\n          .catch(rej => {\n            if (rej === null) {\n              const errorMessageHTML = `<h3 class='error'>Что-то пошло не так:</h3> <p class=\"has-text-warning\">Неизвестная ошибка</p>`;\n              document.getElementById('msgBody').innerHTML = errorMessageHTML;\n            } else {\n              if (rej.errors) {\n                const listOfErrors = [];\n                let listOfErrorsHTML = '';\n                for (const key in rej.errors) {\n                  listOfErrors.push(rej.errors[key]);\n                }\n                for (const error of listOfErrors) {\n                  listOfErrorsHTML += `<li class='mb-2'>${error}</li>`;\n                }\n                const errorMessageHTML = `<h3 class='error'>Что-то пошло не так:</h3> <ul class=\"has-text-warning\" style=\"list-style:square inside;padding:0;\">${listOfErrorsHTML}</ul>`;\n                document.getElementById('msgBody').innerHTML = errorMessageHTML;\n              } else {\n                const errorMessageHTML = `<h3 class='has-text-danger is-size-5'>Что-то пошло не так:</h3> <p class=\"has-text-warning\">${rej.status}</p>`;\n                document.getElementById('msgBody').innerHTML = errorMessageHTML;\n              }\n            }\n\n            document.querySelector('body').style.overflow = 'hidden';\n            document\n              .getElementById('msgBackdrop')\n              .setAttribute(\n                'style',\n                'display: block; visibility:visible; opacity: 1;'\n              );\n            document\n              .getElementById('msgWindow')\n              .setAttribute(\n                'style',\n                'display: block; visibility:visible; opacity: 1;'\n              );\n          });\n        //\n        //\n        // ^------------------ sending request -----------------^\n      }\n    });\n\n    return form;\n  }\n};\n","/**\n * Zenscroll 4.0.2\n * https://github.com/zengabor/zenscroll/\n *\n * Copyright 2015–2018 Gabor Lenard\n *\n * This is free and unencumbered software released into the public domain.\n * \n * Anyone is free to copy, modify, publish, use, compile, sell, or\n * distribute this software, either in source code form or as a compiled\n * binary, for any purpose, commercial or non-commercial, and by any\n * means.\n * \n * In jurisdictions that recognize copyright laws, the author or authors\n * of this software dedicate any and all copyright interest in the\n * software to the public domain. We make this dedication for the benefit\n * of the public at large and to the detriment of our heirs and\n * successors. We intend this dedication to be an overt act of\n * relinquishment in perpetuity of all present and future rights to this\n * software under copyright law.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n * IN NO EVENT SHALL THE AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR\n * OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n * \n * For more information, please refer to <http://unlicense.org>\n * \n */\n\n/*jshint devel:true, asi:true */\n\n/*global define, module */\n\n\n(function (root, factory) {\n\tif (typeof define === \"function\" && define.amd) {\n\t\tdefine([], factory())\n\t} else if (typeof module === \"object\" && module.exports) {\n\t\tmodule.exports = factory()\n\t} else {\n\t\t(function install() {\n\t\t\t// To make sure Zenscroll can be referenced from the header, before `body` is available\n\t\t\tif (document && document.body) {\n\t\t\t\troot.zenscroll = factory()\n\t\t\t} else {\n\t\t\t\t// retry 9ms later\n\t\t\t\tsetTimeout(install, 9)\n\t\t\t}\n\t\t})()\n\t}\n}(this, function () {\n\t\"use strict\"\n\n\n\t// Detect if the browser already supports native smooth scrolling (e.g., Firefox 36+ and Chrome 49+) and it is enabled:\n\tvar isNativeSmoothScrollEnabledOn = function (elem) {\n\t\treturn elem && \"getComputedStyle\" in window &&\n\t\t\twindow.getComputedStyle(elem)[\"scroll-behavior\"] === \"smooth\"\n\t}\n\n\n\t// Exit if it’s not a browser environment:\n\tif (typeof window === \"undefined\" || !(\"document\" in window)) {\n\t\treturn {}\n\t}\n\n\n\tvar makeScroller = function (container, defaultDuration, edgeOffset) {\n\n\t\t// Use defaults if not provided\n\t\tdefaultDuration = defaultDuration || 999 //ms\n\t\tif (!edgeOffset && edgeOffset !== 0) {\n\t\t\t// When scrolling, this amount of distance is kept from the edges of the container:\n\t\t\tedgeOffset = 9 //px\n\t\t}\n\n\t\t// Handling the life-cycle of the scroller\n\t\tvar scrollTimeoutId\n\t\tvar setScrollTimeoutId = function (newValue) {\n\t\t\tscrollTimeoutId = newValue\n\t\t}\n\n\t\t/**\n\t\t * Stop the current smooth scroll operation immediately\n\t\t */\n\t\tvar stopScroll = function () {\n\t\t\tclearTimeout(scrollTimeoutId)\n\t\t\tsetScrollTimeoutId(0)\n\t\t}\n\n\t\tvar getTopWithEdgeOffset = function (elem) {\n\t\t\treturn Math.max(0, container.getTopOf(elem) - edgeOffset)\n\t\t}\n\n\t\t/**\n\t\t * Scrolls to a specific vertical position in the document.\n\t\t *\n\t\t * @param {targetY} The vertical position within the document.\n\t\t * @param {duration} Optionally the duration of the scroll operation.\n\t\t *        If not provided the default duration is used.\n\t\t * @param {onDone} An optional callback function to be invoked once the scroll finished.\n\t\t */\n\t\tvar scrollToY = function (targetY, duration, onDone) {\n\t\t\tstopScroll()\n\t\t\tif (duration === 0 || (duration && duration < 0) || isNativeSmoothScrollEnabledOn(container.body)) {\n\t\t\t\tcontainer.toY(targetY)\n\t\t\t\tif (onDone) {\n\t\t\t\t\tonDone()\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar startY = container.getY()\n\t\t\t\tvar distance = Math.max(0, targetY) - startY\n\t\t\t\tvar startTime = new Date().getTime()\n\t\t\t\tduration = duration || Math.min(Math.abs(distance), defaultDuration);\n\t\t\t\t(function loopScroll() {\n\t\t\t\t\tsetScrollTimeoutId(setTimeout(function () {\n\t\t\t\t\t\t// Calculate percentage:\n\t\t\t\t\t\tvar p = Math.min(1, (new Date().getTime() - startTime) / duration)\n\t\t\t\t\t\t// Calculate the absolute vertical position:\n\t\t\t\t\t\tvar y = Math.max(0, Math.floor(startY + distance*(p < 0.5 ? 2*p*p : p*(4 - p*2)-1)))\n\t\t\t\t\t\tcontainer.toY(y)\n\t\t\t\t\t\tif (p < 1 && (container.getHeight() + y) < container.body.scrollHeight) {\n\t\t\t\t\t\t\tloopScroll()\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsetTimeout(stopScroll, 99) // with cooldown time\n\t\t\t\t\t\t\tif (onDone) {\n\t\t\t\t\t\t\t\tonDone()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 9))\n\t\t\t\t})()\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Scrolls to the top of a specific element.\n\t\t *\n\t\t * @param {elem} The element to scroll to.\n\t\t * @param {duration} Optionally the duration of the scroll operation.\n\t\t * @param {onDone} An optional callback function to be invoked once the scroll finished.\n\t\t */\n\t\tvar scrollToElem = function (elem, duration, onDone) {\n\t\t\tscrollToY(getTopWithEdgeOffset(elem), duration, onDone)\n\t\t}\n\n\t\t/**\n\t\t * Scrolls an element into view if necessary.\n\t\t *\n\t\t * @param {elem} The element.\n\t\t * @param {duration} Optionally the duration of the scroll operation.\n\t\t * @param {onDone} An optional callback function to be invoked once the scroll finished.\n\t\t */\n\t\tvar scrollIntoView = function (elem, duration, onDone) {\n\t\t\tvar elemHeight = elem.getBoundingClientRect().height\n\t\t\tvar elemBottom = container.getTopOf(elem) + elemHeight\n\t\t\tvar containerHeight = container.getHeight()\n\t\t\tvar y = container.getY()\n\t\t\tvar containerBottom = y + containerHeight\n\t\t\tif (getTopWithEdgeOffset(elem) < y || (elemHeight + edgeOffset) > containerHeight) {\n\t\t\t\t// Element is clipped at top or is higher than screen.\n\t\t\t\tscrollToElem(elem, duration, onDone)\n\t\t\t} else if ((elemBottom + edgeOffset) > containerBottom) {\n\t\t\t\t// Element is clipped at the bottom.\n\t\t\t\tscrollToY(elemBottom - containerHeight + edgeOffset, duration, onDone)\n\t\t\t} else if (onDone) {\n\t\t\t\tonDone()\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Scrolls to the center of an element.\n\t\t *\n\t\t * @param {elem} The element.\n\t\t * @param {duration} Optionally the duration of the scroll operation.\n\t\t * @param {offset} Optionally the offset of the top of the element from the center of the screen.\n\t\t *        A value of 0 is ignored.\n\t\t * @param {onDone} An optional callback function to be invoked once the scroll finished.\n\t\t */\n\t\tvar scrollToCenterOf = function (elem, duration, offset, onDone) {\n\t\t\tscrollToY(Math.max(0, container.getTopOf(elem) - container.getHeight()/2 + (offset || elem.getBoundingClientRect().height/2)), duration, onDone)\n\t\t}\n\n\t\t/**\n\t\t * Changes default settings for this scroller.\n\t\t *\n\t\t * @param {newDefaultDuration} Optionally a new value for default duration, used for each scroll method by default.\n\t\t *        Ignored if null or undefined.\n\t\t * @param {newEdgeOffset} Optionally a new value for the edge offset, used by each scroll method by default. Ignored if null or undefined.\n\t\t * @returns An object with the current values.\n\t\t */\n\t\tvar setup = function (newDefaultDuration, newEdgeOffset) {\n\t\t\tif (newDefaultDuration === 0 || newDefaultDuration) {\n\t\t\t\tdefaultDuration = newDefaultDuration\n\t\t\t}\n\t\t\tif (newEdgeOffset === 0 || newEdgeOffset) {\n\t\t\t\tedgeOffset = newEdgeOffset\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tdefaultDuration: defaultDuration,\n\t\t\t\tedgeOffset: edgeOffset\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tsetup: setup,\n\t\t\tto: scrollToElem,\n\t\t\ttoY: scrollToY,\n\t\t\tintoView: scrollIntoView,\n\t\t\tcenter: scrollToCenterOf,\n\t\t\tstop: stopScroll,\n\t\t\tmoving: function () { return !!scrollTimeoutId },\n\t\t\tgetY: container.getY,\n\t\t\tgetTopOf: container.getTopOf\n\t\t}\n\n\t}\n\n\n\tvar docElem = document.documentElement\n\tvar getDocY = function () { return window.scrollY || docElem.scrollTop }\n\n\t// Create a scroller for the document:\n\tvar zenscroll = makeScroller({\n\t\tbody: document.scrollingElement || document.body,\n\t\ttoY: function (y) { window.scrollTo(0, y) },\n\t\tgetY: getDocY,\n\t\tgetHeight: function () { return window.innerHeight || docElem.clientHeight },\n\t\tgetTopOf: function (elem) { return elem.getBoundingClientRect().top + getDocY() - docElem.offsetTop }\n\t})\n\n\n\t/**\n\t * Creates a scroller from the provided container element (e.g., a DIV)\n\t *\n\t * @param {scrollContainer} The vertical position within the document.\n\t * @param {defaultDuration} Optionally a value for default duration, used for each scroll method by default.\n\t *        Ignored if 0 or null or undefined.\n\t * @param {edgeOffset} Optionally a value for the edge offset, used by each scroll method by default. \n\t *        Ignored if null or undefined.\n\t * @returns A scroller object, similar to `zenscroll` but controlling the provided element.\n\t */\n\tzenscroll.createScroller = function (scrollContainer, defaultDuration, edgeOffset) {\n\t\treturn makeScroller({\n\t\t\tbody: scrollContainer,\n\t\t\ttoY: function (y) { scrollContainer.scrollTop = y },\n\t\t\tgetY: function () { return scrollContainer.scrollTop },\n\t\t\tgetHeight: function () { return Math.min(scrollContainer.clientHeight, window.innerHeight || docElem.clientHeight) },\n\t\t\tgetTopOf: function (elem) { return elem.offsetTop }\n\t\t}, defaultDuration, edgeOffset)\n\t}\n\n\n\t// Automatic link-smoothing on achors\n\t// Exclude IE8- or when native is enabled or Zenscroll auto- is disabled\n\tif (\"addEventListener\" in window && !window.noZensmooth && !isNativeSmoothScrollEnabledOn(document.body)) {\n\n\t\tvar isHistorySupported = \"history\" in window && \"pushState\" in history\n\t\tvar isScrollRestorationSupported = isHistorySupported && \"scrollRestoration\" in history\n\n\t\t// On first load & refresh make sure the browser restores the position first\n\t\tif (isScrollRestorationSupported) {\n\t\t\thistory.scrollRestoration = \"auto\"\n\t\t}\n\n\t\twindow.addEventListener(\"load\", function () {\n\n\t\t\tif (isScrollRestorationSupported) {\n\t\t\t\t// Set it to manual\n\t\t\t\tsetTimeout(function () { history.scrollRestoration = \"manual\" }, 9)\n\t\t\t\twindow.addEventListener(\"popstate\", function (event) {\n\t\t\t\t\tif (event.state && \"zenscrollY\" in event.state) {\n\t\t\t\t\t\tzenscroll.toY(event.state.zenscrollY)\n\t\t\t\t\t}\n\t\t\t\t}, false)\n\t\t\t}\n\n\t\t\t// Add edge offset on first load if necessary\n\t\t\t// This may not work on IE (or older computer?) as it requires more timeout, around 100 ms\n\t\t\tif (window.location.hash) {\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t// Adjustment is only needed if there is an edge offset:\n\t\t\t\t\tvar edgeOffset = zenscroll.setup().edgeOffset\n\t\t\t\t\tif (edgeOffset) {\n\t\t\t\t\t\tvar targetElem = document.getElementById(window.location.href.split(\"#\")[1])\n\t\t\t\t\t\tif (targetElem) {\n\t\t\t\t\t\t\tvar targetY = Math.max(0, zenscroll.getTopOf(targetElem) - edgeOffset)\n\t\t\t\t\t\t\tvar diff = zenscroll.getY() - targetY\n\t\t\t\t\t\t\t// Only do the adjustment if the browser is very close to the element:\n\t\t\t\t\t\t\tif (0 <= diff && diff < 9 ) {\n\t\t\t\t\t\t\t\twindow.scrollTo(0, targetY)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, 9)\n\t\t\t}\n\n\t\t}, false)\n\n\t\t// Handling clicks on anchors\n\t\tvar RE_noZensmooth = new RegExp(\"(^|\\\\s)noZensmooth(\\\\s|$)\")\n\t\twindow.addEventListener(\"click\", function (event) {\n\t\t\tvar anchor = event.target\n\t\t\twhile (anchor && anchor.tagName !== \"A\") {\n\t\t\t\tanchor = anchor.parentNode\n\t\t\t}\n\t\t\t// Let the browser handle the click if it wasn't with the primary button, or with some modifier keys:\n\t\t\tif (!anchor || event.which !== 1 || event.shiftKey || event.metaKey || event.ctrlKey || event.altKey) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\t// Save the current scrolling position so it can be used for scroll restoration:\n\t\t\tif (isScrollRestorationSupported) {\n\t\t\t\tvar historyState = history.state && typeof history.state === \"object\" ? history.state : {}\n\t\t\t\thistoryState.zenscrollY = zenscroll.getY()\n\t\t\t\ttry {\n\t\t\t\t\thistory.replaceState(historyState, \"\")\n\t\t\t\t} catch (e) {\n\t\t\t\t\t// Avoid the Chrome Security exception on file protocol, e.g., file://index.html\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Find the referenced ID:\n\t\t\tvar href = anchor.getAttribute(\"href\") || \"\"\n\t\t\tif (href.indexOf(\"#\") === 0 && !RE_noZensmooth.test(anchor.className)) {\n\t\t\t\tvar targetY = 0\n\t\t\t\tvar targetElem = document.getElementById(href.substring(1))\n\t\t\t\tif (href !== \"#\") {\n\t\t\t\t\tif (!targetElem) {\n\t\t\t\t\t\t// Let the browser handle the click if the target ID is not found.\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\ttargetY = zenscroll.getTopOf(targetElem)\n\t\t\t\t}\n\t\t\t\tevent.preventDefault()\n\t\t\t\t// By default trigger the browser's `hashchange` event...\n\t\t\t\tvar onDone = function () { window.location = href }\n\t\t\t\t// ...unless there is an edge offset specified\n\t\t\t\tvar edgeOffset = zenscroll.setup().edgeOffset\n\t\t\t\tif (edgeOffset) {\n\t\t\t\t\ttargetY = Math.max(0, targetY - edgeOffset)\n\t\t\t\t\tif (isHistorySupported) {\n\t\t\t\t\t\tonDone = function () { history.pushState({}, \"\", href) }\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tzenscroll.toY(targetY, null, onDone)\n\t\t\t}\n\t\t}, false)\n\n\t}\n\n\n\treturn zenscroll\n\n\n}));\n","import '../styles/xmas-main.scss';\nimport './modal';\n//import './snowfall';\nimport './popupNotify';\nimport './dropdownSelector';\nimport { handleFormByID } from './forms-logic';\nimport zenScroll from 'zenscroll';\n\n// Setup forms\nconst callbackForm = handleFormByID('callback-form');\nconst requestForm = handleFormByID('request-form');\n\n// Setup scroll\nzenScroll.setup(null, 0); // setting top offset to zero\n\n// test\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}